function eN(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerpolicy&&(s.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?s.credentials="include":i.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var tN=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function nN(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ac={},rN={get exports(){return Ac},set exports(t){Ac=t}},$f={},T={},iN={get exports(){return T},set exports(t){T=t}},de={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Al=Symbol.for("react.element"),sN=Symbol.for("react.portal"),oN=Symbol.for("react.fragment"),aN=Symbol.for("react.strict_mode"),uN=Symbol.for("react.profiler"),cN=Symbol.for("react.provider"),lN=Symbol.for("react.context"),hN=Symbol.for("react.forward_ref"),dN=Symbol.for("react.suspense"),fN=Symbol.for("react.memo"),pN=Symbol.for("react.lazy"),u_=Symbol.iterator;function mN(t){return t===null||typeof t!="object"?null:(t=u_&&t[u_]||t["@@iterator"],typeof t=="function"?t:null)}var Ib={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},bb=Object.assign,Tb={};function su(t,e,n){this.props=t,this.context=e,this.refs=Tb,this.updater=n||Ib}su.prototype.isReactComponent={};su.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};su.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function kb(){}kb.prototype=su.prototype;function Hv(t,e,n){this.props=t,this.context=e,this.refs=Tb,this.updater=n||Ib}var Wv=Hv.prototype=new kb;Wv.constructor=Hv;bb(Wv,su.prototype);Wv.isPureReactComponent=!0;var c_=Array.isArray,xb=Object.prototype.hasOwnProperty,Kv={current:null},Rb={key:!0,ref:!0,__self:!0,__source:!0};function Cb(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)xb.call(e,r)&&!Rb.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var u=Array(a),c=0;c<a;c++)u[c]=arguments[c+2];i.children=u}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Al,type:t,key:s,ref:o,props:i,_owner:Kv.current}}function gN(t,e){return{$$typeof:Al,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Gv(t){return typeof t=="object"&&t!==null&&t.$$typeof===Al}function yN(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var l_=/\/+/g;function Rm(t,e){return typeof t=="object"&&t!==null&&t.key!=null?yN(""+t.key):e.toString(36)}function Gh(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Al:case sN:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Rm(o,0):r,c_(i)?(n="",t!=null&&(n=t.replace(l_,"$&/")+"/"),Gh(i,e,n,"",function(c){return c})):i!=null&&(Gv(i)&&(i=gN(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(l_,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",c_(t))for(var a=0;a<t.length;a++){s=t[a];var u=r+Rm(s,a);o+=Gh(s,e,n,u,i)}else if(u=mN(t),typeof u=="function")for(t=u.call(t),a=0;!(s=t.next()).done;)s=s.value,u=r+Rm(s,a++),o+=Gh(s,e,n,u,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function gh(t,e,n){if(t==null)return t;var r=[],i=0;return Gh(t,r,"","",function(s){return e.call(n,s,i++)}),r}function vN(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var hn={current:null},Qh={transition:null},wN={ReactCurrentDispatcher:hn,ReactCurrentBatchConfig:Qh,ReactCurrentOwner:Kv};de.Children={map:gh,forEach:function(t,e,n){gh(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return gh(t,function(){e++}),e},toArray:function(t){return gh(t,function(e){return e})||[]},only:function(t){if(!Gv(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};de.Component=su;de.Fragment=oN;de.Profiler=uN;de.PureComponent=Hv;de.StrictMode=aN;de.Suspense=dN;de.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wN;de.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=bb({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Kv.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(u in e)xb.call(e,u)&&!Rb.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&a!==void 0?a[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var c=0;c<u;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Al,type:t.type,key:i,ref:s,props:r,_owner:o}};de.createContext=function(t){return t={$$typeof:lN,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:cN,_context:t},t.Consumer=t};de.createElement=Cb;de.createFactory=function(t){var e=Cb.bind(null,t);return e.type=t,e};de.createRef=function(){return{current:null}};de.forwardRef=function(t){return{$$typeof:hN,render:t}};de.isValidElement=Gv;de.lazy=function(t){return{$$typeof:pN,_payload:{_status:-1,_result:t},_init:vN}};de.memo=function(t,e){return{$$typeof:fN,type:t,compare:e===void 0?null:e}};de.startTransition=function(t){var e=Qh.transition;Qh.transition={};try{t()}finally{Qh.transition=e}};de.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};de.useCallback=function(t,e){return hn.current.useCallback(t,e)};de.useContext=function(t){return hn.current.useContext(t)};de.useDebugValue=function(){};de.useDeferredValue=function(t){return hn.current.useDeferredValue(t)};de.useEffect=function(t,e){return hn.current.useEffect(t,e)};de.useId=function(){return hn.current.useId()};de.useImperativeHandle=function(t,e,n){return hn.current.useImperativeHandle(t,e,n)};de.useInsertionEffect=function(t,e){return hn.current.useInsertionEffect(t,e)};de.useLayoutEffect=function(t,e){return hn.current.useLayoutEffect(t,e)};de.useMemo=function(t,e){return hn.current.useMemo(t,e)};de.useReducer=function(t,e,n){return hn.current.useReducer(t,e,n)};de.useRef=function(t){return hn.current.useRef(t)};de.useState=function(t){return hn.current.useState(t)};de.useSyncExternalStore=function(t,e,n){return hn.current.useSyncExternalStore(t,e,n)};de.useTransition=function(){return hn.current.useTransition()};de.version="18.2.0";(function(t){t.exports=de})(iN);const me=nN(T),Oc=eN({__proto__:null,default:me},[T]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _N=T,SN=Symbol.for("react.element"),EN=Symbol.for("react.fragment"),IN=Object.prototype.hasOwnProperty,bN=_N.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,TN={key:!0,ref:!0,__self:!0,__source:!0};function Pb(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)IN.call(e,r)&&!TN.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:SN,type:t,key:s,ref:o,props:i,_owner:bN.current}}$f.Fragment=EN;$f.jsx=Pb;$f.jsxs=Pb;(function(t){t.exports=$f})(rN);const io=Ac.Fragment,$=Ac.jsx,re=Ac.jsxs;var jg={},Vg={},kN={get exports(){return Vg},set exports(t){Vg=t}},Vn={},Bg={},xN={get exports(){return Bg},set exports(t){Bg=t}},Ab={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(P,j){var M=P.length;P.push(j);e:for(;0<M;){var V=M-1>>>1,X=P[V];if(0<i(X,j))P[V]=j,P[M]=X,M=V;else break e}}function n(P){return P.length===0?null:P[0]}function r(P){if(P.length===0)return null;var j=P[0],M=P.pop();if(M!==j){P[0]=M;e:for(var V=0,X=P.length,fe=X>>>1;V<fe;){var Be=2*(V+1)-1,qe=P[Be],Hn=Be+1,E=P[Hn];if(0>i(qe,M))Hn<X&&0>i(E,qe)?(P[V]=E,P[Hn]=M,V=Hn):(P[V]=qe,P[Be]=M,V=Be);else if(Hn<X&&0>i(E,M))P[V]=E,P[Hn]=M,V=Hn;else break e}}return j}function i(P,j){var M=P.sortIndex-j.sortIndex;return M!==0?M:P.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var u=[],c=[],l=1,h=null,d=3,f=!1,p=!1,m=!1,w=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(P){for(var j=n(c);j!==null;){if(j.callback===null)r(c);else if(j.startTime<=P)r(c),j.sortIndex=j.expirationTime,e(u,j);else break;j=n(c)}}function _(P){if(m=!1,v(P),!p)if(n(u)!==null)p=!0,gr(k);else{var j=n(c);j!==null&&q(_,j.startTime-P)}}function k(P,j){p=!1,m&&(m=!1,y(U),U=-1),f=!0;var M=d;try{for(v(j),h=n(u);h!==null&&(!(h.expirationTime>j)||P&&!Re());){var V=h.callback;if(typeof V=="function"){h.callback=null,d=h.priorityLevel;var X=V(h.expirationTime<=j);j=t.unstable_now(),typeof X=="function"?h.callback=X:h===n(u)&&r(u),v(j)}else r(u);h=n(u)}if(h!==null)var fe=!0;else{var Be=n(c);Be!==null&&q(_,Be.startTime-j),fe=!1}return fe}finally{h=null,d=M,f=!1}}var x=!1,R=null,U=-1,G=5,Y=-1;function Re(){return!(t.unstable_now()-Y<G)}function vt(){if(R!==null){var P=t.unstable_now();Y=P;var j=!0;try{j=R(!0,P)}finally{j?fn():(x=!1,R=null)}}else x=!1}var fn;if(typeof g=="function")fn=function(){g(vt)};else if(typeof MessageChannel<"u"){var zn=new MessageChannel,Cs=zn.port2;zn.port1.onmessage=vt,fn=function(){Cs.postMessage(null)}}else fn=function(){w(vt,0)};function gr(P){R=P,x||(x=!0,fn())}function q(P,j){U=w(function(){P(t.unstable_now())},j)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(P){P.callback=null},t.unstable_continueExecution=function(){p||f||(p=!0,gr(k))},t.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):G=0<P?Math.floor(1e3/P):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(P){switch(d){case 1:case 2:case 3:var j=3;break;default:j=d}var M=d;d=j;try{return P()}finally{d=M}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(P,j){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var M=d;d=P;try{return j()}finally{d=M}},t.unstable_scheduleCallback=function(P,j,M){var V=t.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?V+M:V):M=V,P){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=M+X,P={id:l++,callback:j,priorityLevel:P,startTime:M,expirationTime:X,sortIndex:-1},M>V?(P.sortIndex=M,e(c,P),n(u)===null&&P===n(c)&&(m?(y(U),U=-1):m=!0,q(_,M-V))):(P.sortIndex=X,e(u,P),p||f||(p=!0,gr(k))),P},t.unstable_shouldYield=Re,t.unstable_wrapCallback=function(P){var j=d;return function(){var M=d;d=j;try{return P.apply(this,arguments)}finally{d=M}}}})(Ab);(function(t){t.exports=Ab})(xN);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ob=T,Mn=Bg;function N(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Nb=new Set,Nc={};function To(t,e){ka(t,e),ka(t+"Capture",e)}function ka(t,e){for(Nc[t]=e,t=0;t<e.length;t++)Nb.add(e[t])}var ci=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qg=Object.prototype.hasOwnProperty,RN=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h_={},d_={};function CN(t){return qg.call(d_,t)?!0:qg.call(h_,t)?!1:RN.test(t)?d_[t]=!0:(h_[t]=!0,!1)}function PN(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function AN(t,e,n,r){if(e===null||typeof e>"u"||PN(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function dn(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Mt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Mt[t]=new dn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Mt[e]=new dn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Mt[t]=new dn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Mt[t]=new dn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Mt[t]=new dn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Mt[t]=new dn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Mt[t]=new dn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Mt[t]=new dn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Mt[t]=new dn(t,5,!1,t.toLowerCase(),null,!1,!1)});var Qv=/[\-:]([a-z])/g;function Yv(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Qv,Yv);Mt[e]=new dn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Qv,Yv);Mt[e]=new dn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Qv,Yv);Mt[e]=new dn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Mt[t]=new dn(t,1,!1,t.toLowerCase(),null,!1,!1)});Mt.xlinkHref=new dn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Mt[t]=new dn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Xv(t,e,n,r){var i=Mt.hasOwnProperty(e)?Mt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(AN(e,n,i,r)&&(n=null),r||i===null?CN(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var wi=Ob.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,yh=Symbol.for("react.element"),Jo=Symbol.for("react.portal"),Zo=Symbol.for("react.fragment"),Jv=Symbol.for("react.strict_mode"),zg=Symbol.for("react.profiler"),Db=Symbol.for("react.provider"),Fb=Symbol.for("react.context"),Zv=Symbol.for("react.forward_ref"),Hg=Symbol.for("react.suspense"),Wg=Symbol.for("react.suspense_list"),e0=Symbol.for("react.memo"),Fi=Symbol.for("react.lazy"),$b=Symbol.for("react.offscreen"),f_=Symbol.iterator;function xu(t){return t===null||typeof t!="object"?null:(t=f_&&t[f_]||t["@@iterator"],typeof t=="function"?t:null)}var We=Object.assign,Cm;function Xu(t){if(Cm===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Cm=e&&e[1]||""}return`
`+Cm+t}var Pm=!1;function Am(t,e){if(!t||Pm)return"";Pm=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var u=`
`+i[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=a);break}}}finally{Pm=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Xu(t):""}function ON(t){switch(t.tag){case 5:return Xu(t.type);case 16:return Xu("Lazy");case 13:return Xu("Suspense");case 19:return Xu("SuspenseList");case 0:case 2:case 15:return t=Am(t.type,!1),t;case 11:return t=Am(t.type.render,!1),t;case 1:return t=Am(t.type,!0),t;default:return""}}function Kg(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Zo:return"Fragment";case Jo:return"Portal";case zg:return"Profiler";case Jv:return"StrictMode";case Hg:return"Suspense";case Wg:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Fb:return(t.displayName||"Context")+".Consumer";case Db:return(t._context.displayName||"Context")+".Provider";case Zv:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case e0:return e=t.displayName||null,e!==null?e:Kg(t.type)||"Memo";case Fi:e=t._payload,t=t._init;try{return Kg(t(e))}catch{}}return null}function NN(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Kg(e);case 8:return e===Jv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ss(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Lb(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function DN(t){var e=Lb(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function vh(t){t._valueTracker||(t._valueTracker=DN(t))}function Mb(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Lb(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Sd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Gg(t,e){var n=e.checked;return We({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function p_(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ss(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Ub(t,e){e=e.checked,e!=null&&Xv(t,"checked",e,!1)}function Qg(t,e){Ub(t,e);var n=ss(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Yg(t,e.type,n):e.hasOwnProperty("defaultValue")&&Yg(t,e.type,ss(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function m_(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Yg(t,e,n){(e!=="number"||Sd(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ju=Array.isArray;function da(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ss(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Xg(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(N(91));return We({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function g_(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(N(92));if(Ju(n)){if(1<n.length)throw Error(N(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ss(n)}}function jb(t,e){var n=ss(e.value),r=ss(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function y_(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Vb(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Jg(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Vb(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var wh,Bb=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(wh=wh||document.createElement("div"),wh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=wh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Dc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var uc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},FN=["Webkit","ms","Moz","O"];Object.keys(uc).forEach(function(t){FN.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),uc[e]=uc[t]})});function qb(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||uc.hasOwnProperty(t)&&uc[t]?(""+e).trim():e+"px"}function zb(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=qb(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var $N=We({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Zg(t,e){if(e){if($N[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(N(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(N(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(N(61))}if(e.style!=null&&typeof e.style!="object")throw Error(N(62))}}function ey(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ty=null;function t0(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ny=null,fa=null,pa=null;function v_(t){if(t=Dl(t)){if(typeof ny!="function")throw Error(N(280));var e=t.stateNode;e&&(e=Vf(e),ny(t.stateNode,t.type,e))}}function Hb(t){fa?pa?pa.push(t):pa=[t]:fa=t}function Wb(){if(fa){var t=fa,e=pa;if(pa=fa=null,v_(t),e)for(t=0;t<e.length;t++)v_(e[t])}}function Kb(t,e){return t(e)}function Gb(){}var Om=!1;function Qb(t,e,n){if(Om)return t(e,n);Om=!0;try{return Kb(t,e,n)}finally{Om=!1,(fa!==null||pa!==null)&&(Gb(),Wb())}}function Fc(t,e){var n=t.stateNode;if(n===null)return null;var r=Vf(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(N(231,e,typeof n));return n}var ry=!1;if(ci)try{var Ru={};Object.defineProperty(Ru,"passive",{get:function(){ry=!0}}),window.addEventListener("test",Ru,Ru),window.removeEventListener("test",Ru,Ru)}catch{ry=!1}function LN(t,e,n,r,i,s,o,a,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(l){this.onError(l)}}var cc=!1,Ed=null,Id=!1,iy=null,MN={onError:function(t){cc=!0,Ed=t}};function UN(t,e,n,r,i,s,o,a,u){cc=!1,Ed=null,LN.apply(MN,arguments)}function jN(t,e,n,r,i,s,o,a,u){if(UN.apply(this,arguments),cc){if(cc){var c=Ed;cc=!1,Ed=null}else throw Error(N(198));Id||(Id=!0,iy=c)}}function ko(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Yb(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function w_(t){if(ko(t)!==t)throw Error(N(188))}function VN(t){var e=t.alternate;if(!e){if(e=ko(t),e===null)throw Error(N(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return w_(i),t;if(s===r)return w_(i),e;s=s.sibling}throw Error(N(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(N(189))}}if(n.alternate!==r)throw Error(N(190))}if(n.tag!==3)throw Error(N(188));return n.stateNode.current===n?t:e}function Xb(t){return t=VN(t),t!==null?Jb(t):null}function Jb(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Jb(t);if(e!==null)return e;t=t.sibling}return null}var Zb=Mn.unstable_scheduleCallback,__=Mn.unstable_cancelCallback,BN=Mn.unstable_shouldYield,qN=Mn.unstable_requestPaint,it=Mn.unstable_now,zN=Mn.unstable_getCurrentPriorityLevel,n0=Mn.unstable_ImmediatePriority,eT=Mn.unstable_UserBlockingPriority,bd=Mn.unstable_NormalPriority,HN=Mn.unstable_LowPriority,tT=Mn.unstable_IdlePriority,Lf=null,Fr=null;function WN(t){if(Fr&&typeof Fr.onCommitFiberRoot=="function")try{Fr.onCommitFiberRoot(Lf,t,void 0,(t.current.flags&128)===128)}catch{}}var cr=Math.clz32?Math.clz32:QN,KN=Math.log,GN=Math.LN2;function QN(t){return t>>>=0,t===0?32:31-(KN(t)/GN|0)|0}var _h=64,Sh=4194304;function Zu(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Td(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Zu(a):(s&=o,s!==0&&(r=Zu(s)))}else o=n&~i,o!==0?r=Zu(o):s!==0&&(r=Zu(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-cr(e),i=1<<n,r|=t[n],e&=~i;return r}function YN(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function XN(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-cr(s),a=1<<o,u=i[o];u===-1?(!(a&n)||a&r)&&(i[o]=YN(a,e)):u<=e&&(t.expiredLanes|=a),s&=~a}}function sy(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function nT(){var t=_h;return _h<<=1,!(_h&4194240)&&(_h=64),t}function Nm(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ol(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-cr(e),t[e]=n}function JN(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-cr(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function r0(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-cr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Te=0;function rT(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var iT,i0,sT,oT,aT,oy=!1,Eh=[],Ki=null,Gi=null,Qi=null,$c=new Map,Lc=new Map,Li=[],ZN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function S_(t,e){switch(t){case"focusin":case"focusout":Ki=null;break;case"dragenter":case"dragleave":Gi=null;break;case"mouseover":case"mouseout":Qi=null;break;case"pointerover":case"pointerout":$c.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Lc.delete(e.pointerId)}}function Cu(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Dl(e),e!==null&&i0(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function eD(t,e,n,r,i){switch(e){case"focusin":return Ki=Cu(Ki,t,e,n,r,i),!0;case"dragenter":return Gi=Cu(Gi,t,e,n,r,i),!0;case"mouseover":return Qi=Cu(Qi,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return $c.set(s,Cu($c.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Lc.set(s,Cu(Lc.get(s)||null,t,e,n,r,i)),!0}return!1}function uT(t){var e=Bs(t.target);if(e!==null){var n=ko(e);if(n!==null){if(e=n.tag,e===13){if(e=Yb(n),e!==null){t.blockedOn=e,aT(t.priority,function(){sT(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Yh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=ay(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);ty=r,n.target.dispatchEvent(r),ty=null}else return e=Dl(n),e!==null&&i0(e),t.blockedOn=n,!1;e.shift()}return!0}function E_(t,e,n){Yh(t)&&n.delete(e)}function tD(){oy=!1,Ki!==null&&Yh(Ki)&&(Ki=null),Gi!==null&&Yh(Gi)&&(Gi=null),Qi!==null&&Yh(Qi)&&(Qi=null),$c.forEach(E_),Lc.forEach(E_)}function Pu(t,e){t.blockedOn===e&&(t.blockedOn=null,oy||(oy=!0,Mn.unstable_scheduleCallback(Mn.unstable_NormalPriority,tD)))}function Mc(t){function e(i){return Pu(i,t)}if(0<Eh.length){Pu(Eh[0],t);for(var n=1;n<Eh.length;n++){var r=Eh[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ki!==null&&Pu(Ki,t),Gi!==null&&Pu(Gi,t),Qi!==null&&Pu(Qi,t),$c.forEach(e),Lc.forEach(e),n=0;n<Li.length;n++)r=Li[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Li.length&&(n=Li[0],n.blockedOn===null);)uT(n),n.blockedOn===null&&Li.shift()}var ma=wi.ReactCurrentBatchConfig,kd=!0;function nD(t,e,n,r){var i=Te,s=ma.transition;ma.transition=null;try{Te=1,s0(t,e,n,r)}finally{Te=i,ma.transition=s}}function rD(t,e,n,r){var i=Te,s=ma.transition;ma.transition=null;try{Te=4,s0(t,e,n,r)}finally{Te=i,ma.transition=s}}function s0(t,e,n,r){if(kd){var i=ay(t,e,n,r);if(i===null)qm(t,e,r,xd,n),S_(t,r);else if(eD(i,t,e,n,r))r.stopPropagation();else if(S_(t,r),e&4&&-1<ZN.indexOf(t)){for(;i!==null;){var s=Dl(i);if(s!==null&&iT(s),s=ay(t,e,n,r),s===null&&qm(t,e,r,xd,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else qm(t,e,r,null,n)}}var xd=null;function ay(t,e,n,r){if(xd=null,t=t0(r),t=Bs(t),t!==null)if(e=ko(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Yb(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return xd=t,null}function cT(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(zN()){case n0:return 1;case eT:return 4;case bd:case HN:return 16;case tT:return 536870912;default:return 16}default:return 16}}var Vi=null,o0=null,Xh=null;function lT(){if(Xh)return Xh;var t,e=o0,n=e.length,r,i="value"in Vi?Vi.value:Vi.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Xh=i.slice(t,1<r?1-r:void 0)}function Jh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ih(){return!0}function I_(){return!1}function Bn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Ih:I_,this.isPropagationStopped=I_,this}return We(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ih)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ih)},persist:function(){},isPersistent:Ih}),e}var ou={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},a0=Bn(ou),Nl=We({},ou,{view:0,detail:0}),iD=Bn(Nl),Dm,Fm,Au,Mf=We({},Nl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:u0,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Au&&(Au&&t.type==="mousemove"?(Dm=t.screenX-Au.screenX,Fm=t.screenY-Au.screenY):Fm=Dm=0,Au=t),Dm)},movementY:function(t){return"movementY"in t?t.movementY:Fm}}),b_=Bn(Mf),sD=We({},Mf,{dataTransfer:0}),oD=Bn(sD),aD=We({},Nl,{relatedTarget:0}),$m=Bn(aD),uD=We({},ou,{animationName:0,elapsedTime:0,pseudoElement:0}),cD=Bn(uD),lD=We({},ou,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),hD=Bn(lD),dD=We({},ou,{data:0}),T_=Bn(dD),fD={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pD={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mD={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gD(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=mD[t])?!!e[t]:!1}function u0(){return gD}var yD=We({},Nl,{key:function(t){if(t.key){var e=fD[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Jh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?pD[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:u0,charCode:function(t){return t.type==="keypress"?Jh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Jh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),vD=Bn(yD),wD=We({},Mf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),k_=Bn(wD),_D=We({},Nl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:u0}),SD=Bn(_D),ED=We({},ou,{propertyName:0,elapsedTime:0,pseudoElement:0}),ID=Bn(ED),bD=We({},Mf,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),TD=Bn(bD),kD=[9,13,27,32],c0=ci&&"CompositionEvent"in window,lc=null;ci&&"documentMode"in document&&(lc=document.documentMode);var xD=ci&&"TextEvent"in window&&!lc,hT=ci&&(!c0||lc&&8<lc&&11>=lc),x_=String.fromCharCode(32),R_=!1;function dT(t,e){switch(t){case"keyup":return kD.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fT(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ea=!1;function RD(t,e){switch(t){case"compositionend":return fT(e);case"keypress":return e.which!==32?null:(R_=!0,x_);case"textInput":return t=e.data,t===x_&&R_?null:t;default:return null}}function CD(t,e){if(ea)return t==="compositionend"||!c0&&dT(t,e)?(t=lT(),Xh=o0=Vi=null,ea=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return hT&&e.locale!=="ko"?null:e.data;default:return null}}var PD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function C_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!PD[t.type]:e==="textarea"}function pT(t,e,n,r){Hb(r),e=Rd(e,"onChange"),0<e.length&&(n=new a0("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var hc=null,Uc=null;function AD(t){TT(t,0)}function Uf(t){var e=ra(t);if(Mb(e))return t}function OD(t,e){if(t==="change")return e}var mT=!1;if(ci){var Lm;if(ci){var Mm="oninput"in document;if(!Mm){var P_=document.createElement("div");P_.setAttribute("oninput","return;"),Mm=typeof P_.oninput=="function"}Lm=Mm}else Lm=!1;mT=Lm&&(!document.documentMode||9<document.documentMode)}function A_(){hc&&(hc.detachEvent("onpropertychange",gT),Uc=hc=null)}function gT(t){if(t.propertyName==="value"&&Uf(Uc)){var e=[];pT(e,Uc,t,t0(t)),Qb(AD,e)}}function ND(t,e,n){t==="focusin"?(A_(),hc=e,Uc=n,hc.attachEvent("onpropertychange",gT)):t==="focusout"&&A_()}function DD(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Uf(Uc)}function FD(t,e){if(t==="click")return Uf(e)}function $D(t,e){if(t==="input"||t==="change")return Uf(e)}function LD(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var fr=typeof Object.is=="function"?Object.is:LD;function jc(t,e){if(fr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!qg.call(e,i)||!fr(t[i],e[i]))return!1}return!0}function O_(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function N_(t,e){var n=O_(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=O_(n)}}function yT(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?yT(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function vT(){for(var t=window,e=Sd();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Sd(t.document)}return e}function l0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function MD(t){var e=vT(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&yT(n.ownerDocument.documentElement,n)){if(r!==null&&l0(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=N_(n,s);var o=N_(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var UD=ci&&"documentMode"in document&&11>=document.documentMode,ta=null,uy=null,dc=null,cy=!1;function D_(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;cy||ta==null||ta!==Sd(r)||(r=ta,"selectionStart"in r&&l0(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),dc&&jc(dc,r)||(dc=r,r=Rd(uy,"onSelect"),0<r.length&&(e=new a0("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ta)))}function bh(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var na={animationend:bh("Animation","AnimationEnd"),animationiteration:bh("Animation","AnimationIteration"),animationstart:bh("Animation","AnimationStart"),transitionend:bh("Transition","TransitionEnd")},Um={},wT={};ci&&(wT=document.createElement("div").style,"AnimationEvent"in window||(delete na.animationend.animation,delete na.animationiteration.animation,delete na.animationstart.animation),"TransitionEvent"in window||delete na.transitionend.transition);function jf(t){if(Um[t])return Um[t];if(!na[t])return t;var e=na[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in wT)return Um[t]=e[n];return t}var _T=jf("animationend"),ST=jf("animationiteration"),ET=jf("animationstart"),IT=jf("transitionend"),bT=new Map,F_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ys(t,e){bT.set(t,e),To(e,[t])}for(var jm=0;jm<F_.length;jm++){var Vm=F_[jm],jD=Vm.toLowerCase(),VD=Vm[0].toUpperCase()+Vm.slice(1);ys(jD,"on"+VD)}ys(_T,"onAnimationEnd");ys(ST,"onAnimationIteration");ys(ET,"onAnimationStart");ys("dblclick","onDoubleClick");ys("focusin","onFocus");ys("focusout","onBlur");ys(IT,"onTransitionEnd");ka("onMouseEnter",["mouseout","mouseover"]);ka("onMouseLeave",["mouseout","mouseover"]);ka("onPointerEnter",["pointerout","pointerover"]);ka("onPointerLeave",["pointerout","pointerover"]);To("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));To("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));To("onBeforeInput",["compositionend","keypress","textInput","paste"]);To("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));To("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));To("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ec="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),BD=new Set("cancel close invalid load scroll toggle".split(" ").concat(ec));function $_(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,jN(r,e,void 0,t),t.currentTarget=null}function TT(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],u=a.instance,c=a.currentTarget;if(a=a.listener,u!==s&&i.isPropagationStopped())break e;$_(i,a,c),s=u}else for(o=0;o<r.length;o++){if(a=r[o],u=a.instance,c=a.currentTarget,a=a.listener,u!==s&&i.isPropagationStopped())break e;$_(i,a,c),s=u}}}if(Id)throw t=iy,Id=!1,iy=null,t}function Ae(t,e){var n=e[py];n===void 0&&(n=e[py]=new Set);var r=t+"__bubble";n.has(r)||(kT(e,t,2,!1),n.add(r))}function Bm(t,e,n){var r=0;e&&(r|=4),kT(n,t,r,e)}var Th="_reactListening"+Math.random().toString(36).slice(2);function Vc(t){if(!t[Th]){t[Th]=!0,Nb.forEach(function(n){n!=="selectionchange"&&(BD.has(n)||Bm(n,!1,t),Bm(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Th]||(e[Th]=!0,Bm("selectionchange",!1,e))}}function kT(t,e,n,r){switch(cT(e)){case 1:var i=nD;break;case 4:i=rD;break;default:i=s0}n=i.bind(null,e,n,t),i=void 0,!ry||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function qm(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Bs(a),o===null)return;if(u=o.tag,u===5||u===6){r=s=o;continue e}a=a.parentNode}}r=r.return}Qb(function(){var c=s,l=t0(n),h=[];e:{var d=bT.get(t);if(d!==void 0){var f=a0,p=t;switch(t){case"keypress":if(Jh(n)===0)break e;case"keydown":case"keyup":f=vD;break;case"focusin":p="focus",f=$m;break;case"focusout":p="blur",f=$m;break;case"beforeblur":case"afterblur":f=$m;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=b_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=oD;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=SD;break;case _T:case ST:case ET:f=cD;break;case IT:f=ID;break;case"scroll":f=iD;break;case"wheel":f=TD;break;case"copy":case"cut":case"paste":f=hD;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=k_}var m=(e&4)!==0,w=!m&&t==="scroll",y=m?d!==null?d+"Capture":null:d;m=[];for(var g=c,v;g!==null;){v=g;var _=v.stateNode;if(v.tag===5&&_!==null&&(v=_,y!==null&&(_=Fc(g,y),_!=null&&m.push(Bc(g,_,v)))),w)break;g=g.return}0<m.length&&(d=new f(d,p,null,n,l),h.push({event:d,listeners:m}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",d&&n!==ty&&(p=n.relatedTarget||n.fromElement)&&(Bs(p)||p[li]))break e;if((f||d)&&(d=l.window===l?l:(d=l.ownerDocument)?d.defaultView||d.parentWindow:window,f?(p=n.relatedTarget||n.toElement,f=c,p=p?Bs(p):null,p!==null&&(w=ko(p),p!==w||p.tag!==5&&p.tag!==6)&&(p=null)):(f=null,p=c),f!==p)){if(m=b_,_="onMouseLeave",y="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(m=k_,_="onPointerLeave",y="onPointerEnter",g="pointer"),w=f==null?d:ra(f),v=p==null?d:ra(p),d=new m(_,g+"leave",f,n,l),d.target=w,d.relatedTarget=v,_=null,Bs(l)===c&&(m=new m(y,g+"enter",p,n,l),m.target=v,m.relatedTarget=w,_=m),w=_,f&&p)t:{for(m=f,y=p,g=0,v=m;v;v=Lo(v))g++;for(v=0,_=y;_;_=Lo(_))v++;for(;0<g-v;)m=Lo(m),g--;for(;0<v-g;)y=Lo(y),v--;for(;g--;){if(m===y||y!==null&&m===y.alternate)break t;m=Lo(m),y=Lo(y)}m=null}else m=null;f!==null&&L_(h,d,f,m,!1),p!==null&&w!==null&&L_(h,w,p,m,!0)}}e:{if(d=c?ra(c):window,f=d.nodeName&&d.nodeName.toLowerCase(),f==="select"||f==="input"&&d.type==="file")var k=OD;else if(C_(d))if(mT)k=$D;else{k=DD;var x=ND}else(f=d.nodeName)&&f.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(k=FD);if(k&&(k=k(t,c))){pT(h,k,n,l);break e}x&&x(t,d,c),t==="focusout"&&(x=d._wrapperState)&&x.controlled&&d.type==="number"&&Yg(d,"number",d.value)}switch(x=c?ra(c):window,t){case"focusin":(C_(x)||x.contentEditable==="true")&&(ta=x,uy=c,dc=null);break;case"focusout":dc=uy=ta=null;break;case"mousedown":cy=!0;break;case"contextmenu":case"mouseup":case"dragend":cy=!1,D_(h,n,l);break;case"selectionchange":if(UD)break;case"keydown":case"keyup":D_(h,n,l)}var R;if(c0)e:{switch(t){case"compositionstart":var U="onCompositionStart";break e;case"compositionend":U="onCompositionEnd";break e;case"compositionupdate":U="onCompositionUpdate";break e}U=void 0}else ea?dT(t,n)&&(U="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(U="onCompositionStart");U&&(hT&&n.locale!=="ko"&&(ea||U!=="onCompositionStart"?U==="onCompositionEnd"&&ea&&(R=lT()):(Vi=l,o0="value"in Vi?Vi.value:Vi.textContent,ea=!0)),x=Rd(c,U),0<x.length&&(U=new T_(U,t,null,n,l),h.push({event:U,listeners:x}),R?U.data=R:(R=fT(n),R!==null&&(U.data=R)))),(R=xD?RD(t,n):CD(t,n))&&(c=Rd(c,"onBeforeInput"),0<c.length&&(l=new T_("onBeforeInput","beforeinput",null,n,l),h.push({event:l,listeners:c}),l.data=R))}TT(h,e)})}function Bc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Rd(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Fc(t,n),s!=null&&r.unshift(Bc(t,s,i)),s=Fc(t,e),s!=null&&r.push(Bc(t,s,i))),t=t.return}return r}function Lo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function L_(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,u=a.alternate,c=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&c!==null&&(a=c,i?(u=Fc(n,s),u!=null&&o.unshift(Bc(n,u,a))):i||(u=Fc(n,s),u!=null&&o.push(Bc(n,u,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var qD=/\r\n?/g,zD=/\u0000|\uFFFD/g;function M_(t){return(typeof t=="string"?t:""+t).replace(qD,`
`).replace(zD,"")}function kh(t,e,n){if(e=M_(e),M_(t)!==e&&n)throw Error(N(425))}function Cd(){}var ly=null,hy=null;function dy(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var fy=typeof setTimeout=="function"?setTimeout:void 0,HD=typeof clearTimeout=="function"?clearTimeout:void 0,U_=typeof Promise=="function"?Promise:void 0,WD=typeof queueMicrotask=="function"?queueMicrotask:typeof U_<"u"?function(t){return U_.resolve(null).then(t).catch(KD)}:fy;function KD(t){setTimeout(function(){throw t})}function zm(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Mc(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Mc(e)}function Yi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function j_(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var au=Math.random().toString(36).slice(2),br="__reactFiber$"+au,qc="__reactProps$"+au,li="__reactContainer$"+au,py="__reactEvents$"+au,GD="__reactListeners$"+au,QD="__reactHandles$"+au;function Bs(t){var e=t[br];if(e)return e;for(var n=t.parentNode;n;){if(e=n[li]||n[br]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=j_(t);t!==null;){if(n=t[br])return n;t=j_(t)}return e}t=n,n=t.parentNode}return null}function Dl(t){return t=t[br]||t[li],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ra(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(N(33))}function Vf(t){return t[qc]||null}var my=[],ia=-1;function vs(t){return{current:t}}function Ne(t){0>ia||(t.current=my[ia],my[ia]=null,ia--)}function Pe(t,e){ia++,my[ia]=t.current,t.current=e}var os={},Jt=vs(os),En=vs(!1),so=os;function xa(t,e){var n=t.type.contextTypes;if(!n)return os;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function In(t){return t=t.childContextTypes,t!=null}function Pd(){Ne(En),Ne(Jt)}function V_(t,e,n){if(Jt.current!==os)throw Error(N(168));Pe(Jt,e),Pe(En,n)}function xT(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(N(108,NN(t)||"Unknown",i));return We({},n,r)}function Ad(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||os,so=Jt.current,Pe(Jt,t),Pe(En,En.current),!0}function B_(t,e,n){var r=t.stateNode;if(!r)throw Error(N(169));n?(t=xT(t,e,so),r.__reactInternalMemoizedMergedChildContext=t,Ne(En),Ne(Jt),Pe(Jt,t)):Ne(En),Pe(En,n)}var Gr=null,Bf=!1,Hm=!1;function RT(t){Gr===null?Gr=[t]:Gr.push(t)}function YD(t){Bf=!0,RT(t)}function ws(){if(!Hm&&Gr!==null){Hm=!0;var t=0,e=Te;try{var n=Gr;for(Te=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Gr=null,Bf=!1}catch(i){throw Gr!==null&&(Gr=Gr.slice(t+1)),Zb(n0,ws),i}finally{Te=e,Hm=!1}}return null}var sa=[],oa=0,Od=null,Nd=0,Wn=[],Kn=0,oo=null,Jr=1,Zr="";function As(t,e){sa[oa++]=Nd,sa[oa++]=Od,Od=t,Nd=e}function CT(t,e,n){Wn[Kn++]=Jr,Wn[Kn++]=Zr,Wn[Kn++]=oo,oo=t;var r=Jr;t=Zr;var i=32-cr(r)-1;r&=~(1<<i),n+=1;var s=32-cr(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Jr=1<<32-cr(e)+i|n<<i|r,Zr=s+t}else Jr=1<<s|n<<i|r,Zr=t}function h0(t){t.return!==null&&(As(t,1),CT(t,1,0))}function d0(t){for(;t===Od;)Od=sa[--oa],sa[oa]=null,Nd=sa[--oa],sa[oa]=null;for(;t===oo;)oo=Wn[--Kn],Wn[Kn]=null,Zr=Wn[--Kn],Wn[Kn]=null,Jr=Wn[--Kn],Wn[Kn]=null}var Fn=null,Nn=null,Me=!1,ar=null;function PT(t,e){var n=Gn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function q_(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Fn=t,Nn=Yi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Fn=t,Nn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=oo!==null?{id:Jr,overflow:Zr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Gn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Fn=t,Nn=null,!0):!1;default:return!1}}function gy(t){return(t.mode&1)!==0&&(t.flags&128)===0}function yy(t){if(Me){var e=Nn;if(e){var n=e;if(!q_(t,e)){if(gy(t))throw Error(N(418));e=Yi(n.nextSibling);var r=Fn;e&&q_(t,e)?PT(r,n):(t.flags=t.flags&-4097|2,Me=!1,Fn=t)}}else{if(gy(t))throw Error(N(418));t.flags=t.flags&-4097|2,Me=!1,Fn=t}}}function z_(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Fn=t}function xh(t){if(t!==Fn)return!1;if(!Me)return z_(t),Me=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!dy(t.type,t.memoizedProps)),e&&(e=Nn)){if(gy(t))throw AT(),Error(N(418));for(;e;)PT(t,e),e=Yi(e.nextSibling)}if(z_(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(N(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Nn=Yi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Nn=null}}else Nn=Fn?Yi(t.stateNode.nextSibling):null;return!0}function AT(){for(var t=Nn;t;)t=Yi(t.nextSibling)}function Ra(){Nn=Fn=null,Me=!1}function f0(t){ar===null?ar=[t]:ar.push(t)}var XD=wi.ReactCurrentBatchConfig;function sr(t,e){if(t&&t.defaultProps){e=We({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Dd=vs(null),Fd=null,aa=null,p0=null;function m0(){p0=aa=Fd=null}function g0(t){var e=Dd.current;Ne(Dd),t._currentValue=e}function vy(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ga(t,e){Fd=t,p0=aa=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(vn=!0),t.firstContext=null)}function Zn(t){var e=t._currentValue;if(p0!==t)if(t={context:t,memoizedValue:e,next:null},aa===null){if(Fd===null)throw Error(N(308));aa=t,Fd.dependencies={lanes:0,firstContext:t}}else aa=aa.next=t;return e}var qs=null;function y0(t){qs===null?qs=[t]:qs.push(t)}function OT(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,y0(e)):(n.next=i.next,i.next=n),e.interleaved=n,hi(t,r)}function hi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var $i=!1;function v0(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function NT(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ri(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Xi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ve&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,hi(t,n)}return i=r.interleaved,i===null?(e.next=e,y0(r)):(e.next=i.next,i.next=e),r.interleaved=e,hi(t,n)}function Zh(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,r0(t,n)}}function H_(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function $d(t,e,n,r){var i=t.updateQueue;$i=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var u=a,c=u.next;u.next=null,o===null?s=c:o.next=c,o=u;var l=t.alternate;l!==null&&(l=l.updateQueue,a=l.lastBaseUpdate,a!==o&&(a===null?l.firstBaseUpdate=c:a.next=c,l.lastBaseUpdate=u))}if(s!==null){var h=i.baseState;o=0,l=c=u=null,a=s;do{var d=a.lane,f=a.eventTime;if((r&d)===d){l!==null&&(l=l.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=t,m=a;switch(d=e,f=n,m.tag){case 1:if(p=m.payload,typeof p=="function"){h=p.call(f,h,d);break e}h=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=m.payload,d=typeof p=="function"?p.call(f,h,d):p,d==null)break e;h=We({},h,d);break e;case 2:$i=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[a]:d.push(a))}else f={eventTime:f,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},l===null?(c=l=f,u=h):l=l.next=f,o|=d;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;d=a,a=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(1);if(l===null&&(u=h),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=l,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);uo|=o,t.lanes=o,t.memoizedState=h}}function W_(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(N(191,i));i.call(r)}}}var DT=new Ob.Component().refs;function wy(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:We({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var qf={isMounted:function(t){return(t=t._reactInternals)?ko(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=cn(),i=Zi(t),s=ri(r,i);s.payload=e,n!=null&&(s.callback=n),e=Xi(t,s,i),e!==null&&(lr(e,t,i,r),Zh(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=cn(),i=Zi(t),s=ri(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Xi(t,s,i),e!==null&&(lr(e,t,i,r),Zh(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=cn(),r=Zi(t),i=ri(n,r);i.tag=2,e!=null&&(i.callback=e),e=Xi(t,i,r),e!==null&&(lr(e,t,r,n),Zh(e,t,r))}};function K_(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!jc(n,r)||!jc(i,s):!0}function FT(t,e,n){var r=!1,i=os,s=e.contextType;return typeof s=="object"&&s!==null?s=Zn(s):(i=In(e)?so:Jt.current,r=e.contextTypes,s=(r=r!=null)?xa(t,i):os),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=qf,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function G_(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&qf.enqueueReplaceState(e,e.state,null)}function _y(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=DT,v0(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Zn(s):(s=In(e)?so:Jt.current,i.context=xa(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(wy(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&qf.enqueueReplaceState(i,i.state,null),$d(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Ou(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(N(309));var r=n.stateNode}if(!r)throw Error(N(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===DT&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(N(284));if(!n._owner)throw Error(N(290,t))}return t}function Rh(t,e){throw t=Object.prototype.toString.call(e),Error(N(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Q_(t){var e=t._init;return e(t._payload)}function $T(t){function e(y,g){if(t){var v=y.deletions;v===null?(y.deletions=[g],y.flags|=16):v.push(g)}}function n(y,g){if(!t)return null;for(;g!==null;)e(y,g),g=g.sibling;return null}function r(y,g){for(y=new Map;g!==null;)g.key!==null?y.set(g.key,g):y.set(g.index,g),g=g.sibling;return y}function i(y,g){return y=es(y,g),y.index=0,y.sibling=null,y}function s(y,g,v){return y.index=v,t?(v=y.alternate,v!==null?(v=v.index,v<g?(y.flags|=2,g):v):(y.flags|=2,g)):(y.flags|=1048576,g)}function o(y){return t&&y.alternate===null&&(y.flags|=2),y}function a(y,g,v,_){return g===null||g.tag!==6?(g=Jm(v,y.mode,_),g.return=y,g):(g=i(g,v),g.return=y,g)}function u(y,g,v,_){var k=v.type;return k===Zo?l(y,g,v.props.children,_,v.key):g!==null&&(g.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Fi&&Q_(k)===g.type)?(_=i(g,v.props),_.ref=Ou(y,g,v),_.return=y,_):(_=sd(v.type,v.key,v.props,null,y.mode,_),_.ref=Ou(y,g,v),_.return=y,_)}function c(y,g,v,_){return g===null||g.tag!==4||g.stateNode.containerInfo!==v.containerInfo||g.stateNode.implementation!==v.implementation?(g=Zm(v,y.mode,_),g.return=y,g):(g=i(g,v.children||[]),g.return=y,g)}function l(y,g,v,_,k){return g===null||g.tag!==7?(g=Xs(v,y.mode,_,k),g.return=y,g):(g=i(g,v),g.return=y,g)}function h(y,g,v){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Jm(""+g,y.mode,v),g.return=y,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case yh:return v=sd(g.type,g.key,g.props,null,y.mode,v),v.ref=Ou(y,null,g),v.return=y,v;case Jo:return g=Zm(g,y.mode,v),g.return=y,g;case Fi:var _=g._init;return h(y,_(g._payload),v)}if(Ju(g)||xu(g))return g=Xs(g,y.mode,v,null),g.return=y,g;Rh(y,g)}return null}function d(y,g,v,_){var k=g!==null?g.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return k!==null?null:a(y,g,""+v,_);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case yh:return v.key===k?u(y,g,v,_):null;case Jo:return v.key===k?c(y,g,v,_):null;case Fi:return k=v._init,d(y,g,k(v._payload),_)}if(Ju(v)||xu(v))return k!==null?null:l(y,g,v,_,null);Rh(y,v)}return null}function f(y,g,v,_,k){if(typeof _=="string"&&_!==""||typeof _=="number")return y=y.get(v)||null,a(g,y,""+_,k);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case yh:return y=y.get(_.key===null?v:_.key)||null,u(g,y,_,k);case Jo:return y=y.get(_.key===null?v:_.key)||null,c(g,y,_,k);case Fi:var x=_._init;return f(y,g,v,x(_._payload),k)}if(Ju(_)||xu(_))return y=y.get(v)||null,l(g,y,_,k,null);Rh(g,_)}return null}function p(y,g,v,_){for(var k=null,x=null,R=g,U=g=0,G=null;R!==null&&U<v.length;U++){R.index>U?(G=R,R=null):G=R.sibling;var Y=d(y,R,v[U],_);if(Y===null){R===null&&(R=G);break}t&&R&&Y.alternate===null&&e(y,R),g=s(Y,g,U),x===null?k=Y:x.sibling=Y,x=Y,R=G}if(U===v.length)return n(y,R),Me&&As(y,U),k;if(R===null){for(;U<v.length;U++)R=h(y,v[U],_),R!==null&&(g=s(R,g,U),x===null?k=R:x.sibling=R,x=R);return Me&&As(y,U),k}for(R=r(y,R);U<v.length;U++)G=f(R,y,U,v[U],_),G!==null&&(t&&G.alternate!==null&&R.delete(G.key===null?U:G.key),g=s(G,g,U),x===null?k=G:x.sibling=G,x=G);return t&&R.forEach(function(Re){return e(y,Re)}),Me&&As(y,U),k}function m(y,g,v,_){var k=xu(v);if(typeof k!="function")throw Error(N(150));if(v=k.call(v),v==null)throw Error(N(151));for(var x=k=null,R=g,U=g=0,G=null,Y=v.next();R!==null&&!Y.done;U++,Y=v.next()){R.index>U?(G=R,R=null):G=R.sibling;var Re=d(y,R,Y.value,_);if(Re===null){R===null&&(R=G);break}t&&R&&Re.alternate===null&&e(y,R),g=s(Re,g,U),x===null?k=Re:x.sibling=Re,x=Re,R=G}if(Y.done)return n(y,R),Me&&As(y,U),k;if(R===null){for(;!Y.done;U++,Y=v.next())Y=h(y,Y.value,_),Y!==null&&(g=s(Y,g,U),x===null?k=Y:x.sibling=Y,x=Y);return Me&&As(y,U),k}for(R=r(y,R);!Y.done;U++,Y=v.next())Y=f(R,y,U,Y.value,_),Y!==null&&(t&&Y.alternate!==null&&R.delete(Y.key===null?U:Y.key),g=s(Y,g,U),x===null?k=Y:x.sibling=Y,x=Y);return t&&R.forEach(function(vt){return e(y,vt)}),Me&&As(y,U),k}function w(y,g,v,_){if(typeof v=="object"&&v!==null&&v.type===Zo&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case yh:e:{for(var k=v.key,x=g;x!==null;){if(x.key===k){if(k=v.type,k===Zo){if(x.tag===7){n(y,x.sibling),g=i(x,v.props.children),g.return=y,y=g;break e}}else if(x.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Fi&&Q_(k)===x.type){n(y,x.sibling),g=i(x,v.props),g.ref=Ou(y,x,v),g.return=y,y=g;break e}n(y,x);break}else e(y,x);x=x.sibling}v.type===Zo?(g=Xs(v.props.children,y.mode,_,v.key),g.return=y,y=g):(_=sd(v.type,v.key,v.props,null,y.mode,_),_.ref=Ou(y,g,v),_.return=y,y=_)}return o(y);case Jo:e:{for(x=v.key;g!==null;){if(g.key===x)if(g.tag===4&&g.stateNode.containerInfo===v.containerInfo&&g.stateNode.implementation===v.implementation){n(y,g.sibling),g=i(g,v.children||[]),g.return=y,y=g;break e}else{n(y,g);break}else e(y,g);g=g.sibling}g=Zm(v,y.mode,_),g.return=y,y=g}return o(y);case Fi:return x=v._init,w(y,g,x(v._payload),_)}if(Ju(v))return p(y,g,v,_);if(xu(v))return m(y,g,v,_);Rh(y,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,g!==null&&g.tag===6?(n(y,g.sibling),g=i(g,v),g.return=y,y=g):(n(y,g),g=Jm(v,y.mode,_),g.return=y,y=g),o(y)):n(y,g)}return w}var Ca=$T(!0),LT=$T(!1),Fl={},$r=vs(Fl),zc=vs(Fl),Hc=vs(Fl);function zs(t){if(t===Fl)throw Error(N(174));return t}function w0(t,e){switch(Pe(Hc,e),Pe(zc,t),Pe($r,Fl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Jg(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Jg(e,t)}Ne($r),Pe($r,e)}function Pa(){Ne($r),Ne(zc),Ne(Hc)}function MT(t){zs(Hc.current);var e=zs($r.current),n=Jg(e,t.type);e!==n&&(Pe(zc,t),Pe($r,n))}function _0(t){zc.current===t&&(Ne($r),Ne(zc))}var ze=vs(0);function Ld(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Wm=[];function S0(){for(var t=0;t<Wm.length;t++)Wm[t]._workInProgressVersionPrimary=null;Wm.length=0}var ed=wi.ReactCurrentDispatcher,Km=wi.ReactCurrentBatchConfig,ao=0,He=null,dt=null,_t=null,Md=!1,fc=!1,Wc=0,JD=0;function zt(){throw Error(N(321))}function E0(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!fr(t[n],e[n]))return!1;return!0}function I0(t,e,n,r,i,s){if(ao=s,He=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ed.current=t===null||t.memoizedState===null?nF:rF,t=n(r,i),fc){s=0;do{if(fc=!1,Wc=0,25<=s)throw Error(N(301));s+=1,_t=dt=null,e.updateQueue=null,ed.current=iF,t=n(r,i)}while(fc)}if(ed.current=Ud,e=dt!==null&&dt.next!==null,ao=0,_t=dt=He=null,Md=!1,e)throw Error(N(300));return t}function b0(){var t=Wc!==0;return Wc=0,t}function _r(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _t===null?He.memoizedState=_t=t:_t=_t.next=t,_t}function er(){if(dt===null){var t=He.alternate;t=t!==null?t.memoizedState:null}else t=dt.next;var e=_t===null?He.memoizedState:_t.next;if(e!==null)_t=e,dt=t;else{if(t===null)throw Error(N(310));dt=t,t={memoizedState:dt.memoizedState,baseState:dt.baseState,baseQueue:dt.baseQueue,queue:dt.queue,next:null},_t===null?He.memoizedState=_t=t:_t=_t.next=t}return _t}function Kc(t,e){return typeof e=="function"?e(t):e}function Gm(t){var e=er(),n=e.queue;if(n===null)throw Error(N(311));n.lastRenderedReducer=t;var r=dt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,u=null,c=s;do{var l=c.lane;if((ao&l)===l)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var h={lane:l,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(a=u=h,o=r):u=u.next=h,He.lanes|=l,uo|=l}c=c.next}while(c!==null&&c!==s);u===null?o=r:u.next=a,fr(r,e.memoizedState)||(vn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,He.lanes|=s,uo|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Qm(t){var e=er(),n=e.queue;if(n===null)throw Error(N(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);fr(s,e.memoizedState)||(vn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function UT(){}function jT(t,e){var n=He,r=er(),i=e(),s=!fr(r.memoizedState,i);if(s&&(r.memoizedState=i,vn=!0),r=r.queue,T0(qT.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||_t!==null&&_t.memoizedState.tag&1){if(n.flags|=2048,Gc(9,BT.bind(null,n,r,i,e),void 0,null),Et===null)throw Error(N(349));ao&30||VT(n,e,i)}return i}function VT(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=He.updateQueue,e===null?(e={lastEffect:null,stores:null},He.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function BT(t,e,n,r){e.value=n,e.getSnapshot=r,zT(e)&&HT(t)}function qT(t,e,n){return n(function(){zT(e)&&HT(t)})}function zT(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!fr(t,n)}catch{return!0}}function HT(t){var e=hi(t,1);e!==null&&lr(e,t,1,-1)}function Y_(t){var e=_r();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Kc,lastRenderedState:t},e.queue=t,t=t.dispatch=tF.bind(null,He,t),[e.memoizedState,t]}function Gc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=He.updateQueue,e===null?(e={lastEffect:null,stores:null},He.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function WT(){return er().memoizedState}function td(t,e,n,r){var i=_r();He.flags|=t,i.memoizedState=Gc(1|e,n,void 0,r===void 0?null:r)}function zf(t,e,n,r){var i=er();r=r===void 0?null:r;var s=void 0;if(dt!==null){var o=dt.memoizedState;if(s=o.destroy,r!==null&&E0(r,o.deps)){i.memoizedState=Gc(e,n,s,r);return}}He.flags|=t,i.memoizedState=Gc(1|e,n,s,r)}function X_(t,e){return td(8390656,8,t,e)}function T0(t,e){return zf(2048,8,t,e)}function KT(t,e){return zf(4,2,t,e)}function GT(t,e){return zf(4,4,t,e)}function QT(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function YT(t,e,n){return n=n!=null?n.concat([t]):null,zf(4,4,QT.bind(null,e,t),n)}function k0(){}function XT(t,e){var n=er();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&E0(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function JT(t,e){var n=er();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&E0(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function ZT(t,e,n){return ao&21?(fr(n,e)||(n=nT(),He.lanes|=n,uo|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,vn=!0),t.memoizedState=n)}function ZD(t,e){var n=Te;Te=n!==0&&4>n?n:4,t(!0);var r=Km.transition;Km.transition={};try{t(!1),e()}finally{Te=n,Km.transition=r}}function ek(){return er().memoizedState}function eF(t,e,n){var r=Zi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},tk(t))nk(e,n);else if(n=OT(t,e,n,r),n!==null){var i=cn();lr(n,t,r,i),rk(n,e,r)}}function tF(t,e,n){var r=Zi(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(tk(t))nk(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,fr(a,o)){var u=e.interleaved;u===null?(i.next=i,y0(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=OT(t,e,i,r),n!==null&&(i=cn(),lr(n,t,r,i),rk(n,e,r))}}function tk(t){var e=t.alternate;return t===He||e!==null&&e===He}function nk(t,e){fc=Md=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function rk(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,r0(t,n)}}var Ud={readContext:Zn,useCallback:zt,useContext:zt,useEffect:zt,useImperativeHandle:zt,useInsertionEffect:zt,useLayoutEffect:zt,useMemo:zt,useReducer:zt,useRef:zt,useState:zt,useDebugValue:zt,useDeferredValue:zt,useTransition:zt,useMutableSource:zt,useSyncExternalStore:zt,useId:zt,unstable_isNewReconciler:!1},nF={readContext:Zn,useCallback:function(t,e){return _r().memoizedState=[t,e===void 0?null:e],t},useContext:Zn,useEffect:X_,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,td(4194308,4,QT.bind(null,e,t),n)},useLayoutEffect:function(t,e){return td(4194308,4,t,e)},useInsertionEffect:function(t,e){return td(4,2,t,e)},useMemo:function(t,e){var n=_r();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=_r();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=eF.bind(null,He,t),[r.memoizedState,t]},useRef:function(t){var e=_r();return t={current:t},e.memoizedState=t},useState:Y_,useDebugValue:k0,useDeferredValue:function(t){return _r().memoizedState=t},useTransition:function(){var t=Y_(!1),e=t[0];return t=ZD.bind(null,t[1]),_r().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=He,i=_r();if(Me){if(n===void 0)throw Error(N(407));n=n()}else{if(n=e(),Et===null)throw Error(N(349));ao&30||VT(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,X_(qT.bind(null,r,s,t),[t]),r.flags|=2048,Gc(9,BT.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=_r(),e=Et.identifierPrefix;if(Me){var n=Zr,r=Jr;n=(r&~(1<<32-cr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Wc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=JD++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},rF={readContext:Zn,useCallback:XT,useContext:Zn,useEffect:T0,useImperativeHandle:YT,useInsertionEffect:KT,useLayoutEffect:GT,useMemo:JT,useReducer:Gm,useRef:WT,useState:function(){return Gm(Kc)},useDebugValue:k0,useDeferredValue:function(t){var e=er();return ZT(e,dt.memoizedState,t)},useTransition:function(){var t=Gm(Kc)[0],e=er().memoizedState;return[t,e]},useMutableSource:UT,useSyncExternalStore:jT,useId:ek,unstable_isNewReconciler:!1},iF={readContext:Zn,useCallback:XT,useContext:Zn,useEffect:T0,useImperativeHandle:YT,useInsertionEffect:KT,useLayoutEffect:GT,useMemo:JT,useReducer:Qm,useRef:WT,useState:function(){return Qm(Kc)},useDebugValue:k0,useDeferredValue:function(t){var e=er();return dt===null?e.memoizedState=t:ZT(e,dt.memoizedState,t)},useTransition:function(){var t=Qm(Kc)[0],e=er().memoizedState;return[t,e]},useMutableSource:UT,useSyncExternalStore:jT,useId:ek,unstable_isNewReconciler:!1};function Aa(t,e){try{var n="",r=e;do n+=ON(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Ym(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Sy(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var sF=typeof WeakMap=="function"?WeakMap:Map;function ik(t,e,n){n=ri(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Vd||(Vd=!0,Ay=r),Sy(t,e)},n}function sk(t,e,n){n=ri(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Sy(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Sy(t,e),typeof r!="function"&&(Ji===null?Ji=new Set([this]):Ji.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function J_(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new sF;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=wF.bind(null,t,e,n),e.then(t,t))}function Z_(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function eS(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ri(-1,1),e.tag=2,Xi(n,e,1))),n.lanes|=1),t)}var oF=wi.ReactCurrentOwner,vn=!1;function nn(t,e,n,r){e.child=t===null?LT(e,null,n,r):Ca(e,t.child,n,r)}function tS(t,e,n,r,i){n=n.render;var s=e.ref;return ga(e,i),r=I0(t,e,n,r,s,i),n=b0(),t!==null&&!vn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,di(t,e,i)):(Me&&n&&h0(e),e.flags|=1,nn(t,e,r,i),e.child)}function nS(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!D0(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,ok(t,e,s,r,i)):(t=sd(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:jc,n(o,r)&&t.ref===e.ref)return di(t,e,i)}return e.flags|=1,t=es(s,r),t.ref=e.ref,t.return=e,e.child=t}function ok(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(jc(s,r)&&t.ref===e.ref)if(vn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(vn=!0);else return e.lanes=t.lanes,di(t,e,i)}return Ey(t,e,n,r,i)}function ak(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Pe(ca,Cn),Cn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Pe(ca,Cn),Cn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Pe(ca,Cn),Cn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Pe(ca,Cn),Cn|=r;return nn(t,e,i,n),e.child}function uk(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Ey(t,e,n,r,i){var s=In(n)?so:Jt.current;return s=xa(e,s),ga(e,i),n=I0(t,e,n,r,s,i),r=b0(),t!==null&&!vn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,di(t,e,i)):(Me&&r&&h0(e),e.flags|=1,nn(t,e,n,i),e.child)}function rS(t,e,n,r,i){if(In(n)){var s=!0;Ad(e)}else s=!1;if(ga(e,i),e.stateNode===null)nd(t,e),FT(e,n,r),_y(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var u=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Zn(c):(c=In(n)?so:Jt.current,c=xa(e,c));var l=n.getDerivedStateFromProps,h=typeof l=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||u!==c)&&G_(e,o,r,c),$i=!1;var d=e.memoizedState;o.state=d,$d(e,r,o,i),u=e.memoizedState,a!==r||d!==u||En.current||$i?(typeof l=="function"&&(wy(e,n,l,r),u=e.memoizedState),(a=$i||K_(e,n,a,r,d,u,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,NT(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:sr(e.type,a),o.props=c,h=e.pendingProps,d=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=Zn(u):(u=In(n)?so:Jt.current,u=xa(e,u));var f=n.getDerivedStateFromProps;(l=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||d!==u)&&G_(e,o,r,u),$i=!1,d=e.memoizedState,o.state=d,$d(e,r,o,i);var p=e.memoizedState;a!==h||d!==p||En.current||$i?(typeof f=="function"&&(wy(e,n,f,r),p=e.memoizedState),(c=$i||K_(e,n,c,r,d,p,u)||!1)?(l||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,p,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,p,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=p),o.props=r,o.state=p,o.context=u,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return Iy(t,e,n,r,s,i)}function Iy(t,e,n,r,i,s){uk(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&B_(e,n,!1),di(t,e,s);r=e.stateNode,oF.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Ca(e,t.child,null,s),e.child=Ca(e,null,a,s)):nn(t,e,a,s),e.memoizedState=r.state,i&&B_(e,n,!0),e.child}function ck(t){var e=t.stateNode;e.pendingContext?V_(t,e.pendingContext,e.pendingContext!==e.context):e.context&&V_(t,e.context,!1),w0(t,e.containerInfo)}function iS(t,e,n,r,i){return Ra(),f0(i),e.flags|=256,nn(t,e,n,r),e.child}var by={dehydrated:null,treeContext:null,retryLane:0};function Ty(t){return{baseLanes:t,cachePool:null,transitions:null}}function lk(t,e,n){var r=e.pendingProps,i=ze.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Pe(ze,i&1),t===null)return yy(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Kf(o,r,0,null),t=Xs(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Ty(n),e.memoizedState=by,t):x0(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return aF(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=es(i,u),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=es(a,s):(s=Xs(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Ty(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=by,r}return s=t.child,t=s.sibling,r=es(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function x0(t,e){return e=Kf({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ch(t,e,n,r){return r!==null&&f0(r),Ca(e,t.child,null,n),t=x0(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function aF(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Ym(Error(N(422))),Ch(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Kf({mode:"visible",children:r.children},i,0,null),s=Xs(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Ca(e,t.child,null,o),e.child.memoizedState=Ty(o),e.memoizedState=by,s);if(!(e.mode&1))return Ch(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(N(419)),r=Ym(s,r,void 0),Ch(t,e,o,r)}if(a=(o&t.childLanes)!==0,vn||a){if(r=Et,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,hi(t,i),lr(r,t,i,-1))}return N0(),r=Ym(Error(N(421))),Ch(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=_F.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Nn=Yi(i.nextSibling),Fn=e,Me=!0,ar=null,t!==null&&(Wn[Kn++]=Jr,Wn[Kn++]=Zr,Wn[Kn++]=oo,Jr=t.id,Zr=t.overflow,oo=e),e=x0(e,r.children),e.flags|=4096,e)}function sS(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),vy(t.return,e,n)}function Xm(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function hk(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(nn(t,e,r.children,n),r=ze.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&sS(t,n,e);else if(t.tag===19)sS(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Pe(ze,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Ld(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Xm(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Ld(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Xm(e,!0,n,null,s);break;case"together":Xm(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function nd(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function di(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),uo|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(N(153));if(e.child!==null){for(t=e.child,n=es(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=es(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function uF(t,e,n){switch(e.tag){case 3:ck(e),Ra();break;case 5:MT(e);break;case 1:In(e.type)&&Ad(e);break;case 4:w0(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Pe(Dd,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Pe(ze,ze.current&1),e.flags|=128,null):n&e.child.childLanes?lk(t,e,n):(Pe(ze,ze.current&1),t=di(t,e,n),t!==null?t.sibling:null);Pe(ze,ze.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return hk(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Pe(ze,ze.current),r)break;return null;case 22:case 23:return e.lanes=0,ak(t,e,n)}return di(t,e,n)}var dk,ky,fk,pk;dk=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ky=function(){};fk=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,zs($r.current);var s=null;switch(n){case"input":i=Gg(t,i),r=Gg(t,r),s=[];break;case"select":i=We({},i,{value:void 0}),r=We({},r,{value:void 0}),s=[];break;case"textarea":i=Xg(t,i),r=Xg(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Cd)}Zg(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Nc.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var u=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&u!==a&&(u!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&a[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(s||(s=[]),s.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(s=s||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Nc.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&Ae("scroll",t),s||a===u||(s=[])):(s=s||[]).push(c,u))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};pk=function(t,e,n,r){n!==r&&(e.flags|=4)};function Nu(t,e){if(!Me)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ht(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function cF(t,e,n){var r=e.pendingProps;switch(d0(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ht(e),null;case 1:return In(e.type)&&Pd(),Ht(e),null;case 3:return r=e.stateNode,Pa(),Ne(En),Ne(Jt),S0(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(xh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ar!==null&&(Dy(ar),ar=null))),ky(t,e),Ht(e),null;case 5:_0(e);var i=zs(Hc.current);if(n=e.type,t!==null&&e.stateNode!=null)fk(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(N(166));return Ht(e),null}if(t=zs($r.current),xh(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[br]=e,r[qc]=s,t=(e.mode&1)!==0,n){case"dialog":Ae("cancel",r),Ae("close",r);break;case"iframe":case"object":case"embed":Ae("load",r);break;case"video":case"audio":for(i=0;i<ec.length;i++)Ae(ec[i],r);break;case"source":Ae("error",r);break;case"img":case"image":case"link":Ae("error",r),Ae("load",r);break;case"details":Ae("toggle",r);break;case"input":p_(r,s),Ae("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ae("invalid",r);break;case"textarea":g_(r,s),Ae("invalid",r)}Zg(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&kh(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&kh(r.textContent,a,t),i=["children",""+a]):Nc.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ae("scroll",r)}switch(n){case"input":vh(r),m_(r,s,!0);break;case"textarea":vh(r),y_(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Cd)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Vb(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[br]=e,t[qc]=r,dk(t,e,!1,!1),e.stateNode=t;e:{switch(o=ey(n,r),n){case"dialog":Ae("cancel",t),Ae("close",t),i=r;break;case"iframe":case"object":case"embed":Ae("load",t),i=r;break;case"video":case"audio":for(i=0;i<ec.length;i++)Ae(ec[i],t);i=r;break;case"source":Ae("error",t),i=r;break;case"img":case"image":case"link":Ae("error",t),Ae("load",t),i=r;break;case"details":Ae("toggle",t),i=r;break;case"input":p_(t,r),i=Gg(t,r),Ae("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=We({},r,{value:void 0}),Ae("invalid",t);break;case"textarea":g_(t,r),i=Xg(t,r),Ae("invalid",t);break;default:i=r}Zg(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var u=a[s];s==="style"?zb(t,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&Bb(t,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&Dc(t,u):typeof u=="number"&&Dc(t,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Nc.hasOwnProperty(s)?u!=null&&s==="onScroll"&&Ae("scroll",t):u!=null&&Xv(t,s,u,o))}switch(n){case"input":vh(t),m_(t,r,!1);break;case"textarea":vh(t),y_(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ss(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?da(t,!!r.multiple,s,!1):r.defaultValue!=null&&da(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Cd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ht(e),null;case 6:if(t&&e.stateNode!=null)pk(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(N(166));if(n=zs(Hc.current),zs($r.current),xh(e)){if(r=e.stateNode,n=e.memoizedProps,r[br]=e,(s=r.nodeValue!==n)&&(t=Fn,t!==null))switch(t.tag){case 3:kh(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&kh(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[br]=e,e.stateNode=r}return Ht(e),null;case 13:if(Ne(ze),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Me&&Nn!==null&&e.mode&1&&!(e.flags&128))AT(),Ra(),e.flags|=98560,s=!1;else if(s=xh(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(N(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(N(317));s[br]=e}else Ra(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ht(e),s=!1}else ar!==null&&(Dy(ar),ar=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ze.current&1?pt===0&&(pt=3):N0())),e.updateQueue!==null&&(e.flags|=4),Ht(e),null);case 4:return Pa(),ky(t,e),t===null&&Vc(e.stateNode.containerInfo),Ht(e),null;case 10:return g0(e.type._context),Ht(e),null;case 17:return In(e.type)&&Pd(),Ht(e),null;case 19:if(Ne(ze),s=e.memoizedState,s===null)return Ht(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Nu(s,!1);else{if(pt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Ld(t),o!==null){for(e.flags|=128,Nu(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Pe(ze,ze.current&1|2),e.child}t=t.sibling}s.tail!==null&&it()>Oa&&(e.flags|=128,r=!0,Nu(s,!1),e.lanes=4194304)}else{if(!r)if(t=Ld(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Nu(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Me)return Ht(e),null}else 2*it()-s.renderingStartTime>Oa&&n!==1073741824&&(e.flags|=128,r=!0,Nu(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=it(),e.sibling=null,n=ze.current,Pe(ze,r?n&1|2:n&1),e):(Ht(e),null);case 22:case 23:return O0(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Cn&1073741824&&(Ht(e),e.subtreeFlags&6&&(e.flags|=8192)):Ht(e),null;case 24:return null;case 25:return null}throw Error(N(156,e.tag))}function lF(t,e){switch(d0(e),e.tag){case 1:return In(e.type)&&Pd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Pa(),Ne(En),Ne(Jt),S0(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return _0(e),null;case 13:if(Ne(ze),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(N(340));Ra()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ne(ze),null;case 4:return Pa(),null;case 10:return g0(e.type._context),null;case 22:case 23:return O0(),null;case 24:return null;default:return null}}var Ph=!1,Kt=!1,hF=typeof WeakSet=="function"?WeakSet:Set,K=null;function ua(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Je(t,e,r)}else n.current=null}function xy(t,e,n){try{n()}catch(r){Je(t,e,r)}}var oS=!1;function dF(t,e){if(ly=kd,t=vT(),l0(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,u=-1,c=0,l=0,h=t,d=null;t:for(;;){for(var f;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(u=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(f=h.firstChild)!==null;)d=h,h=f;for(;;){if(h===t)break t;if(d===n&&++c===i&&(a=o),d===s&&++l===r&&(u=o),(f=h.nextSibling)!==null)break;h=d,d=h.parentNode}h=f}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(hy={focusedElem:t,selectionRange:n},kd=!1,K=e;K!==null;)if(e=K,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,K=t;else for(;K!==null;){e=K;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var m=p.memoizedProps,w=p.memoizedState,y=e.stateNode,g=y.getSnapshotBeforeUpdate(e.elementType===e.type?m:sr(e.type,m),w);y.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(N(163))}}catch(_){Je(e,e.return,_)}if(t=e.sibling,t!==null){t.return=e.return,K=t;break}K=e.return}return p=oS,oS=!1,p}function pc(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&xy(e,n,s)}i=i.next}while(i!==r)}}function Hf(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Ry(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function mk(t){var e=t.alternate;e!==null&&(t.alternate=null,mk(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[br],delete e[qc],delete e[py],delete e[GD],delete e[QD])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function gk(t){return t.tag===5||t.tag===3||t.tag===4}function aS(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||gk(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Cy(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Cd));else if(r!==4&&(t=t.child,t!==null))for(Cy(t,e,n),t=t.sibling;t!==null;)Cy(t,e,n),t=t.sibling}function Py(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Py(t,e,n),t=t.sibling;t!==null;)Py(t,e,n),t=t.sibling}var At=null,or=!1;function xi(t,e,n){for(n=n.child;n!==null;)yk(t,e,n),n=n.sibling}function yk(t,e,n){if(Fr&&typeof Fr.onCommitFiberUnmount=="function")try{Fr.onCommitFiberUnmount(Lf,n)}catch{}switch(n.tag){case 5:Kt||ua(n,e);case 6:var r=At,i=or;At=null,xi(t,e,n),At=r,or=i,At!==null&&(or?(t=At,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):At.removeChild(n.stateNode));break;case 18:At!==null&&(or?(t=At,n=n.stateNode,t.nodeType===8?zm(t.parentNode,n):t.nodeType===1&&zm(t,n),Mc(t)):zm(At,n.stateNode));break;case 4:r=At,i=or,At=n.stateNode.containerInfo,or=!0,xi(t,e,n),At=r,or=i;break;case 0:case 11:case 14:case 15:if(!Kt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&xy(n,e,o),i=i.next}while(i!==r)}xi(t,e,n);break;case 1:if(!Kt&&(ua(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Je(n,e,a)}xi(t,e,n);break;case 21:xi(t,e,n);break;case 22:n.mode&1?(Kt=(r=Kt)||n.memoizedState!==null,xi(t,e,n),Kt=r):xi(t,e,n);break;default:xi(t,e,n)}}function uS(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new hF),e.forEach(function(r){var i=SF.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function ir(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:At=a.stateNode,or=!1;break e;case 3:At=a.stateNode.containerInfo,or=!0;break e;case 4:At=a.stateNode.containerInfo,or=!0;break e}a=a.return}if(At===null)throw Error(N(160));yk(s,o,i),At=null,or=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(c){Je(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)vk(e,t),e=e.sibling}function vk(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ir(e,t),wr(t),r&4){try{pc(3,t,t.return),Hf(3,t)}catch(m){Je(t,t.return,m)}try{pc(5,t,t.return)}catch(m){Je(t,t.return,m)}}break;case 1:ir(e,t),wr(t),r&512&&n!==null&&ua(n,n.return);break;case 5:if(ir(e,t),wr(t),r&512&&n!==null&&ua(n,n.return),t.flags&32){var i=t.stateNode;try{Dc(i,"")}catch(m){Je(t,t.return,m)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&Ub(i,s),ey(a,o);var c=ey(a,s);for(o=0;o<u.length;o+=2){var l=u[o],h=u[o+1];l==="style"?zb(i,h):l==="dangerouslySetInnerHTML"?Bb(i,h):l==="children"?Dc(i,h):Xv(i,l,h,c)}switch(a){case"input":Qg(i,s);break;case"textarea":jb(i,s);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var f=s.value;f!=null?da(i,!!s.multiple,f,!1):d!==!!s.multiple&&(s.defaultValue!=null?da(i,!!s.multiple,s.defaultValue,!0):da(i,!!s.multiple,s.multiple?[]:"",!1))}i[qc]=s}catch(m){Je(t,t.return,m)}}break;case 6:if(ir(e,t),wr(t),r&4){if(t.stateNode===null)throw Error(N(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(m){Je(t,t.return,m)}}break;case 3:if(ir(e,t),wr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Mc(e.containerInfo)}catch(m){Je(t,t.return,m)}break;case 4:ir(e,t),wr(t);break;case 13:ir(e,t),wr(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(P0=it())),r&4&&uS(t);break;case 22:if(l=n!==null&&n.memoizedState!==null,t.mode&1?(Kt=(c=Kt)||l,ir(e,t),Kt=c):ir(e,t),wr(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!l&&t.mode&1)for(K=t,l=t.child;l!==null;){for(h=K=l;K!==null;){switch(d=K,f=d.child,d.tag){case 0:case 11:case 14:case 15:pc(4,d,d.return);break;case 1:ua(d,d.return);var p=d.stateNode;if(typeof p.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(m){Je(r,n,m)}}break;case 5:ua(d,d.return);break;case 22:if(d.memoizedState!==null){lS(h);continue}}f!==null?(f.return=d,K=f):lS(h)}l=l.sibling}e:for(l=null,h=t;;){if(h.tag===5){if(l===null){l=h;try{i=h.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,u=h.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=qb("display",o))}catch(m){Je(t,t.return,m)}}}else if(h.tag===6){if(l===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(m){Je(t,t.return,m)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;l===h&&(l=null),h=h.return}l===h&&(l=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ir(e,t),wr(t),r&4&&uS(t);break;case 21:break;default:ir(e,t),wr(t)}}function wr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(gk(n)){var r=n;break e}n=n.return}throw Error(N(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Dc(i,""),r.flags&=-33);var s=aS(t);Py(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=aS(t);Cy(t,a,o);break;default:throw Error(N(161))}}catch(u){Je(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function fF(t,e,n){K=t,wk(t)}function wk(t,e,n){for(var r=(t.mode&1)!==0;K!==null;){var i=K,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Ph;if(!o){var a=i.alternate,u=a!==null&&a.memoizedState!==null||Kt;a=Ph;var c=Kt;if(Ph=o,(Kt=u)&&!c)for(K=i;K!==null;)o=K,u=o.child,o.tag===22&&o.memoizedState!==null?hS(i):u!==null?(u.return=o,K=u):hS(i);for(;s!==null;)K=s,wk(s),s=s.sibling;K=i,Ph=a,Kt=c}cS(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,K=s):cS(t)}}function cS(t){for(;K!==null;){var e=K;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Kt||Hf(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Kt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:sr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&W_(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}W_(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var l=c.memoizedState;if(l!==null){var h=l.dehydrated;h!==null&&Mc(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(N(163))}Kt||e.flags&512&&Ry(e)}catch(d){Je(e,e.return,d)}}if(e===t){K=null;break}if(n=e.sibling,n!==null){n.return=e.return,K=n;break}K=e.return}}function lS(t){for(;K!==null;){var e=K;if(e===t){K=null;break}var n=e.sibling;if(n!==null){n.return=e.return,K=n;break}K=e.return}}function hS(t){for(;K!==null;){var e=K;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Hf(4,e)}catch(u){Je(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){Je(e,i,u)}}var s=e.return;try{Ry(e)}catch(u){Je(e,s,u)}break;case 5:var o=e.return;try{Ry(e)}catch(u){Je(e,o,u)}}}catch(u){Je(e,e.return,u)}if(e===t){K=null;break}var a=e.sibling;if(a!==null){a.return=e.return,K=a;break}K=e.return}}var pF=Math.ceil,jd=wi.ReactCurrentDispatcher,R0=wi.ReactCurrentOwner,Xn=wi.ReactCurrentBatchConfig,ve=0,Et=null,lt=null,Ft=0,Cn=0,ca=vs(0),pt=0,Qc=null,uo=0,Wf=0,C0=0,mc=null,yn=null,P0=0,Oa=1/0,Kr=null,Vd=!1,Ay=null,Ji=null,Ah=!1,Bi=null,Bd=0,gc=0,Oy=null,rd=-1,id=0;function cn(){return ve&6?it():rd!==-1?rd:rd=it()}function Zi(t){return t.mode&1?ve&2&&Ft!==0?Ft&-Ft:XD.transition!==null?(id===0&&(id=nT()),id):(t=Te,t!==0||(t=window.event,t=t===void 0?16:cT(t.type)),t):1}function lr(t,e,n,r){if(50<gc)throw gc=0,Oy=null,Error(N(185));Ol(t,n,r),(!(ve&2)||t!==Et)&&(t===Et&&(!(ve&2)&&(Wf|=n),pt===4&&Mi(t,Ft)),bn(t,r),n===1&&ve===0&&!(e.mode&1)&&(Oa=it()+500,Bf&&ws()))}function bn(t,e){var n=t.callbackNode;XN(t,e);var r=Td(t,t===Et?Ft:0);if(r===0)n!==null&&__(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&__(n),e===1)t.tag===0?YD(dS.bind(null,t)):RT(dS.bind(null,t)),WD(function(){!(ve&6)&&ws()}),n=null;else{switch(rT(r)){case 1:n=n0;break;case 4:n=eT;break;case 16:n=bd;break;case 536870912:n=tT;break;default:n=bd}n=xk(n,_k.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function _k(t,e){if(rd=-1,id=0,ve&6)throw Error(N(327));var n=t.callbackNode;if(ya()&&t.callbackNode!==n)return null;var r=Td(t,t===Et?Ft:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=qd(t,r);else{e=r;var i=ve;ve|=2;var s=Ek();(Et!==t||Ft!==e)&&(Kr=null,Oa=it()+500,Ys(t,e));do try{yF();break}catch(a){Sk(t,a)}while(1);m0(),jd.current=s,ve=i,lt!==null?e=0:(Et=null,Ft=0,e=pt)}if(e!==0){if(e===2&&(i=sy(t),i!==0&&(r=i,e=Ny(t,i))),e===1)throw n=Qc,Ys(t,0),Mi(t,r),bn(t,it()),n;if(e===6)Mi(t,r);else{if(i=t.current.alternate,!(r&30)&&!mF(i)&&(e=qd(t,r),e===2&&(s=sy(t),s!==0&&(r=s,e=Ny(t,s))),e===1))throw n=Qc,Ys(t,0),Mi(t,r),bn(t,it()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(N(345));case 2:Os(t,yn,Kr);break;case 3:if(Mi(t,r),(r&130023424)===r&&(e=P0+500-it(),10<e)){if(Td(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){cn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=fy(Os.bind(null,t,yn,Kr),e);break}Os(t,yn,Kr);break;case 4:if(Mi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-cr(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=it()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*pF(r/1960))-r,10<r){t.timeoutHandle=fy(Os.bind(null,t,yn,Kr),r);break}Os(t,yn,Kr);break;case 5:Os(t,yn,Kr);break;default:throw Error(N(329))}}}return bn(t,it()),t.callbackNode===n?_k.bind(null,t):null}function Ny(t,e){var n=mc;return t.current.memoizedState.isDehydrated&&(Ys(t,e).flags|=256),t=qd(t,e),t!==2&&(e=yn,yn=n,e!==null&&Dy(e)),t}function Dy(t){yn===null?yn=t:yn.push.apply(yn,t)}function mF(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!fr(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Mi(t,e){for(e&=~C0,e&=~Wf,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-cr(e),r=1<<n;t[n]=-1,e&=~r}}function dS(t){if(ve&6)throw Error(N(327));ya();var e=Td(t,0);if(!(e&1))return bn(t,it()),null;var n=qd(t,e);if(t.tag!==0&&n===2){var r=sy(t);r!==0&&(e=r,n=Ny(t,r))}if(n===1)throw n=Qc,Ys(t,0),Mi(t,e),bn(t,it()),n;if(n===6)throw Error(N(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Os(t,yn,Kr),bn(t,it()),null}function A0(t,e){var n=ve;ve|=1;try{return t(e)}finally{ve=n,ve===0&&(Oa=it()+500,Bf&&ws())}}function co(t){Bi!==null&&Bi.tag===0&&!(ve&6)&&ya();var e=ve;ve|=1;var n=Xn.transition,r=Te;try{if(Xn.transition=null,Te=1,t)return t()}finally{Te=r,Xn.transition=n,ve=e,!(ve&6)&&ws()}}function O0(){Cn=ca.current,Ne(ca)}function Ys(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,HD(n)),lt!==null)for(n=lt.return;n!==null;){var r=n;switch(d0(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Pd();break;case 3:Pa(),Ne(En),Ne(Jt),S0();break;case 5:_0(r);break;case 4:Pa();break;case 13:Ne(ze);break;case 19:Ne(ze);break;case 10:g0(r.type._context);break;case 22:case 23:O0()}n=n.return}if(Et=t,lt=t=es(t.current,null),Ft=Cn=e,pt=0,Qc=null,C0=Wf=uo=0,yn=mc=null,qs!==null){for(e=0;e<qs.length;e++)if(n=qs[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}qs=null}return t}function Sk(t,e){do{var n=lt;try{if(m0(),ed.current=Ud,Md){for(var r=He.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Md=!1}if(ao=0,_t=dt=He=null,fc=!1,Wc=0,R0.current=null,n===null||n.return===null){pt=1,Qc=e,lt=null;break}e:{var s=t,o=n.return,a=n,u=e;if(e=Ft,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,l=a,h=l.tag;if(!(l.mode&1)&&(h===0||h===11||h===15)){var d=l.alternate;d?(l.updateQueue=d.updateQueue,l.memoizedState=d.memoizedState,l.lanes=d.lanes):(l.updateQueue=null,l.memoizedState=null)}var f=Z_(o);if(f!==null){f.flags&=-257,eS(f,o,a,s,e),f.mode&1&&J_(s,c,e),e=f,u=c;var p=e.updateQueue;if(p===null){var m=new Set;m.add(u),e.updateQueue=m}else p.add(u);break e}else{if(!(e&1)){J_(s,c,e),N0();break e}u=Error(N(426))}}else if(Me&&a.mode&1){var w=Z_(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),eS(w,o,a,s,e),f0(Aa(u,a));break e}}s=u=Aa(u,a),pt!==4&&(pt=2),mc===null?mc=[s]:mc.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var y=ik(s,u,e);H_(s,y);break e;case 1:a=u;var g=s.type,v=s.stateNode;if(!(s.flags&128)&&(typeof g.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Ji===null||!Ji.has(v)))){s.flags|=65536,e&=-e,s.lanes|=e;var _=sk(s,a,e);H_(s,_);break e}}s=s.return}while(s!==null)}bk(n)}catch(k){e=k,lt===n&&n!==null&&(lt=n=n.return);continue}break}while(1)}function Ek(){var t=jd.current;return jd.current=Ud,t===null?Ud:t}function N0(){(pt===0||pt===3||pt===2)&&(pt=4),Et===null||!(uo&268435455)&&!(Wf&268435455)||Mi(Et,Ft)}function qd(t,e){var n=ve;ve|=2;var r=Ek();(Et!==t||Ft!==e)&&(Kr=null,Ys(t,e));do try{gF();break}catch(i){Sk(t,i)}while(1);if(m0(),ve=n,jd.current=r,lt!==null)throw Error(N(261));return Et=null,Ft=0,pt}function gF(){for(;lt!==null;)Ik(lt)}function yF(){for(;lt!==null&&!BN();)Ik(lt)}function Ik(t){var e=kk(t.alternate,t,Cn);t.memoizedProps=t.pendingProps,e===null?bk(t):lt=e,R0.current=null}function bk(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=lF(n,e),n!==null){n.flags&=32767,lt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{pt=6,lt=null;return}}else if(n=cF(n,e,Cn),n!==null){lt=n;return}if(e=e.sibling,e!==null){lt=e;return}lt=e=t}while(e!==null);pt===0&&(pt=5)}function Os(t,e,n){var r=Te,i=Xn.transition;try{Xn.transition=null,Te=1,vF(t,e,n,r)}finally{Xn.transition=i,Te=r}return null}function vF(t,e,n,r){do ya();while(Bi!==null);if(ve&6)throw Error(N(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(N(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(JN(t,s),t===Et&&(lt=Et=null,Ft=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ah||(Ah=!0,xk(bd,function(){return ya(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Xn.transition,Xn.transition=null;var o=Te;Te=1;var a=ve;ve|=4,R0.current=null,dF(t,n),vk(n,t),MD(hy),kd=!!ly,hy=ly=null,t.current=n,fF(n),qN(),ve=a,Te=o,Xn.transition=s}else t.current=n;if(Ah&&(Ah=!1,Bi=t,Bd=i),s=t.pendingLanes,s===0&&(Ji=null),WN(n.stateNode),bn(t,it()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Vd)throw Vd=!1,t=Ay,Ay=null,t;return Bd&1&&t.tag!==0&&ya(),s=t.pendingLanes,s&1?t===Oy?gc++:(gc=0,Oy=t):gc=0,ws(),null}function ya(){if(Bi!==null){var t=rT(Bd),e=Xn.transition,n=Te;try{if(Xn.transition=null,Te=16>t?16:t,Bi===null)var r=!1;else{if(t=Bi,Bi=null,Bd=0,ve&6)throw Error(N(331));var i=ve;for(ve|=4,K=t.current;K!==null;){var s=K,o=s.child;if(K.flags&16){var a=s.deletions;if(a!==null){for(var u=0;u<a.length;u++){var c=a[u];for(K=c;K!==null;){var l=K;switch(l.tag){case 0:case 11:case 15:pc(8,l,s)}var h=l.child;if(h!==null)h.return=l,K=h;else for(;K!==null;){l=K;var d=l.sibling,f=l.return;if(mk(l),l===c){K=null;break}if(d!==null){d.return=f,K=d;break}K=f}}}var p=s.alternate;if(p!==null){var m=p.child;if(m!==null){p.child=null;do{var w=m.sibling;m.sibling=null,m=w}while(m!==null)}}K=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,K=o;else e:for(;K!==null;){if(s=K,s.flags&2048)switch(s.tag){case 0:case 11:case 15:pc(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,K=y;break e}K=s.return}}var g=t.current;for(K=g;K!==null;){o=K;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,K=v;else e:for(o=g;K!==null;){if(a=K,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Hf(9,a)}}catch(k){Je(a,a.return,k)}if(a===o){K=null;break e}var _=a.sibling;if(_!==null){_.return=a.return,K=_;break e}K=a.return}}if(ve=i,ws(),Fr&&typeof Fr.onPostCommitFiberRoot=="function")try{Fr.onPostCommitFiberRoot(Lf,t)}catch{}r=!0}return r}finally{Te=n,Xn.transition=e}}return!1}function fS(t,e,n){e=Aa(n,e),e=ik(t,e,1),t=Xi(t,e,1),e=cn(),t!==null&&(Ol(t,1,e),bn(t,e))}function Je(t,e,n){if(t.tag===3)fS(t,t,n);else for(;e!==null;){if(e.tag===3){fS(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ji===null||!Ji.has(r))){t=Aa(n,t),t=sk(e,t,1),e=Xi(e,t,1),t=cn(),e!==null&&(Ol(e,1,t),bn(e,t));break}}e=e.return}}function wF(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=cn(),t.pingedLanes|=t.suspendedLanes&n,Et===t&&(Ft&n)===n&&(pt===4||pt===3&&(Ft&130023424)===Ft&&500>it()-P0?Ys(t,0):C0|=n),bn(t,e)}function Tk(t,e){e===0&&(t.mode&1?(e=Sh,Sh<<=1,!(Sh&130023424)&&(Sh=4194304)):e=1);var n=cn();t=hi(t,e),t!==null&&(Ol(t,e,n),bn(t,n))}function _F(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Tk(t,n)}function SF(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(N(314))}r!==null&&r.delete(e),Tk(t,n)}var kk;kk=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||En.current)vn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return vn=!1,uF(t,e,n);vn=!!(t.flags&131072)}else vn=!1,Me&&e.flags&1048576&&CT(e,Nd,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;nd(t,e),t=e.pendingProps;var i=xa(e,Jt.current);ga(e,n),i=I0(null,e,r,t,i,n);var s=b0();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,In(r)?(s=!0,Ad(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,v0(e),i.updater=qf,e.stateNode=i,i._reactInternals=e,_y(e,r,t,n),e=Iy(null,e,r,!0,s,n)):(e.tag=0,Me&&s&&h0(e),nn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(nd(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=IF(r),t=sr(r,t),i){case 0:e=Ey(null,e,r,t,n);break e;case 1:e=rS(null,e,r,t,n);break e;case 11:e=tS(null,e,r,t,n);break e;case 14:e=nS(null,e,r,sr(r.type,t),n);break e}throw Error(N(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:sr(r,i),Ey(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:sr(r,i),rS(t,e,r,i,n);case 3:e:{if(ck(e),t===null)throw Error(N(387));r=e.pendingProps,s=e.memoizedState,i=s.element,NT(t,e),$d(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Aa(Error(N(423)),e),e=iS(t,e,r,n,i);break e}else if(r!==i){i=Aa(Error(N(424)),e),e=iS(t,e,r,n,i);break e}else for(Nn=Yi(e.stateNode.containerInfo.firstChild),Fn=e,Me=!0,ar=null,n=LT(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ra(),r===i){e=di(t,e,n);break e}nn(t,e,r,n)}e=e.child}return e;case 5:return MT(e),t===null&&yy(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,dy(r,i)?o=null:s!==null&&dy(r,s)&&(e.flags|=32),uk(t,e),nn(t,e,o,n),e.child;case 6:return t===null&&yy(e),null;case 13:return lk(t,e,n);case 4:return w0(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ca(e,null,r,n):nn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:sr(r,i),tS(t,e,r,i,n);case 7:return nn(t,e,e.pendingProps,n),e.child;case 8:return nn(t,e,e.pendingProps.children,n),e.child;case 12:return nn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Pe(Dd,r._currentValue),r._currentValue=o,s!==null)if(fr(s.value,o)){if(s.children===i.children&&!En.current){e=di(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(s.tag===1){u=ri(-1,n&-n),u.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var l=c.pending;l===null?u.next=u:(u.next=l.next,l.next=u),c.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),vy(s.return,n,e),a.lanes|=n;break}u=u.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(N(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),vy(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}nn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,ga(e,n),i=Zn(i),r=r(i),e.flags|=1,nn(t,e,r,n),e.child;case 14:return r=e.type,i=sr(r,e.pendingProps),i=sr(r.type,i),nS(t,e,r,i,n);case 15:return ok(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:sr(r,i),nd(t,e),e.tag=1,In(r)?(t=!0,Ad(e)):t=!1,ga(e,n),FT(e,r,i),_y(e,r,i,n),Iy(null,e,r,!0,t,n);case 19:return hk(t,e,n);case 22:return ak(t,e,n)}throw Error(N(156,e.tag))};function xk(t,e){return Zb(t,e)}function EF(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gn(t,e,n,r){return new EF(t,e,n,r)}function D0(t){return t=t.prototype,!(!t||!t.isReactComponent)}function IF(t){if(typeof t=="function")return D0(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Zv)return 11;if(t===e0)return 14}return 2}function es(t,e){var n=t.alternate;return n===null?(n=Gn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function sd(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")D0(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Zo:return Xs(n.children,i,s,e);case Jv:o=8,i|=8;break;case zg:return t=Gn(12,n,e,i|2),t.elementType=zg,t.lanes=s,t;case Hg:return t=Gn(13,n,e,i),t.elementType=Hg,t.lanes=s,t;case Wg:return t=Gn(19,n,e,i),t.elementType=Wg,t.lanes=s,t;case $b:return Kf(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Db:o=10;break e;case Fb:o=9;break e;case Zv:o=11;break e;case e0:o=14;break e;case Fi:o=16,r=null;break e}throw Error(N(130,t==null?t:typeof t,""))}return e=Gn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Xs(t,e,n,r){return t=Gn(7,t,r,e),t.lanes=n,t}function Kf(t,e,n,r){return t=Gn(22,t,r,e),t.elementType=$b,t.lanes=n,t.stateNode={isHidden:!1},t}function Jm(t,e,n){return t=Gn(6,t,null,e),t.lanes=n,t}function Zm(t,e,n){return e=Gn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function bF(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Nm(0),this.expirationTimes=Nm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Nm(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function F0(t,e,n,r,i,s,o,a,u){return t=new bF(t,e,n,a,u),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Gn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},v0(s),t}function TF(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Jo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Rk(t){if(!t)return os;t=t._reactInternals;e:{if(ko(t)!==t||t.tag!==1)throw Error(N(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(In(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(N(171))}if(t.tag===1){var n=t.type;if(In(n))return xT(t,n,e)}return e}function Ck(t,e,n,r,i,s,o,a,u){return t=F0(n,r,!0,t,i,s,o,a,u),t.context=Rk(null),n=t.current,r=cn(),i=Zi(n),s=ri(r,i),s.callback=e??null,Xi(n,s,i),t.current.lanes=i,Ol(t,i,r),bn(t,r),t}function Gf(t,e,n,r){var i=e.current,s=cn(),o=Zi(i);return n=Rk(n),e.context===null?e.context=n:e.pendingContext=n,e=ri(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Xi(i,e,o),t!==null&&(lr(t,i,o,s),Zh(t,i,o)),o}function zd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function pS(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function $0(t,e){pS(t,e),(t=t.alternate)&&pS(t,e)}function kF(){return null}var Pk=typeof reportError=="function"?reportError:function(t){console.error(t)};function L0(t){this._internalRoot=t}Qf.prototype.render=L0.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(N(409));Gf(t,e,null,null)};Qf.prototype.unmount=L0.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;co(function(){Gf(null,t,null,null)}),e[li]=null}};function Qf(t){this._internalRoot=t}Qf.prototype.unstable_scheduleHydration=function(t){if(t){var e=oT();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Li.length&&e!==0&&e<Li[n].priority;n++);Li.splice(n,0,t),n===0&&uT(t)}};function M0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Yf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function mS(){}function xF(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=zd(o);s.call(c)}}var o=Ck(e,r,t,0,null,!1,!1,"",mS);return t._reactRootContainer=o,t[li]=o.current,Vc(t.nodeType===8?t.parentNode:t),co(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=zd(u);a.call(c)}}var u=F0(t,0,!1,null,null,!1,!1,"",mS);return t._reactRootContainer=u,t[li]=u.current,Vc(t.nodeType===8?t.parentNode:t),co(function(){Gf(e,u,n,r)}),u}function Xf(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var u=zd(o);a.call(u)}}Gf(e,o,t,i)}else o=xF(n,e,t,i,r);return zd(o)}iT=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Zu(e.pendingLanes);n!==0&&(r0(e,n|1),bn(e,it()),!(ve&6)&&(Oa=it()+500,ws()))}break;case 13:co(function(){var r=hi(t,1);if(r!==null){var i=cn();lr(r,t,1,i)}}),$0(t,1)}};i0=function(t){if(t.tag===13){var e=hi(t,134217728);if(e!==null){var n=cn();lr(e,t,134217728,n)}$0(t,134217728)}};sT=function(t){if(t.tag===13){var e=Zi(t),n=hi(t,e);if(n!==null){var r=cn();lr(n,t,e,r)}$0(t,e)}};oT=function(){return Te};aT=function(t,e){var n=Te;try{return Te=t,e()}finally{Te=n}};ny=function(t,e,n){switch(e){case"input":if(Qg(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Vf(r);if(!i)throw Error(N(90));Mb(r),Qg(r,i)}}}break;case"textarea":jb(t,n);break;case"select":e=n.value,e!=null&&da(t,!!n.multiple,e,!1)}};Kb=A0;Gb=co;var RF={usingClientEntryPoint:!1,Events:[Dl,ra,Vf,Hb,Wb,A0]},Du={findFiberByHostInstance:Bs,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},CF={bundleType:Du.bundleType,version:Du.version,rendererPackageName:Du.rendererPackageName,rendererConfig:Du.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:wi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Xb(t),t===null?null:t.stateNode},findFiberByHostInstance:Du.findFiberByHostInstance||kF,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Oh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Oh.isDisabled&&Oh.supportsFiber)try{Lf=Oh.inject(CF),Fr=Oh}catch{}}Vn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=RF;Vn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!M0(e))throw Error(N(200));return TF(t,e,null,n)};Vn.createRoot=function(t,e){if(!M0(t))throw Error(N(299));var n=!1,r="",i=Pk;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=F0(t,1,!1,null,null,n,!1,r,i),t[li]=e.current,Vc(t.nodeType===8?t.parentNode:t),new L0(e)};Vn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(N(188)):(t=Object.keys(t).join(","),Error(N(268,t)));return t=Xb(e),t=t===null?null:t.stateNode,t};Vn.flushSync=function(t){return co(t)};Vn.hydrate=function(t,e,n){if(!Yf(e))throw Error(N(200));return Xf(null,t,e,!0,n)};Vn.hydrateRoot=function(t,e,n){if(!M0(t))throw Error(N(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=Pk;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Ck(e,null,t,1,n??null,i,!1,s,o),t[li]=e.current,Vc(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Qf(e)};Vn.render=function(t,e,n){if(!Yf(e))throw Error(N(200));return Xf(null,t,e,!1,n)};Vn.unmountComponentAtNode=function(t){if(!Yf(t))throw Error(N(40));return t._reactRootContainer?(co(function(){Xf(null,null,t,!1,function(){t._reactRootContainer=null,t[li]=null})}),!0):!1};Vn.unstable_batchedUpdates=A0;Vn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Yf(n))throw Error(N(200));if(t==null||t._reactInternals===void 0)throw Error(N(38));return Xf(t,e,n,!1,r)};Vn.version="18.2.0-next-9e3b772b8-20220608";(function(t){function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}e(),t.exports=Vn})(kN);var gS=Vg;jg.createRoot=gS.createRoot,jg.hydrateRoot=gS.hydrateRoot;/**
 * @remix-run/router v1.2.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Hd(){return Hd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hd.apply(this,arguments)}var qi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(qi||(qi={}));const yS="popstate";function PF(t){t===void 0&&(t={});function e(i,s){let{pathname:o="/",search:a="",hash:u=""}=xo(i.location.hash.substr(1));return Fy("",{pathname:o,search:a,hash:u},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){let o=i.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let u=i.location.href,c=u.indexOf("#");a=c===-1?u:u.slice(0,c)}return a+"#"+(typeof s=="string"?s:Yc(s))}function r(i,s){AF(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return DF(e,n,r,t)}function mt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function AF(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function OF(){return Math.random().toString(36).substr(2,8)}function vS(t){return{usr:t.state,key:t.key}}function Fy(t,e,n,r){return n===void 0&&(n=null),Hd({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?xo(e):e,{state:n,key:e&&e.key||r||OF()})}function Yc(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function xo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function NF(t){let e=typeof window<"u"&&typeof window.location<"u"&&window.location.origin!=="null"?window.location.origin:window.location.href,n=typeof t=="string"?t:Yc(t);return mt(e,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,e)}function DF(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=qi.Pop,u=null;function c(){a=qi.Pop,u&&u({action:a,location:d.location})}function l(f,p){a=qi.Push;let m=Fy(d.location,f,p);n&&n(m,f);let w=vS(m),y=d.createHref(m);try{o.pushState(w,"",y)}catch{i.location.assign(y)}s&&u&&u({action:a,location:d.location})}function h(f,p){a=qi.Replace;let m=Fy(d.location,f,p);n&&n(m,f);let w=vS(m),y=d.createHref(m);o.replaceState(w,"",y),s&&u&&u({action:a,location:d.location})}let d={get action(){return a},get location(){return t(i,o)},listen(f){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(yS,c),u=f,()=>{i.removeEventListener(yS,c),u=null}},createHref(f){return e(i,f)},encodeLocation(f){let p=NF(typeof f=="string"?f:Yc(f));return{pathname:p.pathname,search:p.search,hash:p.hash}},push:l,replace:h,go(f){return o.go(f)}};return d}var wS;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(wS||(wS={}));function FF(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?xo(e):e,i=Nk(r.pathname||"/",n);if(i==null)return null;let s=Ak(t);$F(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=HF(s[a],GF(i));return o}function Ak(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let u={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};u.relativePath.startsWith("/")&&(mt(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let c=ts([r,u.relativePath]),l=n.concat(u);s.children&&s.children.length>0&&(mt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),Ak(s.children,e,l,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:qF(c,s.index),routesMeta:l})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let u of Ok(s.path))i(s,o,u)}),e}function Ok(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=Ok(r.join("/")),a=[];return a.push(...o.map(u=>u===""?s:[s,u].join("/"))),i&&a.push(...o),a.map(u=>t.startsWith("/")&&u===""?"/":u)}function $F(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:zF(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const LF=/^:\w+$/,MF=3,UF=2,jF=1,VF=10,BF=-2,_S=t=>t==="*";function qF(t,e){let n=t.split("/"),r=n.length;return n.some(_S)&&(r+=BF),e&&(r+=UF),n.filter(i=>!_S(i)).reduce((i,s)=>i+(LF.test(s)?MF:s===""?jF:VF),r)}function zF(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function HF(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],u=o===n.length-1,c=i==="/"?e:e.slice(i.length)||"/",l=WF({path:a.relativePath,caseSensitive:a.caseSensitive,end:u},c);if(!l)return null;Object.assign(r,l.params);let h=a.route;s.push({params:r,pathname:ts([i,l.pathname]),pathnameBase:JF(ts([i,l.pathnameBase])),route:h}),l.pathnameBase!=="/"&&(i=ts([i,l.pathnameBase]))}return s}function WF(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=KF(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,l,h)=>{if(l==="*"){let d=a[h]||"";o=s.slice(0,s.length-d.length).replace(/(.)\/+$/,"$1")}return c[l]=QF(a[h]||"",l),c},{}),pathname:s,pathnameBase:o,pattern:t}}function KF(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),U0(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,a)=>(r.push(a),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function GF(t){try{return decodeURI(t)}catch(e){return U0(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function QF(t,e){try{return decodeURIComponent(t)}catch(n){return U0(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function Nk(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function U0(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function YF(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?xo(t):t;return{pathname:n?n.startsWith("/")?n:XF(n,e):e,search:ZF(r),hash:e$(i)}}function XF(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function eg(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Dk(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Fk(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=xo(t):(i=Hd({},t),mt(!i.pathname||!i.pathname.includes("?"),eg("?","pathname","search",i)),mt(!i.pathname||!i.pathname.includes("#"),eg("#","pathname","hash",i)),mt(!i.search||!i.search.includes("#"),eg("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(r||o==null)a=n;else{let h=e.length-1;if(o.startsWith("..")){let d=o.split("/");for(;d[0]==="..";)d.shift(),h-=1;i.pathname=d.join("/")}a=h>=0?e[h]:"/"}let u=YF(i,a),c=o&&o!=="/"&&o.endsWith("/"),l=(s||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||l)&&(u.pathname+="/"),u}const ts=t=>t.join("/").replace(/\/\/+/g,"/"),JF=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),ZF=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,e$=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class t${constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function n$(t){return t instanceof t$}const r$=["post","put","patch","delete"];[...r$];/**
 * React Router v6.6.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $y(){return $y=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$y.apply(this,arguments)}function i$(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}const s$=typeof Object.is=="function"?Object.is:i$,{useState:o$,useEffect:a$,useLayoutEffect:u$,useDebugValue:c$}=Oc;function l$(t,e,n){const r=e(),[{inst:i},s]=o$({inst:{value:r,getSnapshot:e}});return u$(()=>{i.value=r,i.getSnapshot=e,tg(i)&&s({inst:i})},[t,r,e]),a$(()=>(tg(i)&&s({inst:i}),t(()=>{tg(i)&&s({inst:i})})),[t]),c$(r),r}function tg(t){const e=t.getSnapshot,n=t.value;try{const r=e();return!s$(n,r)}catch{return!0}}function h$(t,e,n){return e()}const d$=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",f$=!d$,p$=f$?h$:l$;"useSyncExternalStore"in Oc&&(t=>t.useSyncExternalStore)(Oc);const $k=T.createContext(null),Lk=T.createContext(null),Jf=T.createContext(null),Zf=T.createContext(null),uu=T.createContext({outlet:null,matches:[]}),Mk=T.createContext(null);function m$(t,e){let{relative:n}=e===void 0?{}:e;$l()||mt(!1);let{basename:r,navigator:i}=T.useContext(Jf),{hash:s,pathname:o,search:a}=Uk(t,{relative:n}),u=o;return r!=="/"&&(u=o==="/"?r:ts([r,o])),i.createHref({pathname:u,search:a,hash:s})}function $l(){return T.useContext(Zf)!=null}function ep(){return $l()||mt(!1),T.useContext(Zf).location}function tp(){$l()||mt(!1);let{basename:t,navigator:e}=T.useContext(Jf),{matches:n}=T.useContext(uu),{pathname:r}=ep(),i=JSON.stringify(Dk(n).map(a=>a.pathnameBase)),s=T.useRef(!1);return T.useEffect(()=>{s.current=!0}),T.useCallback(function(a,u){if(u===void 0&&(u={}),!s.current)return;if(typeof a=="number"){e.go(a);return}let c=Fk(a,JSON.parse(i),r,u.relative==="path");t!=="/"&&(c.pathname=c.pathname==="/"?t:ts([t,c.pathname])),(u.replace?e.replace:e.push)(c,u.state,u)},[t,e,i,r])}function Uk(t,e){let{relative:n}=e===void 0?{}:e,{matches:r}=T.useContext(uu),{pathname:i}=ep(),s=JSON.stringify(Dk(r).map(o=>o.pathnameBase));return T.useMemo(()=>Fk(t,JSON.parse(s),i,n==="path"),[t,s,i,n])}function g$(t,e){$l()||mt(!1);let{navigator:n}=T.useContext(Jf),r=T.useContext(Lk),{matches:i}=T.useContext(uu),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let a=s?s.pathnameBase:"/";s&&s.route;let u=ep(),c;if(e){var l;let m=typeof e=="string"?xo(e):e;a==="/"||(l=m.pathname)!=null&&l.startsWith(a)||mt(!1),c=m}else c=u;let h=c.pathname||"/",d=a==="/"?h:h.slice(a.length)||"/",f=FF(t,{pathname:d}),p=_$(f&&f.map(m=>Object.assign({},m,{params:Object.assign({},o,m.params),pathname:ts([a,n.encodeLocation?n.encodeLocation(m.pathname).pathname:m.pathname]),pathnameBase:m.pathnameBase==="/"?a:ts([a,n.encodeLocation?n.encodeLocation(m.pathnameBase).pathname:m.pathnameBase])})),i,r||void 0);return e&&p?T.createElement(Zf.Provider,{value:{location:$y({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:qi.Pop}},p):p}function y$(){let t=b$(),e=n$(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r};return T.createElement(T.Fragment,null,T.createElement("h2",null,"Unhandled Thrown Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},e),n?T.createElement("pre",{style:i},n):null,T.createElement("p",null,"💿 Hey developer 👋"),T.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",T.createElement("code",{style:s},"errorElement")," props on ",T.createElement("code",{style:s},"<Route>")))}class v$ extends T.Component{constructor(e){super(e),this.state={location:e.location,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location?{error:e.error,location:e.location}:{error:e.error||n.error,location:n.location}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?T.createElement(uu.Provider,{value:this.props.routeContext},T.createElement(Mk.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function w$(t){let{routeContext:e,match:n,children:r}=t,i=T.useContext($k);return i&&i.static&&i.staticContext&&n.route.errorElement&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),T.createElement(uu.Provider,{value:e},r)}function _$(t,e,n){if(e===void 0&&(e=[]),t==null)if(n!=null&&n.errors)t=n.matches;else return null;let r=t,i=n==null?void 0:n.errors;if(i!=null){let s=r.findIndex(o=>o.route.id&&(i==null?void 0:i[o.route.id]));s>=0||mt(!1),r=r.slice(0,Math.min(r.length,s+1))}return r.reduceRight((s,o,a)=>{let u=o.route.id?i==null?void 0:i[o.route.id]:null,c=n?o.route.errorElement||T.createElement(y$,null):null,l=e.concat(r.slice(0,a+1)),h=()=>T.createElement(w$,{match:o,routeContext:{outlet:s,matches:l}},u?c:o.route.element!==void 0?o.route.element:s);return n&&(o.route.errorElement||a===0)?T.createElement(v$,{location:n.location,component:c,error:u,children:h(),routeContext:{outlet:null,matches:l}}):h()},null)}var SS;(function(t){t.UseRevalidator="useRevalidator"})(SS||(SS={}));var Wd;(function(t){t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator"})(Wd||(Wd={}));function S$(t){let e=T.useContext(Lk);return e||mt(!1),e}function E$(t){let e=T.useContext(uu);return e||mt(!1),e}function I$(t){let e=E$(),n=e.matches[e.matches.length-1];return n.route.id||mt(!1),n.route.id}function b$(){var t;let e=T.useContext(Mk),n=S$(Wd.UseRouteError),r=I$(Wd.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function Ko(t){mt(!1)}function T$(t){let{basename:e="/",children:n=null,location:r,navigationType:i=qi.Pop,navigator:s,static:o=!1}=t;$l()&&mt(!1);let a=e.replace(/^\/*/,"/"),u=T.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof r=="string"&&(r=xo(r));let{pathname:c="/",search:l="",hash:h="",state:d=null,key:f="default"}=r,p=T.useMemo(()=>{let m=Nk(c,a);return m==null?null:{pathname:m,search:l,hash:h,state:d,key:f}},[a,c,l,h,d,f]);return p==null?null:T.createElement(Jf.Provider,{value:u},T.createElement(Zf.Provider,{children:n,value:{location:p,navigationType:i}}))}function k$(t){let{children:e,location:n}=t,r=T.useContext($k),i=r&&!e?r.router.routes:Ly(e);return g$(i,n)}var ES;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})(ES||(ES={}));new Promise(()=>{});function Ly(t,e){e===void 0&&(e=[]);let n=[];return T.Children.forEach(t,(r,i)=>{if(!T.isValidElement(r))return;if(r.type===T.Fragment){n.push.apply(n,Ly(r.props.children,e));return}r.type!==Ko&&mt(!1),!r.props.index||!r.props.children||mt(!1);let s=[...e,i],o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,hasErrorBoundary:r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle};r.props.children&&(o.children=Ly(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.6.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function My(){return My=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},My.apply(this,arguments)}function x$(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function R$(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function C$(t,e){return t.button===0&&(!e||e==="_self")&&!R$(t)}const P$=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function A$(t){let{basename:e,children:n,window:r}=t,i=T.useRef();i.current==null&&(i.current=PF({window:r,v5Compat:!0}));let s=i.current,[o,a]=T.useState({action:s.action,location:s.location});return T.useLayoutEffect(()=>s.listen(a),[s]),T.createElement(T$,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:s})}const sn=T.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:u,to:c,preventScrollReset:l}=e,h=x$(e,P$),d=m$(c,{relative:i}),f=O$(c,{replace:o,state:a,target:u,preventScrollReset:l,relative:i});function p(m){r&&r(m),m.defaultPrevented||f(m)}return T.createElement("a",My({},h,{href:d,onClick:s?r:p,ref:n,target:u}))});var IS;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmitImpl="useSubmitImpl",t.UseFetcher="useFetcher"})(IS||(IS={}));var bS;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(bS||(bS={}));function O$(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o}=e===void 0?{}:e,a=tp(),u=ep(),c=Uk(t,{relative:o});return T.useCallback(l=>{if(C$(l,n)){l.preventDefault();let h=r!==void 0?r:Yc(u)===Yc(c);a(t,{replace:h,state:i,preventScrollReset:s,relative:o})}},[u,a,c,r,i,n,t,s,o])}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jk=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},N$=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Vk={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,l=s>>2,h=(s&3)<<4|a>>4;let d=(a&15)<<2|c>>6,f=c&63;u||(f=64,o||(d=64)),r.push(n[l],n[h],n[d],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(jk(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):N$(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||h==null)throw Error();const d=s<<2|a>>4;if(r.push(d),c!==64){const f=a<<4&240|c>>2;if(r.push(f),h!==64){const p=c<<6&192|h;r.push(p)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},D$=function(t){const e=jk(t);return Vk.encodeByteArray(e,!0)},Kd=function(t){return D$(t).replace(/\./g,"")},Bk=function(t){try{return Vk.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Gd(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!F$(n)||(t[n]=Gd(t[n],e[n]));return t}function F$(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ke(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function $$(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ke())}function np(){try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function L$(){return typeof self=="object"&&self.self===self}function qk(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function j0(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function zk(){const t=Ke();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function M$(){return!np()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Xc(){try{return typeof indexedDB=="object"}catch{return!1}}function U$(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}function j$(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V$=()=>j$().__FIREBASE_DEFAULTS__,B$=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},q$=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Bk(t[1]);return e&&JSON.parse(e)},V0=()=>{try{return V$()||B$()||q$()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},z$=t=>{var e,n;return(n=(e=V0())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},H$=t=>{const e=z$(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},W$=()=>{var t;return(t=V0())===null||t===void 0?void 0:t.config},K$=t=>{var e;return(e=V0())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G${constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hk(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[Kd(JSON.stringify(n)),Kd(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q$="FirebaseError";class Qt extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Q$,Object.setPrototypeOf(this,Qt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ro.prototype.create)}}class Ro{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?Y$(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Qt(i,a,r)}}function Y$(t,e){return t.replace(X$,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const X$=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TS(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function J$(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Uy(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(kS(s)&&kS(o)){if(!Uy(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function kS(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function la(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function tc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function Wk(t,e){const n=new Z$(t,e);return n.subscribe.bind(n)}class Z${constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");e2(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=ng),i.error===void 0&&(i.error=ng),i.complete===void 0&&(i.complete=ng);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function e2(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function ng(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q(t){return t&&t._delegate?t._delegate:t}class tr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ns="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new G$;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(r2(e))try{this.getOrInitializeService({instanceIdentifier:Ns})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ns){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ns){return this.instances.has(e)}getOptions(e=Ns){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:n2(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ns){return this.component?this.component.multipleInstances?e:Ns:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function n2(t){return t===Ns?void 0:t}function r2(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new t2(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B0=[];var ye;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ye||(ye={}));const Kk={debug:ye.DEBUG,verbose:ye.VERBOSE,info:ye.INFO,warn:ye.WARN,error:ye.ERROR,silent:ye.SILENT},s2=ye.INFO,o2={[ye.DEBUG]:"log",[ye.VERBOSE]:"log",[ye.INFO]:"info",[ye.WARN]:"warn",[ye.ERROR]:"error"},a2=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=o2[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class rp{constructor(e){this.name=e,this._logLevel=s2,this._logHandler=a2,this._userLogHandler=null,B0.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ye))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Kk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ye.DEBUG,...e),this._logHandler(this,ye.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ye.VERBOSE,...e),this._logHandler(this,ye.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ye.INFO,...e),this._logHandler(this,ye.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ye.WARN,...e),this._logHandler(this,ye.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ye.ERROR,...e),this._logHandler(this,ye.ERROR,...e)}}function u2(t){B0.forEach(e=>{e.setLogLevel(t)})}function c2(t,e){for(const n of B0){let r=null;e&&e.level&&(r=Kk[e.level]),t===null?n.userLogHandler=null:n.userLogHandler=(i,s,...o)=>{const a=o.map(u=>{if(u==null)return null;if(typeof u=="string")return u;if(typeof u=="number"||typeof u=="boolean")return u.toString();if(u instanceof Error)return u.message;try{return JSON.stringify(u)}catch{return null}}).filter(u=>u).join(" ");s>=(r??i.logLevel)&&t({level:ye[s].toLowerCase(),message:a,args:o,type:i.name})}}}const l2=(t,e)=>e.some(n=>t instanceof n);let xS,RS;function h2(){return xS||(xS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function d2(){return RS||(RS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Gk=new WeakMap,jy=new WeakMap,Qk=new WeakMap,rg=new WeakMap,q0=new WeakMap;function f2(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(ns(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Gk.set(n,t)}).catch(()=>{}),q0.set(e,t),e}function p2(t){if(jy.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});jy.set(t,e)}let Vy={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return jy.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Qk.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ns(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function m2(t){Vy=t(Vy)}function g2(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(ig(this),e,...n);return Qk.set(r,e.sort?e.sort():[e]),ns(r)}:d2().includes(t)?function(...e){return t.apply(ig(this),e),ns(Gk.get(this))}:function(...e){return ns(t.apply(ig(this),e))}}function y2(t){return typeof t=="function"?g2(t):(t instanceof IDBTransaction&&p2(t),l2(t,h2())?new Proxy(t,Vy):t)}function ns(t){if(t instanceof IDBRequest)return f2(t);if(rg.has(t))return rg.get(t);const e=y2(t);return e!==t&&(rg.set(t,e),q0.set(e,t)),e}const ig=t=>q0.get(t);function v2(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=ns(o);return r&&o.addEventListener("upgradeneeded",u=>{r(ns(o.result),u.oldVersion,u.newVersion,ns(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}const w2=["get","getKey","getAll","getAllKeys","count"],_2=["put","add","delete","clear"],sg=new Map;function CS(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(sg.get(e))return sg.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=_2.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||w2.includes(n)))return;const s=async function(o,...a){const u=this.transaction(o,i?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&u.done]))[0]};return sg.set(e,s),s}m2(t=>({...t,get:(e,n,r)=>CS(e,n)||t.get(e,n,r),has:(e,n)=>!!CS(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(E2(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function E2(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const By="@firebase/app",PS="0.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lo=new rp("@firebase/app"),I2="@firebase/app-compat",b2="@firebase/analytics-compat",T2="@firebase/analytics",k2="@firebase/app-check-compat",x2="@firebase/app-check",R2="@firebase/auth",C2="@firebase/auth-compat",P2="@firebase/database",A2="@firebase/database-compat",O2="@firebase/functions",N2="@firebase/functions-compat",D2="@firebase/installations",F2="@firebase/installations-compat",$2="@firebase/messaging",L2="@firebase/messaging-compat",M2="@firebase/performance",U2="@firebase/performance-compat",j2="@firebase/remote-config",V2="@firebase/remote-config-compat",B2="@firebase/storage",q2="@firebase/storage-compat",z2="@firebase/firestore",H2="@firebase/firestore-compat",W2="firebase",K2="9.15.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const as="[DEFAULT]",G2={[By]:"fire-core",[I2]:"fire-core-compat",[T2]:"fire-analytics",[b2]:"fire-analytics-compat",[x2]:"fire-app-check",[k2]:"fire-app-check-compat",[R2]:"fire-auth",[C2]:"fire-auth-compat",[P2]:"fire-rtdb",[A2]:"fire-rtdb-compat",[O2]:"fire-fn",[N2]:"fire-fn-compat",[D2]:"fire-iid",[F2]:"fire-iid-compat",[$2]:"fire-fcm",[L2]:"fire-fcm-compat",[M2]:"fire-perf",[U2]:"fire-perf-compat",[j2]:"fire-rc",[V2]:"fire-rc-compat",[B2]:"fire-gcs",[q2]:"fire-gcs-compat",[z2]:"fire-fst",[H2]:"fire-fst-compat","fire-js":"fire-js",[W2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const us=new Map,Jc=new Map;function Qd(t,e){try{t.container.addComponent(e)}catch(n){lo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Yk(t,e){t.container.addOrOverwriteComponent(e)}function fi(t){const e=t.name;if(Jc.has(e))return lo.debug(`There were multiple attempts to register component ${e}.`),!1;Jc.set(e,t);for(const n of us.values())Qd(n,t);return!0}function z0(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Q2(t,e,n=as){z0(t,e).clearInstance(n)}function Y2(){Jc.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X2={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},ii=new Ro("app","Firebase",X2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let J2=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new tr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ii.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _s=K2;function H0(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:as,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw ii.create("bad-app-name",{appName:String(i)});if(n||(n=W$()),!n)throw ii.create("no-options");const s=us.get(i);if(s){if(Uy(n,s.options)&&Uy(r,s.config))return s;throw ii.create("duplicate-app",{appName:i})}const o=new i2(i);for(const u of Jc.values())o.addComponent(u);const a=new J2(n,r,o);return us.set(i,a),a}function Xk(t=as){const e=us.get(t);if(!e&&t===as)return H0();if(!e)throw ii.create("no-app",{appName:t});return e}function Z2(){return Array.from(us.values())}async function Jk(t){const e=t.name;us.has(e)&&(us.delete(e),await Promise.all(t.container.getProviders().map(n=>n.delete())),t.isDeleted=!0)}function Jn(t,e,n){var r;let i=(r=G2[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),lo.warn(a.join(" "));return}fi(new tr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}function Zk(t,e){if(t!==null&&typeof t!="function")throw ii.create("invalid-log-argument");c2(t,e)}function ex(t){u2(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eL="firebase-heartbeat-database",tL=1,Zc="firebase-heartbeat-store";let og=null;function tx(){return og||(og=v2(eL,tL,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Zc)}}}).catch(t=>{throw ii.create("idb-open",{originalErrorMessage:t.message})})),og}async function nL(t){try{return(await tx()).transaction(Zc).objectStore(Zc).get(nx(t))}catch(e){if(e instanceof Qt)lo.warn(e.message);else{const n=ii.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});lo.warn(n.message)}}}async function AS(t,e){try{const r=(await tx()).transaction(Zc,"readwrite");return await r.objectStore(Zc).put(e,nx(t)),r.done}catch(n){if(n instanceof Qt)lo.warn(n.message);else{const r=ii.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});lo.warn(r.message)}}}function nx(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rL=1024,iL=30*24*60*60*1e3;class sL{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new aL(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=OS();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=iL}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=OS(),{heartbeatsToSend:n,unsentEntries:r}=oL(this._heartbeatsCache.heartbeats),i=Kd(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function OS(){return new Date().toISOString().substring(0,10)}function oL(t,e=rL){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),NS(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),NS(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class aL{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Xc()?U$().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await nL(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return AS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return AS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function NS(t){return Kd(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uL(t){fi(new tr("platform-logger",e=>new S2(e),"PRIVATE")),fi(new tr("heartbeat",e=>new sL(e),"PRIVATE")),Jn(By,PS,t),Jn(By,PS,"esm2017"),Jn("fire-js","")}uL("");const cL=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:Qt,SDK_VERSION:_s,_DEFAULT_ENTRY_NAME:as,_addComponent:Qd,_addOrOverwriteComponent:Yk,_apps:us,_clearComponents:Y2,_components:Jc,_getProvider:z0,_registerComponent:fi,_removeServiceInstance:Q2,deleteApp:Jk,getApp:Xk,getApps:Z2,initializeApp:H0,onLog:Zk,registerVersion:Jn,setLogLevel:ex},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lL{constructor(e,n){this._delegate=e,this.firebase=n,Qd(e,new tr("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),Jk(this._delegate)))}_getService(e,n=as){var r;this._delegate.checkDestroyed();const i=this._delegate.container.getProvider(e);return!i.isInitialized()&&((r=i.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&i.initialize(),i.getImmediate({identifier:n})}_removeServiceInstance(e,n=as){this._delegate.container.getProvider(e).clearInstance(n)}_addComponent(e){Qd(this._delegate,e)}_addOrOverwriteComponent(e){Yk(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hL={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance."},DS=new Ro("app-compat","Firebase",hL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dL(t){const e={},n={__esModule:!0,initializeApp:s,app:i,registerVersion:Jn,setLogLevel:ex,onLog:Zk,apps:null,SDK_VERSION:_s,INTERNAL:{registerComponent:a,removeApp:r,useAsService:u,modularAPIs:cL}};n.default=n,Object.defineProperty(n,"apps",{get:o});function r(c){delete e[c]}function i(c){if(c=c||as,!TS(e,c))throw DS.create("no-app",{appName:c});return e[c]}i.App=t;function s(c,l={}){const h=H0(c,l);if(TS(e,h.name))return e[h.name];const d=new t(h,n);return e[h.name]=d,d}function o(){return Object.keys(e).map(c=>e[c])}function a(c){const l=c.name,h=l.replace("-compat","");if(fi(c)&&c.type==="PUBLIC"){const d=(f=i())=>{if(typeof f[h]!="function")throw DS.create("invalid-app-argument",{appName:l});return f[h]()};c.serviceProps!==void 0&&Gd(d,c.serviceProps),n[h]=d,t.prototype[h]=function(...f){return this._getService.bind(this,l).apply(this,c.multipleInstances?f:[])}}return c.type==="PUBLIC"?n[h]:null}function u(c,l){return l==="serverAuth"?null:l}return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rx(){const t=dL(lL);t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:rx,extendNamespace:e,createSubscribe:Wk,ErrorFactory:Ro,deepExtend:Gd});function e(n){Gd(t,n)}return t}const fL=rx();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FS=new rp("@firebase/app-compat"),pL="@firebase/app-compat",mL="0.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gL(t){Jn(pL,mL,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(L$()&&self.firebase!==void 0){FS.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);const t=self.firebase.SDK_VERSION;t&&t.indexOf("LITE")>=0&&FS.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}const mr=fL;gL();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ix="firebasestorage.googleapis.com",sx="storageBucket",yL=2*60*1e3,vL=10*60*1e3,wL=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge extends Qt{constructor(e,n,r=0){super(ag(e),`Firebase Storage: ${n} (${ag(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ge.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return ag(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}function ag(t){return"storage/"+t}function W0(){const t="An unknown error occurred, please check the error payload for server response.";return new Ge("unknown",t)}function _L(t){return new Ge("object-not-found","Object '"+t+"' does not exist.")}function SL(t){return new Ge("quota-exceeded","Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function EL(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Ge("unauthenticated",t)}function IL(){return new Ge("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}function bL(t){return new Ge("unauthorized","User does not have permission to access '"+t+"'.")}function ox(){return new Ge("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function ax(){return new Ge("canceled","User canceled the upload/download.")}function TL(t){return new Ge("invalid-url","Invalid URL '"+t+"'.")}function kL(t){return new Ge("invalid-default-bucket","Invalid default bucket '"+t+"'.")}function xL(){return new Ge("no-default-bucket","No default bucket found. Did you set the '"+sx+"' property when initializing the app?")}function ux(){return new Ge("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function RL(){return new Ge("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}function CL(){return new Ge("no-download-url","The given file does not have any download URLs.")}function PL(t){return new Ge("unsupported-environment",`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function va(t){return new Ge("invalid-argument",t)}function cx(){return new Ge("app-deleted","The Firebase app was deleted.")}function lx(t){return new Ge("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function yc(t,e){return new Ge("invalid-format","String does not match format '"+t+"': "+e)}function Fu(t){throw new Ge("internal-error","Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Gt.makeFromUrl(e,n)}catch{return new Gt(e,"")}if(r.path==="")return r;throw kL(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(_){_.path.charAt(_.path.length-1)==="/"&&(_.path_=_.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),u={bucket:1,path:3};function c(_){_.path_=decodeURIComponent(_.path)}const l="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),d="(/([^?#]*).*)?$",f=new RegExp(`^https?://${h}/${l}/b/${i}/o${d}`,"i"),p={bucket:1,path:3},m=n===ix?"(?:storage.googleapis.com|storage.cloud.google.com)":n,w="([^?#]*)",y=new RegExp(`^https?://${m}/${i}/${w}`,"i"),v=[{regex:a,indices:u,postModify:s},{regex:f,indices:p,postModify:c},{regex:y,indices:{bucket:1,path:2},postModify:c}];for(let _=0;_<v.length;_++){const k=v[_],x=k.regex.exec(e);if(x){const R=x[k.indices.bucket];let U=x[k.indices.path];U||(U=""),r=new Gt(R,U),k.postModify(r);break}}if(r==null)throw TL(e);return r}}class AL{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OL(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function u(){return a===2}let c=!1;function l(...w){c||(c=!0,e.apply(null,w))}function h(w){i=setTimeout(()=>{i=null,t(f,u())},w)}function d(){s&&clearTimeout(s)}function f(w,...y){if(c){d();return}if(w){d(),l.call(null,w,...y);return}if(u()||o){d(),l.call(null,w,...y);return}r<64&&(r*=2);let v;a===1?(a=2,v=0):v=(r+Math.random())*1e3,h(v)}let p=!1;function m(w){p||(p=!0,d(),!c&&(i!==null?(w||(a=2),clearTimeout(i),h(0)):w||(a=1)))}return h(0),s=setTimeout(()=>{o=!0,m(!0)},n),m}function NL(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DL(t){return t!==void 0}function FL(t){return typeof t=="function"}function $L(t){return typeof t=="object"&&!Array.isArray(t)}function ip(t){return typeof t=="string"||t instanceof String}function $S(t){return K0()&&t instanceof Blob}function K0(){return typeof Blob<"u"&&!np()}function qy(t,e,n,r){if(r<e)throw va(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw va(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ss(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function hx(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Js;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Js||(Js={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dx(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LL{constructor(e,n,r,i,s,o,a,u,c,l,h,d=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=u,this.timeout_=c,this.progressCallback_=l,this.connectionFactory_=h,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((f,p)=>{this.resolve_=f,this.reject_=p,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Nh(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const u=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,c)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===Js.NO_ERROR,u=s.getStatus();if((!a||dx(u,this.additionalRetryCodes_))&&this.retry){const l=s.getErrorCode()===Js.ABORT;r(!1,new Nh(!1,null,l));return}const c=this.successCodes_.indexOf(u)!==-1;r(!0,new Nh(c,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const u=this.callback_(a,a.getResponse());DL(u)?s(u):s()}catch(u){o(u)}else if(a!==null){const u=W0();u.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,u)):o(u)}else if(i.canceled){const u=this.appDelete_?cx():ax();o(u)}else{const u=ox();o(u)}};this.canceled_?n(!1,new Nh(!1,null,!0)):this.backoffId_=OL(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&NL(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Nh{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function ML(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function UL(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function jL(t,e){e&&(t["X-Firebase-GMPID"]=e)}function VL(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function BL(t,e,n,r,i,s,o=!0){const a=hx(t.urlParams),u=t.url+a,c=Object.assign({},t.headers);return jL(c,e),ML(c,n),UL(c,s),VL(c,r),new LL(u,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qL(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function zL(...t){const e=qL();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(K0())return new Blob(t);throw new Ge("unsupported-environment","This browser doesn't seem to support creating Blobs")}}function HL(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WL(t){if(typeof atob>"u")throw PL("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class ug{constructor(e,n){this.data=e,this.contentType=n||null}}function fx(t,e){switch(t){case Qn.RAW:return new ug(px(e));case Qn.BASE64:case Qn.BASE64URL:return new ug(mx(t,e));case Qn.DATA_URL:return new ug(GL(e),QL(e))}throw W0()}function px(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function KL(t){let e;try{e=decodeURIComponent(t)}catch{throw yc(Qn.DATA_URL,"Malformed data URL.")}return px(e)}function mx(t,e){switch(t){case Qn.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw yc(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Qn.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw yc(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=WL(e)}catch(i){throw i.message.includes("polyfill")?i:yc(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class gx{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw yc(Qn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=YL(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function GL(t){const e=new gx(t);return e.base64?mx(Qn.BASE64,e.rest):KL(e.rest)}function QL(t){return new gx(t).contentType}function YL(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(e,n){let r=0,i="";$S(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if($S(this.data_)){const r=this.data_,i=HL(r,e,n);return i===null?null:new Xr(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Xr(r,!0)}}static getBlob(...e){if(K0()){const n=e.map(r=>r instanceof Xr?r.data_:r);return new Xr(zL.apply(null,n))}else{const n=e.map(o=>ip(o)?fx(Qn.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new Xr(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G0(t){let e;try{e=JSON.parse(t)}catch{return null}return $L(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XL(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function JL(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function yx(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZL(t,e){return e}class en{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||ZL}}let Dh=null;function eM(t){return!ip(t)||t.length<2?t:yx(t)}function sp(){if(Dh)return Dh;const t=[];t.push(new en("bucket")),t.push(new en("generation")),t.push(new en("metageneration")),t.push(new en("name","fullPath",!0));function e(s,o){return eM(o)}const n=new en("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new en("size");return i.xform=r,t.push(i),t.push(new en("timeCreated")),t.push(new en("updated")),t.push(new en("md5Hash",null,!0)),t.push(new en("cacheControl",null,!0)),t.push(new en("contentDisposition",null,!0)),t.push(new en("contentEncoding",null,!0)),t.push(new en("contentLanguage",null,!0)),t.push(new en("contentType",null,!0)),t.push(new en("metadata","customMetadata",!0)),Dh=t,Dh}function tM(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new Gt(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function nM(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return tM(r,t),r}function vx(t,e,n){const r=G0(e);return r===null?null:nM(t,r,n)}function rM(t,e,n,r){const i=G0(e);if(i===null||!ip(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(c=>{const l=t.bucket,h=t.fullPath,d="/b/"+o(l)+"/o/"+o(h),f=Ss(d,n,r),p=hx({alt:"media",token:c});return f+p})[0]}function Q0(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LS="prefixes",MS="items";function iM(t,e,n){const r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[LS])for(const i of n[LS]){const s=i.replace(/\/$/,""),o=t._makeStorageReference(new Gt(e,s));r.prefixes.push(o)}if(n[MS])for(const i of n[MS]){const s=t._makeStorageReference(new Gt(e,i.name));r.items.push(s)}return r}function sM(t,e,n){const r=G0(n);return r===null?null:iM(t,e,r)}class _i{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lr(t){if(!t)throw W0()}function op(t,e){function n(r,i){const s=vx(t,i,e);return Lr(s!==null),s}return n}function oM(t,e){function n(r,i){const s=sM(t,e,i);return Lr(s!==null),s}return n}function aM(t,e){function n(r,i){const s=vx(t,i,e);return Lr(s!==null),rM(s,i,t.host,t._protocol)}return n}function lu(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=IL():i=EL():n.getStatus()===402?i=SL(t.bucket):n.getStatus()===403?i=bL(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function ap(t){const e=lu(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=_L(t.path)),s.serverResponse=i.serverResponse,s}return n}function wx(t,e,n){const r=e.fullServerUrl(),i=Ss(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new _i(i,s,op(t,n),o);return a.errorHandler=ap(e),a}function uM(t,e,n,r,i){const s={};e.isRoot?s.prefix="":s.prefix=e.path+"/",n&&n.length>0&&(s.delimiter=n),r&&(s.pageToken=r),i&&(s.maxResults=i);const o=e.bucketOnlyServerUrl(),a=Ss(o,t.host,t._protocol),u="GET",c=t.maxOperationRetryTime,l=new _i(a,u,oM(t,e.bucket),c);return l.urlParams=s,l.errorHandler=lu(e),l}function cM(t,e,n){const r=e.fullServerUrl(),i=Ss(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new _i(i,s,aM(t,n),o);return a.errorHandler=ap(e),a}function lM(t,e,n,r){const i=e.fullServerUrl(),s=Ss(i,t.host,t._protocol),o="PATCH",a=Q0(n,r),u={"Content-Type":"application/json; charset=utf-8"},c=t.maxOperationRetryTime,l=new _i(s,o,op(t,r),c);return l.headers=u,l.body=a,l.errorHandler=ap(e),l}function hM(t,e){const n=e.fullServerUrl(),r=Ss(n,t.host,t._protocol),i="DELETE",s=t.maxOperationRetryTime;function o(u,c){}const a=new _i(r,i,o,s);return a.successCodes=[200,204],a.errorHandler=ap(e),a}function dM(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function _x(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=dM(null,e)),r}function fM(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let v="";for(let _=0;_<2;_++)v=v+Math.random().toString().slice(2);return v}const u=a();o["Content-Type"]="multipart/related; boundary="+u;const c=_x(e,r,i),l=Q0(c,n),h="--"+u+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+l+`\r
--`+u+`\r
Content-Type: `+c.contentType+`\r
\r
`,d=`\r
--`+u+"--",f=Xr.getBlob(h,r,d);if(f===null)throw ux();const p={name:c.fullPath},m=Ss(s,t.host,t._protocol),w="POST",y=t.maxUploadRetryTime,g=new _i(m,w,op(t,n),y);return g.urlParams=p,g.headers=o,g.body=f.uploadData(),g.errorHandler=lu(e),g}class Yd{constructor(e,n,r,i){this.current=e,this.total=n,this.finalized=!!r,this.metadata=i||null}}function Y0(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{Lr(!1)}return Lr(!!n&&(e||["active"]).indexOf(n)!==-1),n}function pM(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o=_x(e,r,i),a={name:o.fullPath},u=Ss(s,t.host,t._protocol),c="POST",l={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},h=Q0(o,n),d=t.maxUploadRetryTime;function f(m){Y0(m);let w;try{w=m.getResponseHeader("X-Goog-Upload-URL")}catch{Lr(!1)}return Lr(ip(w)),w}const p=new _i(u,c,f,d);return p.urlParams=a,p.headers=l,p.body=h,p.errorHandler=lu(e),p}function mM(t,e,n,r){const i={"X-Goog-Upload-Command":"query"};function s(c){const l=Y0(c,["active","final"]);let h=null;try{h=c.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Lr(!1)}h||Lr(!1);const d=Number(h);return Lr(!isNaN(d)),new Yd(d,r.size(),l==="final")}const o="POST",a=t.maxUploadRetryTime,u=new _i(n,o,s,a);return u.headers=i,u.errorHandler=lu(e),u}const US=256*1024;function gM(t,e,n,r,i,s,o,a){const u=new Yd(0,0);if(o?(u.current=o.current,u.total=o.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw RL();const c=u.total-u.current;let l=c;i>0&&(l=Math.min(l,i));const h=u.current,d=h+l;let f="";l===0?f="finalize":c===l?f="upload, finalize":f="upload";const p={"X-Goog-Upload-Command":f,"X-Goog-Upload-Offset":`${u.current}`},m=r.slice(h,d);if(m===null)throw ux();function w(_,k){const x=Y0(_,["active","final"]),R=u.current+l,U=r.size();let G;return x==="final"?G=op(e,s)(_,k):G=null,new Yd(R,U,x==="final",G)}const y="POST",g=e.maxUploadRetryTime,v=new _i(n,y,w,g);return v.headers=p,v.body=m.uploadData(),v.progressCallback=a||null,v.errorHandler=lu(t),v}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yM={STATE_CHANGED:"state_changed"},on={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function cg(t){switch(t){case"running":case"pausing":case"canceling":return on.RUNNING;case"paused":return on.PAUSED;case"success":return on.SUCCESS;case"canceled":return on.CANCELED;case"error":return on.ERROR;default:return on.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vM{constructor(e,n,r){if(FL(e)||n!=null||r!=null)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{const s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mo(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class wM{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Js.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Js.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Js.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw Fu("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Fu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Fu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Fu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Fu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class _M extends wM{initXhr(){this.xhr_.responseType="text"}}function Tr(){return new _M}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sx{constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=sp(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals("canceled"))this._needToFetchStatus=!0,this.completeTransitions_();else{const s=this.isExponentialBackoffExpired();if(dx(i.status,[]))if(s)i=ox();else{this.sleepTime=Math.max(this.sleepTime*2,wL),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals("canceled")?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,s)=>{this._resolve=i,this._reject=s,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const r=pM(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Tr,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const i=mM(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(i,Tr,n,r);this._request=s,s.getPromise().then(o=>{o=o,this._request=void 0,this._updateProgress(o.current),this._needToFetchStatus=!1,o.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=US*this._chunkMultiplier,n=new Yd(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,s)=>{let o;try{o=gM(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(u){this._error=u,this._transition("error");return}const a=this._ref.storage._makeRequest(o,Tr,i,s,!1);this._request=a,a.getPromise().then(u=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(u.current),u.finalized?(this._metadata=u.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){US*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=wx(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,Tr,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=fM(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Tr,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=ax(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=cg(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,i){const s=new vM(n||void 0,r||void 0,i||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(cg(this._state)){case on.SUCCESS:Mo(this._resolve.bind(null,this.snapshot))();break;case on.CANCELED:case on.ERROR:const n=this._reject;Mo(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(cg(this._state)){case on.RUNNING:case on.PAUSED:e.next&&Mo(e.next.bind(e,this.snapshot))();break;case on.SUCCESS:e.complete&&Mo(e.complete.bind(e))();break;case on.CANCELED:case on.ERROR:e.error&&Mo(e.error.bind(e,this._error))();break;default:e.error&&Mo(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(e,n){this._service=e,n instanceof Gt?this._location=n:this._location=Gt.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new ho(e,n)}get root(){const e=new Gt(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return yx(this._location.path)}get storage(){return this._service}get parent(){const e=XL(this._location.path);if(e===null)return null;const n=new Gt(this._location.bucket,e);return new ho(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw lx(e)}}function SM(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new Sx(t,new Xr(e),n)}function EM(t){const e={prefixes:[],items:[]};return Ex(t,e).then(()=>e)}async function Ex(t,e,n){const i=await Ix(t,{pageToken:n});e.prefixes.push(...i.prefixes),e.items.push(...i.items),i.nextPageToken!=null&&await Ex(t,e,i.nextPageToken)}function Ix(t,e){e!=null&&typeof e.maxResults=="number"&&qy("options.maxResults",1,1e3,e.maxResults);const n=e||{},r=uM(t.storage,t._location,"/",n.pageToken,n.maxResults);return t.storage.makeRequestWithTokens(r,Tr)}function IM(t){t._throwIfRoot("getMetadata");const e=wx(t.storage,t._location,sp());return t.storage.makeRequestWithTokens(e,Tr)}function bM(t,e){t._throwIfRoot("updateMetadata");const n=lM(t.storage,t._location,e,sp());return t.storage.makeRequestWithTokens(n,Tr)}function TM(t){t._throwIfRoot("getDownloadURL");const e=cM(t.storage,t._location,sp());return t.storage.makeRequestWithTokens(e,Tr).then(n=>{if(n===null)throw CL();return n})}function kM(t){t._throwIfRoot("deleteObject");const e=hM(t.storage,t._location);return t.storage.makeRequestWithTokens(e,Tr)}function bx(t,e){const n=JL(t._location.path,e),r=new Gt(t._location.bucket,n);return new ho(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xM(t){return/^[A-Za-z]+:\/\//.test(t)}function RM(t,e){return new ho(t,e)}function Tx(t,e){if(t instanceof X0){const n=t;if(n._bucket==null)throw xL();const r=new ho(n,n._bucket);return e!=null?Tx(r,e):r}else return e!==void 0?bx(t,e):t}function CM(t,e){if(e&&xM(e)){if(t instanceof X0)return RM(t,e);throw va("To use ref(service, url), the first argument must be a Storage instance.")}else return Tx(t,e)}function jS(t,e){const n=e==null?void 0:e[sx];return n==null?null:Gt.makeFromBucketSpec(n,t)}function PM(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:Hk(i,t.app.options.projectId))}class X0{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=ix,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=yL,this._maxUploadRetryTime=vL,this._requests=new Set,i!=null?this._bucket=Gt.makeFromBucketSpec(i,this._host):this._bucket=jS(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Gt.makeFromBucketSpec(this._url,e):this._bucket=jS(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){qy("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){qy("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ho(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new AL(cx());{const o=BL(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const VS="@firebase/storage",BS="0.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AM="storage";function OM(t,e,n){return t=Q(t),SM(t,e,n)}function NM(t){return t=Q(t),IM(t)}function DM(t,e){return t=Q(t),bM(t,e)}function FM(t,e){return t=Q(t),Ix(t,e)}function $M(t){return t=Q(t),EM(t)}function LM(t){return t=Q(t),TM(t)}function MM(t){return t=Q(t),kM(t)}function qS(t,e){return t=Q(t),CM(t,e)}function UM(t,e){return bx(t,e)}function jM(t,e,n,r={}){PM(t,e,n,r)}function VM(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new X0(n,r,i,e,_s)}function BM(){fi(new tr(AM,VM,"PUBLIC").setMultipleInstances(!0)),Jn(VS,BS,""),Jn(VS,BS,"esm2017")}BM();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(e,n,r){this._delegate=e,this.task=n,this.ref=r}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{constructor(e,n){this._delegate=e,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new Fh(this._delegate.snapshot,this,this._ref)}then(e,n){return this._delegate.then(r=>{if(e)return e(new Fh(r,this,this._ref))},n)}on(e,n,r,i){let s;return n&&(typeof n=="function"?s=o=>n(new Fh(o,this,this._ref)):s={next:n.next?o=>n.next(new Fh(o,this,this._ref)):void 0,complete:n.complete||void 0,error:n.error||void 0}),this._delegate.on(e,s,r||void 0,i||void 0)}}class HS{constructor(e,n){this._delegate=e,this._service=n}get prefixes(){return this._delegate.prefixes.map(e=>new si(e,this._service))}get items(){return this._delegate.items.map(e=>new si(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *  http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si{constructor(e,n){this._delegate=e,this.storage=n}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const n=UM(this._delegate,e);return new si(n,this.storage)}get root(){return new si(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return e==null?null:new si(e,this.storage)}put(e,n){return this._throwIfRoot("put"),new zS(OM(this._delegate,e,n),this)}putString(e,n=Qn.RAW,r){this._throwIfRoot("putString");const i=fx(n,e),s=Object.assign({},r);return s.contentType==null&&i.contentType!=null&&(s.contentType=i.contentType),new zS(new Sx(this._delegate,new Xr(i.data,!0),s),this)}listAll(){return $M(this._delegate).then(e=>new HS(e,this.storage))}list(e){return FM(this._delegate,e||void 0).then(n=>new HS(n,this.storage))}getMetadata(){return NM(this._delegate)}updateMetadata(e){return DM(this._delegate,e)}getDownloadURL(){return LM(this._delegate)}delete(){return this._throwIfRoot("delete"),MM(this._delegate)}_throwIfRoot(e){if(this._delegate._location.path==="")throw lx(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kx{constructor(e,n){this.app=e,this._delegate=n}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(WS(e))throw va("ref() expected a child path but got a URL, use refFromURL instead.");return new si(qS(this._delegate,e),this)}refFromURL(e){if(!WS(e))throw va("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Gt.makeFromUrl(e,this._delegate.host)}catch{throw va("refFromUrl() expected a valid full URL but got an invalid one.")}return new si(qS(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,n,r={}){jM(this._delegate,e,n,r)}}function WS(t){return/^[A-Za-z]+:\/\//.test(t)}const qM="@firebase/storage-compat",zM="0.2.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HM="storage-compat";function WM(t,{instanceIdentifier:e}){const n=t.getProvider("app-compat").getImmediate(),r=t.getProvider("storage").getImmediate({identifier:e});return new kx(n,r)}function KM(t){const e={TaskState:on,TaskEvent:yM,StringFormat:Qn,Storage:kx,Reference:si};t.INTERNAL.registerComponent(new tr(HM,WM,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),t.registerVersion(qM,zM)}KM(mr);var GM="firebase",QM="9.15.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mr.registerVersion(GM,QM,"app-compat");function J0(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}const $u={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Uo={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YM(){return{["admin-restricted-operation"]:"This operation is restricted to administrators only.",["argument-error"]:"",["app-not-authorized"]:"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.",["app-not-installed"]:"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.",["captcha-check-failed"]:"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.",["code-expired"]:"The SMS code has expired. Please re-send the verification code to try again.",["cordova-not-ready"]:"Cordova framework is not ready.",["cors-unsupported"]:"This browser is not supported.",["credential-already-in-use"]:"This credential is already associated with a different user account.",["custom-token-mismatch"]:"The custom token corresponds to a different audience.",["requires-recent-login"]:"This operation is sensitive and requires recent authentication. Log in again before retrying this request.",["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.",["dynamic-link-not-activated"]:"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.",["email-change-needs-verification"]:"Multi-factor users must always have a verified email.",["email-already-in-use"]:"The email address is already in use by another account.",["emulator-config-failed"]:'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',["expired-action-code"]:"The action code has expired.",["cancelled-popup-request"]:"This operation has been cancelled due to another conflicting popup being opened.",["internal-error"]:"An internal AuthError has occurred.",["invalid-app-credential"]:"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.",["invalid-app-id"]:"The mobile app identifier is not registed for the current project.",["invalid-user-token"]:"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.",["invalid-auth-event"]:"An internal AuthError has occurred.",["invalid-verification-code"]:"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.",["invalid-continue-uri"]:"The continue URL provided in the request is invalid.",["invalid-cordova-configuration"]:"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.",["invalid-custom-token"]:"The custom token format is incorrect. Please check the documentation.",["invalid-dynamic-link-domain"]:"The provided dynamic link domain is not configured or authorized for the current project.",["invalid-email"]:"The email address is badly formatted.",["invalid-emulator-scheme"]:"Emulator URL must start with a valid scheme (http:// or https://).",["invalid-api-key"]:"Your API key is invalid, please check you have copied it correctly.",["invalid-cert-hash"]:"The SHA-1 certificate hash provided is invalid.",["invalid-credential"]:"The supplied auth credential is malformed or has expired.",["invalid-message-payload"]:"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.",["invalid-multi-factor-session"]:"The request does not contain a valid proof of first factor successful sign-in.",["invalid-oauth-provider"]:"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.",["invalid-oauth-client-id"]:"The OAuth client ID provided is either invalid or does not match the specified API key.",["unauthorized-domain"]:"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.",["invalid-action-code"]:"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.",["wrong-password"]:"The password is invalid or the user does not have a password.",["invalid-persistence-type"]:"The specified persistence type is invalid. It can only be local, session or none.",["invalid-phone-number"]:"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].",["invalid-provider-id"]:"The specified provider ID is invalid.",["invalid-recipient-email"]:"The email corresponding to this action failed to send as the provided recipient email address is invalid.",["invalid-sender"]:"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.",["invalid-verification-id"]:"The verification ID used to create the phone auth credential is invalid.",["invalid-tenant-id"]:"The Auth instance's tenant ID is invalid.",["login-blocked"]:"Login blocked by user-provided method: {$originalMessage}",["missing-android-pkg-name"]:"An Android Package Name must be provided if the Android App is required to be installed.",["auth-domain-config-required"]:"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.",["missing-app-credential"]:"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.",["missing-verification-code"]:"The phone auth credential was created with an empty SMS verification code.",["missing-continue-uri"]:"A continue URL must be provided in the request.",["missing-iframe-start"]:"An internal AuthError has occurred.",["missing-ios-bundle-id"]:"An iOS Bundle ID must be provided if an App Store ID is provided.",["missing-or-invalid-nonce"]:"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.",["missing-multi-factor-info"]:"No second factor identifier is provided.",["missing-multi-factor-session"]:"The request is missing proof of first factor successful sign-in.",["missing-phone-number"]:"To send verification codes, provide a phone number for the recipient.",["missing-verification-id"]:"The phone auth credential was created with an empty verification ID.",["app-deleted"]:"This instance of FirebaseApp has been deleted.",["multi-factor-info-not-found"]:"The user does not have a second factor matching the identifier provided.",["multi-factor-auth-required"]:"Proof of ownership of a second factor is required to complete sign-in.",["account-exists-with-different-credential"]:"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.",["network-request-failed"]:"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.",["no-auth-event"]:"An internal AuthError has occurred.",["no-such-provider"]:"User was not linked to an account with the given provider.",["null-user"]:"A null user object was provided as the argument for an operation which requires a non-null user object.",["operation-not-allowed"]:"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.",["operation-not-supported-in-this-environment"]:'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',["popup-blocked"]:"Unable to establish a connection with the popup. It may have been blocked by the browser.",["popup-closed-by-user"]:"The popup has been closed by the user before finalizing the operation.",["provider-already-linked"]:"User can only be linked to one identity for the given provider.",["quota-exceeded"]:"The project's quota for this operation has been exceeded.",["redirect-cancelled-by-user"]:"The redirect operation has been cancelled by the user before finalizing.",["redirect-operation-pending"]:"A redirect sign-in operation is already pending.",["rejected-credential"]:"The request contains malformed or mismatching credentials.",["second-factor-already-in-use"]:"The second factor is already enrolled on this account.",["maximum-second-factor-count-exceeded"]:"The maximum allowed number of second factors on a user has been exceeded.",["tenant-id-mismatch"]:"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.",["user-token-expired"]:"The user's credential is no longer valid. The user must sign in again.",["too-many-requests"]:"We have blocked all requests from this device due to unusual activity. Try again later.",["unauthorized-continue-uri"]:"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.",["unsupported-first-factor"]:"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.",["unsupported-persistence-type"]:"The current environment does not support the specified persistence type.",["unsupported-tenant-operation"]:"This operation is not supported in a multi-tenant context.",["unverified-email"]:"The operation requires a verified email.",["user-cancelled"]:"The user did not grant your application the permissions it requested.",["user-not-found"]:"There is no user record corresponding to this identifier. The user may have been deleted.",["user-disabled"]:"The user account has been disabled by an administrator.",["user-mismatch"]:"The supplied credentials do not correspond to the previously signed in user.",["user-signed-out"]:"",["weak-password"]:"The password must be 6 characters long or more.",["web-storage-unsupported"]:"This browser is not supported or 3rd party cookies and data may be disabled.",["already-initialized"]:"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}}function xx(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const XM=YM,JM=xx,Rx=new Ro("auth","Firebase",xx());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KS=new rp("@firebase/auth");function od(t,...e){KS.logLevel<=ye.ERROR&&KS.error(`Auth (${_s}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ut(t,...e){throw Z0(t,...e)}function $t(t,...e){return Z0(t,...e)}function Cx(t,e,n){const r=Object.assign(Object.assign({},JM()),{[e]:n});return new Ro("auth","Firebase",r).create(e,{appName:t.name})}function hu(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Ut(t,"argument-error"),Cx(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Z0(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Rx.create(t,...e)}function D(t,e,...n){if(!t)throw Z0(e,...n)}function Or(t){const e="INTERNAL ASSERTION FAILED: "+t;throw od(e),new Error(e)}function pr(t,e){t||Or(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GS=new Map;function Dn(t){pr(t instanceof Function,"Expected a class definition");let e=GS.get(t);return e?(pr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,GS.set(t,e),e)}function ZM(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Dn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function el(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function ew(){return QS()==="http:"||QS()==="https:"}function QS(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eU(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ew()||qk()||"connection"in navigator)?navigator.onLine:!0}function tU(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{constructor(e,n){this.shortDelay=e,this.longDelay=n,pr(n>e,"Short delay should be less than long delay!"),this.isMobile=$$()||j0()}get(){return eU()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tw(t,e){pr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Px{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;Or("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;Or("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;Or("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nU={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rU=new Ll(3e4,6e4);function yt(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function kt(t,e,n,r,i={}){return Ax(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=cu(Object.assign({key:t.config.apiKey},o)).slice(1),u=await t._getAdditionalHeaders();return u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),Px.fetch()(Ox(t,t.config.apiHost,n,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))})}async function Ax(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},nU),e);try{const i=new iU(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw nc(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,c]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw nc(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw nc(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw nc(t,"user-disabled",o);const l=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw Cx(t,l,c);Ut(t,l)}}catch(i){if(i instanceof Qt)throw i;Ut(t,"network-request-failed")}}async function Si(t,e,n,r,i={}){const s=await kt(t,e,n,r,i);return"mfaPendingCredential"in s&&Ut(t,"multi-factor-auth-required",{_serverResponse:s}),s}function Ox(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?tw(t.config,i):`${t.config.apiScheme}://${i}`}class iU{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r($t(this.auth,"network-request-failed")),rU.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function nc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=$t(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sU(t,e){return kt(t,"POST","/v1/accounts:delete",e)}async function oU(t,e){return kt(t,"POST","/v1/accounts:update",e)}async function aU(t,e){return kt(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function uU(t,e=!1){const n=Q(t),r=await n.getIdToken(e),i=up(r);D(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:vc(lg(i.auth_time)),issuedAtTime:vc(lg(i.iat)),expirationTime:vc(lg(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function lg(t){return Number(t)*1e3}function up(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return od("JWT malformed, contained fewer than 3 sections"),null;try{const i=Bk(n);return i?JSON.parse(i):(od("Failed to decode base64 JWT payload"),null)}catch(i){return od("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function cU(t){const e=up(t);return D(e,"internal-error"),D(typeof e.exp<"u","internal-error"),D(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pi(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Qt&&lU(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function lU({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hU{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nx{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=vc(this.lastLoginAt),this.creationTime=vc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tl(t){var e;const n=t.auth,r=await t.getIdToken(),i=await pi(t,aU(n,{idToken:r}));D(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?pU(s.providerUserInfo):[],a=fU(t.providerData,o),u=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),l=u?c:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Nx(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(t,h)}async function dU(t){const e=Q(t);await tl(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function fU(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function pU(t){return t.map(e=>{var{providerId:n}=e,r=J0(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mU(t,e){const n=await Ax(t,{},async()=>{const r=cu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=Ox(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Px.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){D(e.idToken,"internal-error"),D(typeof e.idToken<"u","internal-error"),D(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):cU(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return D(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await mU(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new nl;return r&&(D(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(D(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(D(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new nl,this.toJSON())}_performRefresh(){return Or("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ri(t,e){D(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Zs{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=J0(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new hU(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Nx(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await pi(this,this.stsTokenManager.getToken(this.auth,e));return D(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return uU(this,e)}reload(){return dU(this)}_assign(e){this!==e&&(D(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new Zs(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){D(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await tl(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await pi(this,sU(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,c,l;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,d=(i=n.email)!==null&&i!==void 0?i:void 0,f=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,p=(o=n.photoURL)!==null&&o!==void 0?o:void 0,m=(a=n.tenantId)!==null&&a!==void 0?a:void 0,w=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,y=(c=n.createdAt)!==null&&c!==void 0?c:void 0,g=(l=n.lastLoginAt)!==null&&l!==void 0?l:void 0,{uid:v,emailVerified:_,isAnonymous:k,providerData:x,stsTokenManager:R}=n;D(v&&R,e,"internal-error");const U=nl.fromJSON(this.name,R);D(typeof v=="string",e,"internal-error"),Ri(h,e.name),Ri(d,e.name),D(typeof _=="boolean",e,"internal-error"),D(typeof k=="boolean",e,"internal-error"),Ri(f,e.name),Ri(p,e.name),Ri(m,e.name),Ri(w,e.name),Ri(y,e.name),Ri(g,e.name);const G=new Zs({uid:v,auth:e,email:d,emailVerified:_,displayName:h,isAnonymous:k,photoURL:p,phoneNumber:f,tenantId:m,stsTokenManager:U,createdAt:y,lastLoginAt:g});return x&&Array.isArray(x)&&(G.providerData=x.map(Y=>Object.assign({},Y))),w&&(G._redirectEventId=w),G}static async _fromIdTokenResponse(e,n,r=!1){const i=new nl;i.updateFromServerResponse(n);const s=new Zs({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await tl(s),s}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dx{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Dx.type="NONE";const Na=Dx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eo(t,e,n){return`firebase:${t}:${e}:${n}`}class wa{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=eo(this.userKey,i.apiKey,s),this.fullPersistenceKey=eo("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Zs._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new wa(Dn(Na),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||Dn(Na);const o=eo(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const l=await c._get(o);if(l){const h=Zs._fromJSON(e,l);c!==s&&(a=h),s=c;break}}catch{}const u=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new wa(s,e,r):(s=u[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new wa(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YS(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Lx(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Fx(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Mx(e))return"Blackberry";if(Ux(e))return"Webos";if(nw(e))return"Safari";if((e.includes("chrome/")||$x(e))&&!e.includes("edge/"))return"Chrome";if(Ml(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Fx(t=Ke()){return/firefox\//i.test(t)}function nw(t=Ke()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function $x(t=Ke()){return/crios\//i.test(t)}function Lx(t=Ke()){return/iemobile/i.test(t)}function Ml(t=Ke()){return/android/i.test(t)}function Mx(t=Ke()){return/blackberry/i.test(t)}function Ux(t=Ke()){return/webos/i.test(t)}function du(t=Ke()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function gU(t=Ke()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(t)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(t)}function yU(t=Ke()){var e;return du(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function vU(){return zk()&&document.documentMode===10}function jx(t=Ke()){return du(t)||Ml(t)||Ux(t)||Mx(t)||/windows phone/i.test(t)||Lx(t)}function wU(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vx(t,e=[]){let n;switch(t){case"Browser":n=YS(Ke());break;case"Worker":n=`${YS(Ke())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${_s}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _U{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const u=e(s);o(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SU{constructor(e,n,r){this.app=e,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new XS(this),this.idTokenSubscription=new XS(this),this.beforeStateQueue=new _U(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Rx,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Dn(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await wa.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===a)&&(u!=null&&u.user)&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return D(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await tl(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=tU()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?Q(e):null;return n&&D(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&D(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Dn(e))})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ro("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Dn(e)||this._popupRedirectResolver;D(n,this,"argument-error"),this.redirectPersistenceManager=await wa.create(this,[Dn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return D(o,this,"internal-error"),o.then(()=>s(this.currentUser)),typeof n=="function"?e.addObserver(n,r,i):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return D(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Vx(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());return r&&(n["X-Firebase-Client"]=r),n}}function bt(t){return Q(t)}class XS{constructor(e){this.auth=e,this.observer=null,this.addObserver=Wk(n=>this.observer=n)}get next(){return D(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function EU(t,e,n){const r=bt(t);D(r._canInitEmulator,r,"emulator-config-failed"),D(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=Bx(e),{host:o,port:a}=IU(e),u=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||bU()}function Bx(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function IU(t){const e=Bx(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:JS(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:JS(o)}}}function JS(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function bU(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Or("not implemented")}_getIdTokenResponse(e){return Or("not implemented")}_linkToIdToken(e,n){return Or("not implemented")}_getReauthenticationResolver(e){return Or("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qx(t,e){return kt(t,"POST","/v1/accounts:resetPassword",yt(t,e))}async function zx(t,e){return kt(t,"POST","/v1/accounts:update",e)}async function TU(t,e){return kt(t,"POST","/v1/accounts:update",yt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kU(t,e){return Si(t,"POST","/v1/accounts:signInWithPassword",yt(t,e))}async function cp(t,e){return kt(t,"POST","/v1/accounts:sendOobCode",yt(t,e))}async function xU(t,e){return cp(t,e)}async function RU(t,e){return cp(t,e)}async function CU(t,e){return cp(t,e)}async function PU(t,e){return cp(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AU(t,e){return Si(t,"POST","/v1/accounts:signInWithEmailLink",yt(t,e))}async function OU(t,e){return Si(t,"POST","/v1/accounts:signInWithEmailLink",yt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl extends fu{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new rl(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new rl(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return kU(e,{returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return AU(e,{email:this._email,oobCode:this._password});default:Ut(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return zx(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return OU(e,{idToken:n,email:this._email,oobCode:this._password});default:Ut(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oi(t,e){return Si(t,"POST","/v1/accounts:signInWithIdp",yt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NU="http://localhost";class qr extends fu{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new qr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ut("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=J0(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new qr(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return oi(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,oi(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,oi(e,n)}buildRequest(){const e={requestUri:NU,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=cu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DU(t,e){return kt(t,"POST","/v1/accounts:sendVerificationCode",yt(t,e))}async function FU(t,e){return Si(t,"POST","/v1/accounts:signInWithPhoneNumber",yt(t,e))}async function $U(t,e){const n=await Si(t,"POST","/v1/accounts:signInWithPhoneNumber",yt(t,e));if(n.temporaryProof)throw nc(t,"account-exists-with-different-credential",n);return n}const LU={USER_NOT_FOUND:"user-not-found"};async function MU(t,e){const n=Object.assign(Object.assign({},e),{operation:"REAUTH"});return Si(t,"POST","/v1/accounts:signInWithPhoneNumber",yt(t,n),LU)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to extends fu{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,n){return new to({verificationId:e,verificationCode:n})}static _fromTokenResponse(e,n){return new to({phoneNumber:e,temporaryProof:n})}_getIdTokenResponse(e){return FU(e,this._makeVerificationRequest())}_linkToIdToken(e,n){return $U(e,Object.assign({idToken:n},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return MU(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:n,verificationId:r,verificationCode:i}=this.params;return e&&n?{temporaryProof:e,phoneNumber:n}:{sessionInfo:r,code:i}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:s}=e;return!r&&!n&&!i&&!s?null:new to({verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UU(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function jU(t){const e=la(tc(t)).link,n=e?la(tc(e)).deep_link_id:null,r=la(tc(t)).deep_link_id;return(r?la(tc(r)).link:null)||r||n||e||t}class lp{constructor(e){var n,r,i,s,o,a;const u=la(tc(e)),c=(n=u.apiKey)!==null&&n!==void 0?n:null,l=(r=u.oobCode)!==null&&r!==void 0?r:null,h=UU((i=u.mode)!==null&&i!==void 0?i:null);D(c&&l&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=l,this.continueUrl=(s=u.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=u.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=jU(e);try{return new lp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{constructor(){this.providerId=Es.PROVIDER_ID}static credential(e,n){return rl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=lp.parseLink(n);return D(r,"argument-error"),rl._fromEmailAndCode(e,r.code,r.tenantId)}}Es.PROVIDER_ID="password";Es.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Es.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu extends Ei{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class _a extends pu{static credentialFromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;return D("providerId"in n&&"signInMethod"in n,"argument-error"),qr._fromParams(n)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return D(e.idToken||e.accessToken,"argument-error"),qr._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return _a.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return _a.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:s,nonce:o,providerId:a}=e;if(!r&&!i&&!n&&!s||!a)return null;try{return new _a(a)._credential({idToken:n,accessToken:r,nonce:o,pendingToken:s})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr extends pu{constructor(){super("facebook.com")}static credential(e){return qr._fromParams({providerId:kr.PROVIDER_ID,signInMethod:kr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return kr.credentialFromTaggedObject(e)}static credentialFromError(e){return kr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return kr.credential(e.oauthAccessToken)}catch{return null}}}kr.FACEBOOK_SIGN_IN_METHOD="facebook.com";kr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr extends pu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return qr._fromParams({providerId:xr.PROVIDER_ID,signInMethod:xr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return xr.credentialFromTaggedObject(e)}static credentialFromError(e){return xr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return xr.credential(n,r)}catch{return null}}}xr.GOOGLE_SIGN_IN_METHOD="google.com";xr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr extends pu{constructor(){super("github.com")}static credential(e){return qr._fromParams({providerId:Rr.PROVIDER_ID,signInMethod:Rr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Rr.credentialFromTaggedObject(e)}static credentialFromError(e){return Rr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Rr.credential(e.oauthAccessToken)}catch{return null}}}Rr.GITHUB_SIGN_IN_METHOD="github.com";Rr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VU="http://localhost";class Da extends fu{constructor(e,n){super(e,e),this.pendingToken=n}_getIdTokenResponse(e){const n=this.buildRequest();return oi(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,oi(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,oi(e,n)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,pendingToken:s}=n;return!r||!i||!s||r!==i?null:new Da(r,s)}static _create(e,n){return new Da(e,n)}buildRequest(){return{requestUri:VU,returnSecureToken:!0,pendingToken:this.pendingToken}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BU="saml.";class Xd extends Ei{constructor(e){D(e.startsWith(BU),"argument-error"),super(e)}static credentialFromResult(e){return Xd.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return Xd.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const n=Da.fromJSON(e);return D(n,"argument-error"),n}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:n,providerId:r}=e;if(!n||!r)return null;try{return Da._create(r,n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr extends pu{constructor(){super("twitter.com")}static credential(e,n){return qr._fromParams({providerId:Cr.PROVIDER_ID,signInMethod:Cr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Cr.credentialFromTaggedObject(e)}static credentialFromError(e){return Cr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Cr.credential(n,r)}catch{return null}}}Cr.TWITTER_SIGN_IN_METHOD="twitter.com";Cr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hx(t,e){return Si(t,"POST","/v1/accounts:signUp",yt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Zs._fromIdTokenResponse(e,r,i),o=ZS(r);return new nr({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=ZS(r);return new nr({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function ZS(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qU(t){var e;const n=bt(t);if(await n._initializationPromise,!((e=n.currentUser)===null||e===void 0)&&e.isAnonymous)return new nr({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await Hx(n,{returnSecureToken:!0}),i=await nr._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd extends Qt{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Jd.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Jd(e,n,r,i)}}function Wx(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Jd._fromErrorAndOperation(t,s,e,r):s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kx(t){return new Set(t.map(({providerId:e})=>e).filter(e=>!!e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zU(t,e){const n=Q(t);await hp(!0,n,e);const{providerUserInfo:r}=await oU(n.auth,{idToken:await n.getIdToken(),deleteProvider:[e]}),i=Kx(r||[]);return n.providerData=n.providerData.filter(s=>i.has(s.providerId)),i.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function rw(t,e,n=!1){const r=await pi(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return nr._forOperation(t,"link",r)}async function hp(t,e,n){await tl(e);const r=Kx(e.providerData),i=t===!1?"provider-already-linked":"no-such-provider";D(r.has(n)===t,e.auth,i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gx(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await pi(t,Wx(r,i,e,t),n);D(s.idToken,r,"internal-error");const o=up(s.idToken);D(o,r,"internal-error");const{sub:a}=o;return D(t.uid===a,r,"user-mismatch"),nr._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Ut(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qx(t,e,n=!1){const r="signIn",i=await Wx(t,r,e),s=await nr._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function dp(t,e){return Qx(bt(t),e)}async function Yx(t,e){const n=Q(t);return await hp(!1,n,e.providerId),rw(n,e)}async function Xx(t,e){return Gx(Q(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HU(t,e){return Si(t,"POST","/v1/accounts:signInWithCustomToken",yt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WU(t,e){const n=bt(t),r=await HU(n,{token:e,returnSecureToken:!0}),i=await nr._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fp{constructor(e,n){this.factorId=e,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}static _fromServerResponse(e,n){return"phoneInfo"in n?iw._fromServerResponse(e,n):Ut(e,"internal-error")}}class iw extends fp{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,n){return new iw(n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pp(t,e,n){var r;D(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),D(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(D(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(D(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KU(t,e,n){const r=Q(t),i={requestType:"PASSWORD_RESET",email:e};n&&pp(r,i,n),await RU(r,i)}async function GU(t,e,n){await qx(Q(t),{oobCode:e,newPassword:n})}async function QU(t,e){await TU(Q(t),{oobCode:e})}async function Jx(t,e){const n=Q(t),r=await qx(n,{oobCode:e}),i=r.requestType;switch(D(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":D(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":D(r.mfaInfo,n,"internal-error");default:D(r.email,n,"internal-error")}let s=null;return r.mfaInfo&&(s=fp._fromServerResponse(bt(n),r.mfaInfo)),{data:{email:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.newEmail:r.email)||null,previousEmail:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.email:r.newEmail)||null,multiFactorInfo:s},operation:i}}async function YU(t,e){const{data:n}=await Jx(Q(t),e);return n.email}async function XU(t,e,n){const r=bt(t),i=await Hx(r,{returnSecureToken:!0,email:e,password:n}),s=await nr._fromIdTokenResponse(r,"signIn",i);return await r._updateCurrentUser(s.user),s}function JU(t,e,n){return dp(Q(t),Es.credential(e,n))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZU(t,e,n){const r=Q(t),i={requestType:"EMAIL_SIGNIN",email:e};D(n.handleCodeInApp,r,"argument-error"),n&&pp(r,i,n),await CU(r,i)}function ej(t,e){const n=lp.parseLink(e);return(n==null?void 0:n.operation)==="EMAIL_SIGNIN"}async function tj(t,e,n){const r=Q(t),i=Es.credentialWithLink(e,n||el());return D(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),dp(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nj(t,e){return kt(t,"POST","/v1/accounts:createAuthUri",yt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rj(t,e){const n=ew()?el():"http://localhost",r={identifier:e,continueUri:n},{signinMethods:i}=await nj(Q(t),r);return i||[]}async function ij(t,e){const n=Q(t),i={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()};e&&pp(n.auth,i,e);const{email:s}=await xU(n.auth,i);s!==t.email&&await t.reload()}async function sj(t,e,n){const r=Q(t),s={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await t.getIdToken(),newEmail:e};n&&pp(r.auth,s,n);const{email:o}=await PU(r.auth,s);o!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oj(t,e){return kt(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aj(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Q(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await pi(r,oj(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:u})=>u==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function uj(t,e){return Zx(Q(t),e,null)}function cj(t,e){return Zx(Q(t),null,e)}async function Zx(t,e,n){const{auth:r}=t,s={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(s.email=e),n&&(s.password=n);const o=await pi(t,zx(r,s));await t._updateTokensIfNecessary(o,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lj(t){var e,n;if(!t)return null;const{providerId:r}=t,i=t.rawUserInfo?JSON.parse(t.rawUserInfo):{},s=t.isNewUser||t.kind==="identitytoolkit#SignupNewUserResponse";if(!r&&(t!=null&&t.idToken)){const o=(n=(e=up(t.idToken))===null||e===void 0?void 0:e.firebase)===null||n===void 0?void 0:n.sign_in_provider;if(o){const a=o!=="anonymous"&&o!=="custom"?o:null;return new Sa(s,a)}}if(!r)return null;switch(r){case"facebook.com":return new hj(s,i);case"github.com":return new dj(s,i);case"google.com":return new fj(s,i);case"twitter.com":return new pj(s,i,t.screenName||null);case"custom":case"anonymous":return new Sa(s,null);default:return new Sa(s,r,i)}}class Sa{constructor(e,n,r={}){this.isNewUser=e,this.providerId=n,this.profile=r}}class eR extends Sa{constructor(e,n,r,i){super(e,n,r),this.username=i}}class hj extends Sa{constructor(e,n){super(e,"facebook.com",n)}}class dj extends eR{constructor(e,n){super(e,"github.com",n,typeof(n==null?void 0:n.login)=="string"?n==null?void 0:n.login:null)}}class fj extends Sa{constructor(e,n){super(e,"google.com",n)}}class pj extends eR{constructor(e,n,r){super(e,"twitter.com",n,r)}}function mj(t){const{user:e,_tokenResponse:n}=t;return e.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:lj(n)}class Hs{constructor(e,n,r){this.type=e,this.credential=n,this.auth=r}static _fromIdtoken(e,n){return new Hs("enroll",e,n)}static _fromMfaPendingCredential(e){return new Hs("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var n,r;if(e!=null&&e.multiFactorSession){if(!((n=e.multiFactorSession)===null||n===void 0)&&n.pendingCredential)return Hs._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(!((r=e.multiFactorSession)===null||r===void 0)&&r.idToken)return Hs._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{constructor(e,n,r){this.session=e,this.hints=n,this.signInResolver=r}static _fromError(e,n){const r=bt(e),i=n.customData._serverResponse,s=(i.mfaInfo||[]).map(a=>fp._fromServerResponse(r,a));D(i.mfaPendingCredential,r,"internal-error");const o=Hs._fromMfaPendingCredential(i.mfaPendingCredential);return new sw(o,s,async a=>{const u=await a._process(r,o);delete i.mfaInfo,delete i.mfaPendingCredential;const c=Object.assign(Object.assign({},i),{idToken:u.idToken,refreshToken:u.refreshToken});switch(n.operationType){case"signIn":const l=await nr._fromIdTokenResponse(r,n.operationType,c);return await r._updateCurrentUser(l.user),l;case"reauthenticate":return D(n.user,r,"internal-error"),nr._forOperation(n.user,n.operationType,c);default:Ut(r,"internal-error")}})}async resolveSignIn(e){const n=e;return this.signInResolver(n)}}function gj(t,e){var n;const r=Q(t),i=e;return D(e.customData.operationType,r,"argument-error"),D((n=i.customData._serverResponse)===null||n===void 0?void 0:n.mfaPendingCredential,r,"argument-error"),sw._fromError(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yj(t,e){return kt(t,"POST","/v2/accounts/mfaEnrollment:start",yt(t,e))}function vj(t,e){return kt(t,"POST","/v2/accounts/mfaEnrollment:finalize",yt(t,e))}function wj(t,e){return kt(t,"POST","/v2/accounts/mfaEnrollment:withdraw",yt(t,e))}class ow{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(n=>{n.mfaInfo&&(this.enrolledFactors=n.mfaInfo.map(r=>fp._fromServerResponse(e.auth,r)))})}static _fromUser(e){return new ow(e)}async getSession(){return Hs._fromIdtoken(await this.user.getIdToken(),this.user.auth)}async enroll(e,n){const r=e,i=await this.getSession(),s=await pi(this.user,r._process(this.user.auth,i,n));return await this.user._updateTokensIfNecessary(s),this.user.reload()}async unenroll(e){const n=typeof e=="string"?e:e.uid,r=await this.user.getIdToken(),i=await pi(this.user,wj(this.user.auth,{idToken:r,mfaEnrollmentId:n}));this.enrolledFactors=this.enrolledFactors.filter(({uid:s})=>s!==n),await this.user._updateTokensIfNecessary(i);try{await this.user.reload()}catch(s){if((s==null?void 0:s.code)!=="auth/user-token-expired")throw s}}}const hg=new WeakMap;function _j(t){const e=Q(t);return hg.has(e)||hg.set(e,ow._fromUser(e)),hg.get(e)}const Zd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Zd,"1"),this.storage.removeItem(Zd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sj(){const t=Ke();return nw(t)||du(t)}const Ej=1e3,Ij=10;class nR extends tR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=Sj()&&wU(),this.fallbackToPolling=jx(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,u)=>{this.notifyListeners(o,u)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);vU()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Ij):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Ej)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}nR.type="LOCAL";const aw=nR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rR extends tR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}rR.type="SESSION";const fo=rR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bj(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new mp(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),u=await bj(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}mp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ul(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tj{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,u)=>{const c=Ul("",20);i.port1.start();const l=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){const d=h;if(d.data.eventId===c)switch(d.data.status){case"ack":clearTimeout(l),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(d.data.response);break;default:clearTimeout(l),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ft(){return window}function kj(t){ft().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uw(){return typeof ft().WorkerGlobalScope<"u"&&typeof ft().importScripts=="function"}async function xj(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Rj(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Cj(){return uw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iR="firebaseLocalStorageDb",Pj=1,ef="firebaseLocalStorage",sR="fbase_key";class jl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function gp(t,e){return t.transaction([ef],e?"readwrite":"readonly").objectStore(ef)}function Aj(){const t=indexedDB.deleteDatabase(iR);return new jl(t).toPromise()}function zy(){const t=indexedDB.open(iR,Pj);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(ef,{keyPath:sR})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(ef)?e(r):(r.close(),await Aj(),e(await zy()))})})}async function eE(t,e,n){const r=gp(t,!0).put({[sR]:e,value:n});return new jl(r).toPromise()}async function Oj(t,e){const n=gp(t,!1).get(e),r=await new jl(n).toPromise();return r===void 0?null:r.value}function tE(t,e){const n=gp(t,!0).delete(e);return new jl(n).toPromise()}const Nj=800,Dj=3;class oR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await zy(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Dj)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return uw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=mp._getInstance(Cj()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await xj(),!this.activeServiceWorker)return;this.sender=new Tj(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Rj()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await zy();return await eE(e,Zd,"1"),await tE(e,Zd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>eE(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Oj(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>tE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=gp(i,!1).getAll();return new jl(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Nj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}oR.type="LOCAL";const il=oR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fj(t,e){return kt(t,"POST","/v2/accounts/mfaSignIn:start",yt(t,e))}function $j(t,e){return kt(t,"POST","/v2/accounts/mfaSignIn:finalize",yt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lj(t){return(await kt(t,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mj(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function aR(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=$t("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",Mj().appendChild(r)})}function uR(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uj=500,jj=6e4,$h=1e12;class Vj{constructor(e){this.auth=e,this.counter=$h,this._widgets=new Map}render(e,n){const r=this.counter;return this._widgets.set(r,new Bj(e,this.auth.name,n||{})),this.counter++,r}reset(e){var n;const r=e||$h;(n=this._widgets.get(r))===null||n===void 0||n.delete(),this._widgets.delete(r)}getResponse(e){var n;const r=e||$h;return((n=this._widgets.get(r))===null||n===void 0?void 0:n.getResponse())||""}async execute(e){var n;const r=e||$h;return(n=this._widgets.get(r))===null||n===void 0||n.execute(),""}}class Bj{constructor(e,n,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const i=typeof e=="string"?document.getElementById(e):e;D(i,"argument-error",{appName:n}),this.container=i,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=qj(50);const{callback:e,"expired-callback":n}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,n)try{n()}catch{}this.isVisible&&this.execute()},jj)},Uj))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function qj(t){const e=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<t;r++)e.push(n.charAt(Math.floor(Math.random()*n.length)));return e.join("")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dg=uR("rcb"),zj=new Ll(3e4,6e4),Hj="https://www.google.com/recaptcha/api.js?";class Wj{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((e=ft().grecaptcha)===null||e===void 0)&&e.render)}load(e,n=""){return D(Kj(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(ft().grecaptcha):new Promise((r,i)=>{const s=ft().setTimeout(()=>{i($t(e,"network-request-failed"))},zj.get());ft()[dg]=()=>{ft().clearTimeout(s),delete ft()[dg];const a=ft().grecaptcha;if(!a){i($t(e,"internal-error"));return}const u=a.render;a.render=(c,l)=>{const h=u(c,l);return this.counter++,h},this.hostLanguage=n,r(a)};const o=`${Hj}?${cu({onload:dg,render:"explicit",hl:n})}`;aR(o).catch(()=>{clearTimeout(s),i($t(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var n;return!!(!((n=ft().grecaptcha)===null||n===void 0)&&n.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function Kj(t){return t.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(t)}class Gj{async load(e){return new Vj(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cR="recaptcha",Qj={theme:"light",type:"image"};let Yj=class{constructor(e,n=Object.assign({},Qj),r){this.parameters=n,this.type=cR,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=bt(r),this.isInvisible=this.parameters.size==="invisible",D(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const i=typeof e=="string"?document.getElementById(e):e;D(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Gj:new Wj,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),n=this.getAssertedRecaptcha(),r=n.getResponse(e);return r||new Promise(i=>{const s=o=>{o&&(this.tokenChangeListeners.delete(s),i(o))};this.tokenChangeListeners.add(s),this.isInvisible&&n.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){D(!this.parameters.sitekey,this.auth,"argument-error"),D(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),D(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return n=>{if(this.tokenChangeListeners.forEach(r=>r(n)),typeof e=="function")e(n);else if(typeof e=="string"){const r=ft()[e];typeof r=="function"&&r(n)}}}assertNotDestroyed(){D(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const n=document.createElement("div");e.appendChild(n),e=n}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){D(ew()&&!uw(),this.auth,"internal-error"),await Xj(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await Lj(this.auth);D(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return D(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function Xj(){let t=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}t=()=>e(),window.addEventListener("load",t)}).catch(e=>{throw t&&window.removeEventListener("load",t),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw{constructor(e,n){this.verificationId=e,this.onConfirmation=n}confirm(e){const n=to._fromVerification(this.verificationId,e);return this.onConfirmation(n)}}async function Jj(t,e,n){const r=bt(t),i=await yp(r,e,Q(n));return new cw(i,s=>dp(r,s))}async function Zj(t,e,n){const r=Q(t);await hp(!1,r,"phone");const i=await yp(r.auth,e,Q(n));return new cw(i,s=>Yx(r,s))}async function eV(t,e,n){const r=Q(t),i=await yp(r.auth,e,Q(n));return new cw(i,s=>Xx(r,s))}async function yp(t,e,n){var r;const i=await n.verify();try{D(typeof i=="string",t,"argument-error"),D(n.type===cR,t,"argument-error");let s;if(typeof e=="string"?s={phoneNumber:e}:s=e,"session"in s){const o=s.session;if("phoneNumber"in s)return D(o.type==="enroll",t,"internal-error"),(await yj(t,{idToken:o.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}})).phoneSessionInfo.sessionInfo;{D(o.type==="signin",t,"internal-error");const a=((r=s.multiFactorHint)===null||r===void 0?void 0:r.uid)||s.multiFactorUid;return D(a,t,"missing-multi-factor-info"),(await Fj(t,{mfaPendingCredential:o.credential,mfaEnrollmentId:a,phoneSignInInfo:{recaptchaToken:i}})).phoneResponseInfo.sessionInfo}}else{const{sessionInfo:o}=await DU(t,{phoneNumber:s.phoneNumber,recaptchaToken:i});return o}}finally{n._reset()}}async function tV(t,e){await rw(Q(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mr=class{constructor(e){this.providerId=Mr.PROVIDER_ID,this.auth=bt(e)}verifyPhoneNumber(e,n){return yp(this.auth,e,Q(n))}static credential(e,n){return to._fromVerification(e,n)}static credentialFromResult(e){const n=e;return Mr.credentialFromTaggedObject(n)}static credentialFromError(e){return Mr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:n,temporaryProof:r}=e;return n&&r?to._fromTokenResponse(n,r):null}};Mr.PROVIDER_ID="phone";Mr.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Co(t,e){return e?Dn(e):(D(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw extends fu{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return oi(e,this._buildIdpRequest())}_linkToIdToken(e,n){return oi(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return oi(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function nV(t){return Qx(t.auth,new lw(t),t.bypassAuthState)}function rV(t){const{auth:e,user:n}=t;return D(n,e,"internal-error"),Gx(n,new lw(t),t.bypassAuthState)}async function iV(t){const{auth:e,user:n}=t;return D(n,e,"internal-error"),rw(n,new lw(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(u))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return nV;case"linkViaPopup":case"linkViaRedirect":return iV;case"reauthViaPopup":case"reauthViaRedirect":return rV;default:Ut(this.auth,"internal-error")}}resolve(e){pr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){pr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sV=new Ll(2e3,1e4);async function oV(t,e,n){const r=bt(t);hu(t,e,Ei);const i=Co(r,n);return new ei(r,"signInViaPopup",e,i).executeNotNull()}async function aV(t,e,n){const r=Q(t);hu(r.auth,e,Ei);const i=Co(r.auth,n);return new ei(r.auth,"reauthViaPopup",e,i,r).executeNotNull()}async function uV(t,e,n){const r=Q(t);hu(r.auth,e,Ei);const i=Co(r.auth,n);return new ei(r.auth,"linkViaPopup",e,i,r).executeNotNull()}class ei extends lR{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,ei.currentPopupAction&&ei.currentPopupAction.cancel(),ei.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return D(e,this.auth,"internal-error"),e}async onExecution(){pr(this.filter.length===1,"Popup operations only handle one event");const e=Ul();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject($t(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject($t(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ei.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject($t(this.auth,"popup-closed-by-user"))},2e3);return}this.pollId=window.setTimeout(e,sV.get())};e()}}ei.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cV="pendingRedirect",wc=new Map;class lV extends lR{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=wc.get(this.auth._key());if(!e){try{const r=await hV(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}wc.set(this.auth._key(),e)}return this.bypassAuthState||wc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function hV(t,e){const n=dR(e),r=hR(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}async function hw(t,e){return hR(t)._set(dR(e),"true")}function dV(){wc.clear()}function dw(t,e){wc.set(t._key(),e)}function hR(t){return Dn(t._redirectPersistence)}function dR(t){return eo(cV,t.config.apiKey,t.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fV(t,e,n){return pV(t,e,n)}async function pV(t,e,n){const r=bt(t);hu(t,e,Ei);const i=Co(r,n);return await hw(i,r),i._openRedirect(r,e,"signInViaRedirect")}function mV(t,e,n){return gV(t,e,n)}async function gV(t,e,n){const r=Q(t);hu(r.auth,e,Ei);const i=Co(r.auth,n);await hw(i,r.auth);const s=await fR(r);return i._openRedirect(r.auth,e,"reauthViaRedirect",s)}function yV(t,e,n){return vV(t,e,n)}async function vV(t,e,n){const r=Q(t);hu(r.auth,e,Ei);const i=Co(r.auth,n);await hp(!1,r,e.providerId),await hw(i,r.auth);const s=await fR(r);return i._openRedirect(r.auth,e,"linkViaRedirect",s)}async function wV(t,e){return await bt(t)._initializationPromise,vp(t,e,!1)}async function vp(t,e,n=!1){const r=bt(t),i=Co(r,e),o=await new lV(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}async function fR(t){const e=Ul(`${t.uid}:::`);return t._redirectEventId=e,await t.auth._setRedirectUser(t),await t.auth._persistUserIfCurrent(t),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _V=10*60*1e3;class pR{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!SV(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!mR(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError($t(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=_V&&this.cachedEventUids.clear(),this.cachedEventUids.has(nE(e))}saveEventToCache(e){this.cachedEventUids.add(nE(e)),this.lastProcessedEventTime=Date.now()}}function nE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function mR({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function SV(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return mR(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gR(t,e={}){return kt(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,IV=/^https?/;async function bV(t){if(t.config.emulator)return;const{authorizedDomains:e}=await gR(t);for(const n of e)try{if(TV(n))return}catch{}Ut(t,"unauthorized-domain")}function TV(t){const e=el(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!IV.test(n))return!1;if(EV.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kV=new Ll(3e4,6e4);function rE(){const t=ft().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function xV(t){return new Promise((e,n)=>{var r,i,s;function o(){rE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{rE(),n($t(t,"network-request-failed"))},timeout:kV.get()})}if(!((i=(r=ft().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=ft().gapi)===null||s===void 0)&&s.load)o();else{const a=uR("iframefcb");return ft()[a]=()=>{gapi.load?o():n($t(t,"network-request-failed"))},aR(`https://apis.google.com/js/api.js?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw ad=null,e})}let ad=null;function RV(t){return ad=ad||xV(t),ad}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CV=new Ll(5e3,15e3),PV="__/auth/iframe",AV="emulator/auth/iframe",OV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},NV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function DV(t){const e=t.config;D(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?tw(e,AV):`https://${t.config.authDomain}/${PV}`,r={apiKey:e.apiKey,appName:t.name,v:_s},i=NV.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${cu(r).slice(1)}`}async function FV(t){const e=await RV(t),n=ft().gapi;return D(n,t,"internal-error"),e.open({where:document.body,url:DV(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:OV,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=$t(t,"network-request-failed"),a=ft().setTimeout(()=>{s(o)},CV.get());function u(){ft().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $V={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},LV=500,MV=600,UV="_blank",jV="http://localhost";class iE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function VV(t,e,n,r=LV,i=MV){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},$V),{width:r.toString(),height:i.toString(),top:s,left:o}),c=Ke().toLowerCase();n&&(a=$x(c)?UV:n),Fx(c)&&(e=e||jV,u.scrollbars="yes");const l=Object.entries(u).reduce((d,[f,p])=>`${d}${f}=${p},`,"");if(yU(c)&&a!=="_self")return BV(e||"",a),new iE(null);const h=window.open(e||"",a,l);D(h,t,"popup-blocked");try{h.focus()}catch{}return new iE(h)}function BV(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qV="__/auth/handler",zV="emulator/auth/handler";function Hy(t,e,n,r,i,s){D(t.config.authDomain,t,"auth-domain-config-required"),D(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:_s,eventId:i};if(e instanceof Ei){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",J$(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,c]of Object.entries(s||{}))o[u]=c}if(e instanceof pu){const u=e.getScopes().filter(c=>c!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];return`${HV(t)}?${cu(a).slice(1)}`}function HV({config:t}){return t.emulator?tw(t,zV):`https://${t.authDomain}/${qV}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fg="webStorageSupport";class WV{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=fo,this._completeRedirectFn=vp,this._overrideRedirectResult=dw}async _openPopup(e,n,r,i){var s;pr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=Hy(e,n,r,el(),i);return VV(e,o,Ul())}async _openRedirect(e,n,r,i){return await this._originValidation(e),kj(Hy(e,n,r,el(),i)),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(pr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await FV(e),r=new pR(e);return n.register("authEvent",i=>(D(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(fg,{type:fg},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[fg];o!==void 0&&n(!!o),Ut(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=bV(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return jx()||nw()||du()}}const KV=WV;class GV{constructor(e){this.factorId=e}_process(e,n,r){switch(n.type){case"enroll":return this._finalizeEnroll(e,n.credential,r);case"signin":return this._finalizeSignIn(e,n.credential);default:return Or("unexpected MultiFactorSessionType")}}}class fw extends GV{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new fw(e)}_finalizeEnroll(e,n,r){return vj(e,{idToken:n,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,n){return $j(e,{mfaPendingCredential:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class yR{constructor(){}static assertion(e){return fw._fromCredential(e)}}yR.FACTOR_ID="phone";var sE="@firebase/auth",oE="0.21.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QV{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){D(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YV(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function XV(t){fi(new tr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),{apiKey:s,authDomain:o}=r.options;return((a,u)=>{D(s&&!s.includes(":"),"invalid-api-key",{appName:a.name}),D(!(o!=null&&o.includes(":")),"argument-error",{appName:a.name});const c={apiKey:s,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Vx(t)},l=new SU(a,u,c);return ZM(l,n),l})(r,i)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),fi(new tr("auth-internal",e=>{const n=bt(e.getProvider("auth").getImmediate());return(r=>new QV(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Jn(sE,oE,YV(t)),Jn(sE,oE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JV=5*60;K$("authIdTokenMaxAge");XV("Browser");/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function po(){return window}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZV=2e3;async function e3(t,e,n){var r;const{BuildInfo:i}=po();pr(e.sessionId,"AuthEvent did not contain a session ID");const s=await s3(e.sessionId),o={};return du()?o.ibi=i.packageName:Ml()?o.apn=i.packageName:Ut(t,"operation-not-supported-in-this-environment"),i.displayName&&(o.appDisplayName=i.displayName),o.sessionId=s,Hy(t,n,e.type,void 0,(r=e.eventId)!==null&&r!==void 0?r:void 0,o)}async function t3(t){const{BuildInfo:e}=po(),n={};du()?n.iosBundleId=e.packageName:Ml()?n.androidPackageName=e.packageName:Ut(t,"operation-not-supported-in-this-environment"),await gR(t,n)}function n3(t){const{cordova:e}=po();return new Promise(n=>{e.plugins.browsertab.isAvailable(r=>{let i=null;r?e.plugins.browsertab.openUrl(t):i=e.InAppBrowser.open(t,gU()?"_blank":"_system","location=yes"),n(i)})})}async function r3(t,e,n){const{cordova:r}=po();let i=()=>{};try{await new Promise((s,o)=>{let a=null;function u(){var h;s();const d=(h=r.plugins.browsertab)===null||h===void 0?void 0:h.close;typeof d=="function"&&d(),typeof(n==null?void 0:n.close)=="function"&&n.close()}function c(){a||(a=window.setTimeout(()=>{o($t(t,"redirect-cancelled-by-user"))},ZV))}function l(){(document==null?void 0:document.visibilityState)==="visible"&&c()}e.addPassiveListener(u),document.addEventListener("resume",c,!1),Ml()&&document.addEventListener("visibilitychange",l,!1),i=()=>{e.removePassiveListener(u),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),a&&window.clearTimeout(a)}})}finally{i()}}function i3(t){var e,n,r,i,s,o,a,u,c,l;const h=po();D(typeof((e=h==null?void 0:h.universalLinks)===null||e===void 0?void 0:e.subscribe)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),D(typeof((n=h==null?void 0:h.BuildInfo)===null||n===void 0?void 0:n.packageName)<"u",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),D(typeof((s=(i=(r=h==null?void 0:h.cordova)===null||r===void 0?void 0:r.plugins)===null||i===void 0?void 0:i.browsertab)===null||s===void 0?void 0:s.openUrl)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),D(typeof((u=(a=(o=h==null?void 0:h.cordova)===null||o===void 0?void 0:o.plugins)===null||a===void 0?void 0:a.browsertab)===null||u===void 0?void 0:u.isAvailable)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),D(typeof((l=(c=h==null?void 0:h.cordova)===null||c===void 0?void 0:c.InAppBrowser)===null||l===void 0?void 0:l.open)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}async function s3(t){const e=o3(t),n=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(n)).map(i=>i.toString(16).padStart(2,"0")).join("")}function o3(t){if(pr(/[0-9a-zA-Z]+/.test(t),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(t);const e=new ArrayBuffer(t.length),n=new Uint8Array(e);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a3=20;class u3 extends pR{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach(n=>n(e)),super.onEvent(e)}async initialized(){await this.initPromise}}function c3(t,e,n=null){return{type:e,eventId:n,urlResponse:null,sessionId:d3(),postBody:null,tenantId:t.tenantId,error:$t(t,"no-auth-event")}}function l3(t,e){return Wy()._set(Ky(t),e)}async function aE(t){const e=await Wy()._get(Ky(t));return e&&await Wy()._remove(Ky(t)),e}function h3(t,e){var n,r;const i=p3(e);if(i.includes("/__/auth/callback")){const s=ud(i),o=s.firebaseError?f3(decodeURIComponent(s.firebaseError)):null,a=(r=(n=o==null?void 0:o.code)===null||n===void 0?void 0:n.split("auth/"))===null||r===void 0?void 0:r[1],u=a?$t(a):null;return u?{type:t.type,eventId:t.eventId,tenantId:t.tenantId,error:u,urlResponse:null,sessionId:null,postBody:null}:{type:t.type,eventId:t.eventId,tenantId:t.tenantId,sessionId:t.sessionId,urlResponse:i,postBody:null}}return null}function d3(){const t=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<a3;n++){const r=Math.floor(Math.random()*e.length);t.push(e.charAt(r))}return t.join("")}function Wy(){return Dn(aw)}function Ky(t){return eo("authEvent",t.config.apiKey,t.name)}function f3(t){try{return JSON.parse(t)}catch{return null}}function p3(t){const e=ud(t),n=e.link?decodeURIComponent(e.link):void 0,r=ud(n).link,i=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return ud(i).link||i||r||n||t}function ud(t){if(!(t!=null&&t.includes("?")))return{};const[e,...n]=t.split("?");return la(n.join("?"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m3=500;class g3{constructor(){this._redirectPersistence=fo,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=vp,this._overrideRedirectResult=dw}async _initialize(e){const n=e._key();let r=this.eventManagers.get(n);return r||(r=new u3(e),this.eventManagers.set(n,r),this.attachCallbackListeners(e,r)),r}_openPopup(e){Ut(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,n,r,i){i3(e);const s=await this._initialize(e);await s.initialized(),s.resetRedirect(),dV(),await this._originValidation(e);const o=c3(e,r,i);await l3(e,o);const a=await e3(e,o,n),u=await n3(a);return r3(e,s,u)}_isIframeWebStorageSupported(e,n){throw new Error("Method not implemented.")}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=t3(e)),this.originValidationPromises[n]}attachCallbackListeners(e,n){const{universalLinks:r,handleOpenURL:i,BuildInfo:s}=po(),o=setTimeout(async()=>{await aE(e),n.onEvent(uE())},m3),a=async l=>{clearTimeout(o);const h=await aE(e);let d=null;h&&(l!=null&&l.url)&&(d=h3(h,l.url)),n.onEvent(d||uE())};typeof r<"u"&&typeof r.subscribe=="function"&&r.subscribe(null,a);const u=i,c=`${s.packageName.toLowerCase()}://`;po().handleOpenURL=async l=>{if(l.toLowerCase().startsWith(c)&&a({url:l}),typeof u=="function")try{u(l)}catch(h){console.error(h)}}}}const y3=g3;function uE(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:$t("no-auth-event")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v3(t,e){bt(t)._logFramework(e)}var w3="@firebase/auth-compat",_3="0.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S3=1e3;function _c(){var t;return((t=self==null?void 0:self.location)===null||t===void 0?void 0:t.protocol)||null}function E3(){return _c()==="http:"||_c()==="https:"}function vR(t=Ke()){return!!((_c()==="file:"||_c()==="ionic:"||_c()==="capacitor:")&&t.toLowerCase().match(/iphone|ipad|ipod|android/))}function I3(){return j0()||np()}function b3(){return zk()&&(document==null?void 0:document.documentMode)===11}function T3(t=Ke()){return/Edge\/\d+/.test(t)}function k3(t=Ke()){return b3()||T3(t)}function wR(){try{const t=self.localStorage,e=Ul();if(t)return t.setItem(e,"1"),t.removeItem(e),k3()?Xc():!0}catch{return pw()&&Xc()}return!1}function pw(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function pg(){return(E3()||qk()||vR())&&!I3()&&wR()&&!pw()}function _R(){return vR()&&typeof document<"u"}async function x3(){return _R()?new Promise(t=>{const e=setTimeout(()=>{t(!1)},S3);document.addEventListener("deviceready",()=>{clearTimeout(e),t(!0)})}):!1}function R3(){return typeof window<"u"?window:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pn={LOCAL:"local",NONE:"none",SESSION:"session"},Lu=D,SR="persistence";function C3(t,e){if(Lu(Object.values(Pn).includes(e),t,"invalid-persistence-type"),j0()){Lu(e!==Pn.SESSION,t,"unsupported-persistence-type");return}if(np()){Lu(e===Pn.NONE,t,"unsupported-persistence-type");return}if(pw()){Lu(e===Pn.NONE||e===Pn.LOCAL&&Xc(),t,"unsupported-persistence-type");return}Lu(e===Pn.NONE||wR(),t,"unsupported-persistence-type")}async function Gy(t){await t._initializationPromise;const e=ER(),n=eo(SR,t.config.apiKey,t.name);e&&e.setItem(n,t._getPersistence())}function P3(t,e){const n=ER();if(!n)return[];const r=eo(SR,t,e);switch(n.getItem(r)){case Pn.NONE:return[Na];case Pn.LOCAL:return[il,fo];case Pn.SESSION:return[fo];default:return[]}}function ER(){var t;try{return((t=R3())===null||t===void 0?void 0:t.sessionStorage)||null}catch{return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A3=D;class zi{constructor(){this.browserResolver=Dn(KV),this.cordovaResolver=Dn(y3),this.underlyingResolver=null,this._redirectPersistence=fo,this._completeRedirectFn=vp,this._overrideRedirectResult=dw}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,n,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,n,r,i)}async _openRedirect(e,n,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,n,r,i)}_isIframeWebStorageSupported(e,n){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,n)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return _R()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return A3(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await x3();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IR(t){return t.unwrap()}function O3(t){return t.wrapped()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N3(t){return bR(t)}function D3(t,e){var n;const r=(n=e.customData)===null||n===void 0?void 0:n._tokenResponse;if((e==null?void 0:e.code)==="auth/multi-factor-auth-required"){const i=e;i.resolver=new F3(t,gj(t,e))}else if(r){const i=bR(e),s=e;i&&(s.credential=i,s.tenantId=r.tenantId||void 0,s.email=r.email||void 0,s.phoneNumber=r.phoneNumber||void 0)}}function bR(t){const{_tokenResponse:e}=t instanceof Qt?t.customData:t;if(!e)return null;if(!(t instanceof Qt)&&"temporaryProof"in e&&"phoneNumber"in e)return Mr.credentialFromResult(t);const n=e.providerId;if(!n||n===$u.PASSWORD)return null;let r;switch(n){case $u.GOOGLE:r=xr;break;case $u.FACEBOOK:r=kr;break;case $u.GITHUB:r=Rr;break;case $u.TWITTER:r=Cr;break;default:const{oauthIdToken:i,oauthAccessToken:s,oauthTokenSecret:o,pendingToken:a,nonce:u}=e;return!s&&!o&&!i&&!a?null:a?n.startsWith("saml.")?Da._create(n,a):qr._fromParams({providerId:n,signInMethod:n,pendingToken:a,idToken:i,accessToken:s}):new _a(n).credential({idToken:i,accessToken:s,rawNonce:u})}return t instanceof Qt?r.credentialFromError(t):r.credentialFromResult(t)}function mn(t,e){return e.catch(n=>{throw n instanceof Qt&&D3(t,n),n}).then(n=>{const r=n.operationType,i=n.user;return{operationType:r,credential:N3(n),additionalUserInfo:mj(n),user:ti.getOrCreate(i)}})}async function Qy(t,e){const n=await e;return{verificationId:n.verificationId,confirm:r=>mn(t,n.confirm(r))}}class F3{constructor(e,n){this.resolver=n,this.auth=O3(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return mn(IR(this.auth),this.resolver.resolveSignIn(e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti{constructor(e){this._delegate=e,this.multiFactor=_j(e)}static getOrCreate(e){return ti.USER_MAP.has(e)||ti.USER_MAP.set(e,new ti(e)),ti.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return mn(this.auth,Yx(this._delegate,e))}async linkWithPhoneNumber(e,n){return Qy(this.auth,Zj(this._delegate,e,n))}async linkWithPopup(e){return mn(this.auth,uV(this._delegate,e,zi))}async linkWithRedirect(e){return await Gy(bt(this.auth)),yV(this._delegate,e,zi)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return mn(this.auth,Xx(this._delegate,e))}reauthenticateWithPhoneNumber(e,n){return Qy(this.auth,eV(this._delegate,e,n))}reauthenticateWithPopup(e){return mn(this.auth,aV(this._delegate,e,zi))}async reauthenticateWithRedirect(e){return await Gy(bt(this.auth)),mV(this._delegate,e,zi)}sendEmailVerification(e){return ij(this._delegate,e)}async unlink(e){return await zU(this._delegate,e),this}updateEmail(e){return uj(this._delegate,e)}updatePassword(e){return cj(this._delegate,e)}updatePhoneNumber(e){return tV(this._delegate,e)}updateProfile(e){return aj(this._delegate,e)}verifyBeforeUpdateEmail(e,n){return sj(this._delegate,e,n)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}ti.USER_MAP=new WeakMap;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mu=D;class Yy{constructor(e,n){if(this.app=e,n.isInitialized()){this._delegate=n.getImmediate(),this.linkUnderlyingAuth();return}const{apiKey:r}=e.options;Mu(r,"invalid-api-key",{appName:e.name}),Mu(r,"invalid-api-key",{appName:e.name});const i=typeof window<"u"?zi:void 0;this._delegate=n.initialize({options:{persistence:$3(r,e.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(XM),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?ti.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,n){EU(this._delegate,e,n)}applyActionCode(e){return QU(this._delegate,e)}checkActionCode(e){return Jx(this._delegate,e)}confirmPasswordReset(e,n){return GU(this._delegate,e,n)}async createUserWithEmailAndPassword(e,n){return mn(this._delegate,XU(this._delegate,e,n))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return rj(this._delegate,e)}isSignInWithEmailLink(e){return ej(this._delegate,e)}async getRedirectResult(){Mu(pg(),this._delegate,"operation-not-supported-in-this-environment");const e=await wV(this._delegate,zi);return e?mn(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){v3(this._delegate,e)}onAuthStateChanged(e,n,r){const{next:i,error:s,complete:o}=cE(e,n,r);return this._delegate.onAuthStateChanged(i,s,o)}onIdTokenChanged(e,n,r){const{next:i,error:s,complete:o}=cE(e,n,r);return this._delegate.onIdTokenChanged(i,s,o)}sendSignInLinkToEmail(e,n){return ZU(this._delegate,e,n)}sendPasswordResetEmail(e,n){return KU(this._delegate,e,n||void 0)}async setPersistence(e){C3(this._delegate,e);let n;switch(e){case Pn.SESSION:n=fo;break;case Pn.LOCAL:n=await Dn(il)._isAvailable()?il:aw;break;case Pn.NONE:n=Na;break;default:return Ut("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(n)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return mn(this._delegate,qU(this._delegate))}signInWithCredential(e){return mn(this._delegate,dp(this._delegate,e))}signInWithCustomToken(e){return mn(this._delegate,WU(this._delegate,e))}signInWithEmailAndPassword(e,n){return mn(this._delegate,JU(this._delegate,e,n))}signInWithEmailLink(e,n){return mn(this._delegate,tj(this._delegate,e,n))}signInWithPhoneNumber(e,n){return Qy(this._delegate,Jj(this._delegate,e,n))}async signInWithPopup(e){return Mu(pg(),this._delegate,"operation-not-supported-in-this-environment"),mn(this._delegate,oV(this._delegate,e,zi))}async signInWithRedirect(e){return Mu(pg(),this._delegate,"operation-not-supported-in-this-environment"),await Gy(this._delegate),fV(this._delegate,e,zi)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return YU(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}Yy.Persistence=Pn;function cE(t,e,n){let r=t;typeof t!="function"&&({next:r,error:e,complete:n}=t);const i=r;return{next:o=>i(o&&ti.getOrCreate(o)),error:e,complete:n}}function $3(t,e){const n=P3(t,e);if(typeof self<"u"&&!n.includes(il)&&n.push(il),typeof window<"u")for(const r of[aw,fo])n.includes(r)||n.push(r);return n.includes(Na)||n.push(Na),n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mw{constructor(){this.providerId="phone",this._delegate=new Mr(IR(mr.auth()))}static credential(e,n){return Mr.credential(e,n)}verifyPhoneNumber(e,n){return this._delegate.verifyPhoneNumber(e,n)}unwrap(){return this._delegate}}mw.PHONE_SIGN_IN_METHOD=Mr.PHONE_SIGN_IN_METHOD;mw.PROVIDER_ID=Mr.PROVIDER_ID;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L3=D;class M3{constructor(e,n,r=mr.app()){var i;L3((i=r.options)===null||i===void 0?void 0:i.apiKey,"invalid-api-key",{appName:r.name}),this._delegate=new Yj(e,n,r.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U3="auth-compat";function j3(t){t.INTERNAL.registerComponent(new tr(U3,e=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("auth");return new Yy(n,r)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Uo.EMAIL_SIGNIN,PASSWORD_RESET:Uo.PASSWORD_RESET,RECOVER_EMAIL:Uo.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:Uo.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:Uo.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:Uo.VERIFY_EMAIL}},EmailAuthProvider:Es,FacebookAuthProvider:kr,GithubAuthProvider:Rr,GoogleAuthProvider:xr,OAuthProvider:_a,SAMLAuthProvider:Xd,PhoneAuthProvider:mw,PhoneMultiFactorGenerator:yR,RecaptchaVerifier:M3,TwitterAuthProvider:Cr,Auth:Yy,AuthCredential:fu,Error:Qt}).setInstantiationMode("LAZY").setMultipleInstances(!1)),t.registerVersion(w3,_3)}j3(mr);var V3=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},J,gw=gw||{},oe=V3||self;function tf(){}function wp(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Vl(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function B3(t){return Object.prototype.hasOwnProperty.call(t,mg)&&t[mg]||(t[mg]=++q3)}var mg="closure_uid_"+(1e9*Math.random()>>>0),q3=0;function z3(t,e,n){return t.call.apply(t.bind,arguments)}function H3(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Yt(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Yt=z3:Yt=H3,Yt.apply(null,arguments)}function Lh(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Vt(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Wb=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Is(){this.s=this.s,this.o=this.o}var W3=0;Is.prototype.s=!1;Is.prototype.na=function(){!this.s&&(this.s=!0,this.M(),W3!=0)&&B3(this)};Is.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const TR=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function yw(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function lE(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(wp(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function Xt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Xt.prototype.h=function(){this.defaultPrevented=!0};var K3=function(){if(!oe.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{oe.addEventListener("test",tf,e),oe.removeEventListener("test",tf,e)}catch{}return t}();function nf(t){return/^[\s\xa0]*$/.test(t)}var hE=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function gg(t,e){return t<e?-1:t>e?1:0}function _p(){var t=oe.navigator;return t&&(t=t.userAgent)?t:""}function Pr(t){return _p().indexOf(t)!=-1}function vw(t){return vw[" "](t),t}vw[" "]=tf;function G3(t){var e=X3;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}var Q3=Pr("Opera"),Fa=Pr("Trident")||Pr("MSIE"),kR=Pr("Edge"),Xy=kR||Fa,xR=Pr("Gecko")&&!(_p().toLowerCase().indexOf("webkit")!=-1&&!Pr("Edge"))&&!(Pr("Trident")||Pr("MSIE"))&&!Pr("Edge"),Y3=_p().toLowerCase().indexOf("webkit")!=-1&&!Pr("Edge");function RR(){var t=oe.document;return t?t.documentMode:void 0}var rf;e:{var yg="",vg=function(){var t=_p();if(xR)return/rv:([^\);]+)(\)|;)/.exec(t);if(kR)return/Edge\/([\d\.]+)/.exec(t);if(Fa)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(Y3)return/WebKit\/(\S+)/.exec(t);if(Q3)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(vg&&(yg=vg?vg[1]:""),Fa){var wg=RR();if(wg!=null&&wg>parseFloat(yg)){rf=String(wg);break e}}rf=yg}var X3={};function J3(){return G3(function(){let t=0;const e=hE(String(rf)).split("."),n=hE("9").split("."),r=Math.max(e.length,n.length);for(let o=0;t==0&&o<r;o++){var i=e[o]||"",s=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],i[0].length==0&&s[0].length==0)break;t=gg(i[1].length==0?0:parseInt(i[1],10),s[1].length==0?0:parseInt(s[1],10))||gg(i[2].length==0,s[2].length==0)||gg(i[2],s[2]),i=i[3],s=s[3]}while(t==0)}return 0<=t})}var Jy;if(oe.document&&Fa){var dE=RR();Jy=dE||parseInt(rf,10)||void 0}else Jy=void 0;var Z3=Jy;function sl(t,e){if(Xt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(xR){e:{try{vw(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:e4[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&sl.X.h.call(this)}}Vt(sl,Xt);var e4={2:"touch",3:"pen",4:"mouse"};sl.prototype.h=function(){sl.X.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Bl="closure_listenable_"+(1e6*Math.random()|0),t4=0;function n4(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ha=i,this.key=++t4,this.ba=this.ea=!1}function Sp(t){t.ba=!0,t.listener=null,t.proxy=null,t.src=null,t.ha=null}function ww(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function CR(t){const e={};for(const n in t)e[n]=t[n];return e}const fE="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function PR(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<fE.length;s++)n=fE[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Ep(t){this.src=t,this.g={},this.h=0}Ep.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=ev(t,e,r,i);return-1<o?(e=t[o],n||(e.ea=!1)):(e=new n4(e,this.src,s,!!r,i),e.ea=n,t.push(e)),e};function Zy(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=TR(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Sp(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function ev(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.ba&&s.listener==e&&s.capture==!!n&&s.ha==r)return i}return-1}var _w="closure_lm_"+(1e6*Math.random()|0),_g={};function AR(t,e,n,r,i){if(r&&r.once)return NR(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)AR(t,e[s],n,r,i);return null}return n=Iw(n),t&&t[Bl]?t.N(e,n,Vl(r)?!!r.capture:!!r,i):OR(t,e,n,!1,r,i)}function OR(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Vl(i)?!!i.capture:!!i,a=Ew(t);if(a||(t[_w]=a=new Ep(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=r4(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)K3||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(FR(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function r4(){function t(n){return e.call(t.src,t.listener,n)}const e=i4;return t}function NR(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)NR(t,e[s],n,r,i);return null}return n=Iw(n),t&&t[Bl]?t.O(e,n,Vl(r)?!!r.capture:!!r,i):OR(t,e,n,!0,r,i)}function DR(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)DR(t,e[s],n,r,i);else r=Vl(r)?!!r.capture:!!r,n=Iw(n),t&&t[Bl]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=ev(s,n,r,i),-1<n&&(Sp(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=Ew(t))&&(e=t.g[e.toString()],t=-1,e&&(t=ev(e,n,r,i)),(n=-1<t?e[t]:null)&&Sw(n))}function Sw(t){if(typeof t!="number"&&t&&!t.ba){var e=t.src;if(e&&e[Bl])Zy(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(FR(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Ew(e))?(Zy(n,t),n.h==0&&(n.src=null,e[_w]=null)):Sp(t)}}}function FR(t){return t in _g?_g[t]:_g[t]="on"+t}function i4(t,e){if(t.ba)t=!0;else{e=new sl(e,this);var n=t.listener,r=t.ha||t.src;t.ea&&Sw(t),t=n.call(r,e)}return t}function Ew(t){return t=t[_w],t instanceof Ep?t:null}var Sg="__closure_events_fn_"+(1e9*Math.random()>>>0);function Iw(t){return typeof t=="function"?t:(t[Sg]||(t[Sg]=function(e){return t.handleEvent(e)}),t[Sg])}function Tt(){Is.call(this),this.i=new Ep(this),this.P=this,this.I=null}Vt(Tt,Is);Tt.prototype[Bl]=!0;Tt.prototype.removeEventListener=function(t,e,n,r){DR(this,t,e,n,r)};function Lt(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,typeof e=="string")e=new Xt(e,t);else if(e instanceof Xt)e.target=e.target||t;else{var i=e;e=new Xt(r,t),PR(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Mh(o,r,!0,e)&&i}if(o=e.g=t,i=Mh(o,r,!0,e)&&i,i=Mh(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=Mh(o,r,!1,e)&&i}Tt.prototype.M=function(){if(Tt.X.M.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Sp(n[r]);delete t.g[e],t.h--}}this.I=null};Tt.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Tt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Mh(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ba&&o.capture==n){var a=o.listener,u=o.ha||o.src;o.ea&&Zy(t.i,o),i=a.call(u,r)!==!1&&i}}return i&&!r.defaultPrevented}var bw=oe.JSON.stringify;function s4(){var t=MR;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class o4{constructor(){this.h=this.g=null}add(e,n){const r=$R.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var $R=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new a4,t=>t.reset());class a4{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function u4(t){oe.setTimeout(()=>{throw t},0)}function LR(t,e){tv||c4(),nv||(tv(),nv=!0),MR.add(t,e)}var tv;function c4(){var t=oe.Promise.resolve(void 0);tv=function(){t.then(l4)}}var nv=!1,MR=new o4;function l4(){for(var t;t=s4();){try{t.h.call(t.g)}catch(n){u4(n)}var e=$R;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}nv=!1}function Ip(t,e){Tt.call(this),this.h=t||1,this.g=e||oe,this.j=Yt(this.lb,this),this.l=Date.now()}Vt(Ip,Tt);J=Ip.prototype;J.ca=!1;J.R=null;J.lb=function(){if(this.ca){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-t):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Lt(this,"tick"),this.ca&&(Tw(this),this.start()))}};J.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Tw(t){t.ca=!1,t.R&&(t.g.clearTimeout(t.R),t.R=null)}J.M=function(){Ip.X.M.call(this),Tw(this),delete this.g};function kw(t,e,n){if(typeof t=="function")n&&(t=Yt(t,n));else if(t&&typeof t.handleEvent=="function")t=Yt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:oe.setTimeout(t,e||0)}function UR(t){t.g=kw(()=>{t.g=null,t.i&&(t.i=!1,UR(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class h4 extends Is{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:UR(this)}M(){super.M(),this.g&&(oe.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ol(t){Is.call(this),this.h=t,this.g={}}Vt(ol,Is);var pE=[];function jR(t,e,n,r){Array.isArray(n)||(n&&(pE[0]=n.toString()),n=pE);for(var i=0;i<n.length;i++){var s=AR(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function VR(t){ww(t.g,function(e,n){this.g.hasOwnProperty(n)&&Sw(e)},t),t.g={}}ol.prototype.M=function(){ol.X.M.call(this),VR(this)};ol.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function bp(){this.g=!0}bp.prototype.Aa=function(){this.g=!1};function d4(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");o=2<=h.length&&h[1]=="type"?o+(l+"="+c+"&"):o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function f4(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function ha(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+m4(t,n)+(r?" "+r:"")})}function p4(t,e){t.info(function(){return"TIMEOUT: "+e})}bp.prototype.info=function(){};function m4(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return bw(n)}catch{return e}}var Po={},mE=null;function Tp(){return mE=mE||new Tt}Po.Pa="serverreachability";function BR(t){Xt.call(this,Po.Pa,t)}Vt(BR,Xt);function al(t){const e=Tp();Lt(e,new BR(e))}Po.STAT_EVENT="statevent";function qR(t,e){Xt.call(this,Po.STAT_EVENT,t),this.stat=e}Vt(qR,Xt);function un(t){const e=Tp();Lt(e,new qR(e,t))}Po.Qa="timingevent";function zR(t,e){Xt.call(this,Po.Qa,t),this.size=e}Vt(zR,Xt);function ql(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return oe.setTimeout(function(){t()},e)}var kp={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},HR={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function xw(){}xw.prototype.h=null;function gE(t){return t.h||(t.h=t.i())}function WR(){}var zl={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function Rw(){Xt.call(this,"d")}Vt(Rw,Xt);function Cw(){Xt.call(this,"c")}Vt(Cw,Xt);var rv;function xp(){}Vt(xp,xw);xp.prototype.g=function(){return new XMLHttpRequest};xp.prototype.i=function(){return{}};rv=new xp;function Hl(t,e,n,r){this.l=t,this.j=e,this.m=n,this.U=r||1,this.S=new ol(this),this.O=g4,t=Xy?125:void 0,this.T=new Ip(t),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new KR}function KR(){this.i=null,this.g="",this.h=!1}var g4=45e3,iv={},sf={};J=Hl.prototype;J.setTimeout=function(t){this.O=t};function sv(t,e,n){t.K=1,t.v=Cp(mi(e)),t.s=n,t.P=!0,GR(t,null)}function GR(t,e){t.F=Date.now(),Wl(t),t.A=mi(t.v);var n=t.A,r=t.U;Array.isArray(r)||(r=[String(r)]),nC(n.i,"t",r),t.C=0,n=t.l.H,t.h=new KR,t.g=IC(t.l,n?e:null,!t.s),0<t.N&&(t.L=new h4(Yt(t.La,t,t.g),t.N)),jR(t.S,t.g,"readystatechange",t.ib),e=t.H?CR(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.da(t.A,t.u,t.s,e)):(t.u="GET",t.g.da(t.A,t.u,null,e)),al(),d4(t.j,t.u,t.A,t.m,t.U,t.s)}J.ib=function(t){t=t.target;const e=this.L;e&&ni(t)==3?e.l():this.La(t)};J.La=function(t){try{if(t==this.g)e:{const l=ni(this.g);var e=this.g.Ea();const h=this.g.aa();if(!(3>l)&&(l!=3||Xy||this.g&&(this.h.h||this.g.fa()||_E(this.g)))){this.I||l!=4||e==7||(e==8||0>=h?al(3):al(2)),Rp(this);var n=this.g.aa();this.Y=n;t:if(QR(this)){var r=_E(this.g);t="";var i=r.length,s=ni(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ws(this),Sc(this);var o="";break t}this.h.i=new oe.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.fa();if(this.i=n==200,f4(this.j,this.u,this.A,this.m,this.U,l,n),this.i){if(this.Z&&!this.J){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!nf(a)){var c=a;break t}}c=null}if(n=c)ha(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,ov(this,n);else{this.i=!1,this.o=3,un(12),Ws(this),Sc(this);break e}}this.P?(YR(this,l,o),Xy&&this.i&&l==3&&(jR(this.S,this.T,"tick",this.hb),this.T.start())):(ha(this.j,this.m,o,null),ov(this,o)),l==4&&Ws(this),this.i&&!this.I&&(l==4?wC(this.l,this):(this.i=!1,Wl(this)))}else n==400&&0<o.indexOf("Unknown SID")?(this.o=3,un(12)):(this.o=0,un(13)),Ws(this),Sc(this)}}}catch{}finally{}};function QR(t){return t.g?t.u=="GET"&&t.K!=2&&t.l.Da:!1}function YR(t,e,n){let r=!0,i;for(;!t.I&&t.C<n.length;)if(i=y4(t,n),i==sf){e==4&&(t.o=4,un(14),r=!1),ha(t.j,t.m,null,"[Incomplete Response]");break}else if(i==iv){t.o=4,un(15),ha(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else ha(t.j,t.m,i,null),ov(t,i);QR(t)&&i!=sf&&i!=iv&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,un(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.$&&(t.$=!0,e=t.l,e.g==t&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),$w(e),e.K=!0,un(11))):(ha(t.j,t.m,n,"[Invalid Chunked Response]"),Ws(t),Sc(t))}J.hb=function(){if(this.g){var t=ni(this.g),e=this.g.fa();this.C<e.length&&(Rp(this),YR(this,t,e),this.i&&t!=4&&Wl(this))}};function y4(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?sf:(n=Number(e.substring(n,r)),isNaN(n)?iv:(r+=1,r+n>e.length?sf:(e=e.substr(r,n),t.C=r+n,e)))}J.cancel=function(){this.I=!0,Ws(this)};function Wl(t){t.V=Date.now()+t.O,XR(t,t.O)}function XR(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=ql(Yt(t.gb,t),e)}function Rp(t){t.B&&(oe.clearTimeout(t.B),t.B=null)}J.gb=function(){this.B=null;const t=Date.now();0<=t-this.V?(p4(this.j,this.A),this.K!=2&&(al(),un(17)),Ws(this),this.o=2,Sc(this)):XR(this,this.V-t)};function Sc(t){t.l.G==0||t.I||wC(t.l,t)}function Ws(t){Rp(t);var e=t.L;e&&typeof e.na=="function"&&e.na(),t.L=null,Tw(t.T),VR(t.S),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function ov(t,e){try{var n=t.l;if(n.G!=0&&(n.g==t||av(n.h,t))){if(!t.J&&av(n.h,t)&&n.G==3){try{var r=n.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<t.F)uf(n),Op(n);else break e;Fw(n),un(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&n.A==0&&!n.v&&(n.v=ql(Yt(n.cb,n),6e3));if(1>=sC(n.h)&&n.ja){try{n.ja()}catch{}n.ja=void 0}}else Ks(n,11)}else if((t.J||n.g==t)&&uf(n),!nf(e))for(i=n.Fa.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.T=c[0],c=c[1],n.G==2)if(c[0]=="c"){n.I=c[1],n.ka=c[2];const l=c[3];l!=null&&(n.ma=l,n.j.info("VER="+n.ma));const h=c[4];h!=null&&(n.Ca=h,n.j.info("SVER="+n.Ca));const d=c[5];d!=null&&typeof d=="number"&&0<d&&(r=1.5*d,n.J=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.h;s.g||p.indexOf("spdy")==-1&&p.indexOf("quic")==-1&&p.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(Pw(s,s.h),s.h=null))}if(r.D){const m=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(r.za=m,Ue(r.F,r.D,m))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-t.F,n.j.info("Handshake RTT: "+n.P+"ms")),r=n;var o=t;if(r.sa=EC(r,r.H?r.ka:null,r.V),o.J){oC(r.h,o);var a=o,u=r.J;u&&a.setTimeout(u),a.B&&(Rp(a),Wl(a)),r.g=o}else yC(r);0<n.i.length&&Np(n)}else c[0]!="stop"&&c[0]!="close"||Ks(n,7);else n.G==3&&(c[0]=="stop"||c[0]=="close"?c[0]=="stop"?Ks(n,7):Dw(n):c[0]!="noop"&&n.l&&n.l.wa(c),n.A=0)}}al(4)}catch{}}function v4(t){if(t.W&&typeof t.W=="function")return t.W();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(wp(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function w4(t){if(t.oa&&typeof t.oa=="function")return t.oa();if(!t.W||typeof t.W!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(wp(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function JR(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(wp(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=w4(t),r=v4(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var ZR=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function _4(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function no(t,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof no){this.h=e!==void 0?e:t.h,of(this,t.j),this.s=t.s,this.g=t.g,af(this,t.m),this.l=t.l,e=t.i;var n=new ul;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),yE(this,n),this.o=t.o}else t&&(n=String(t).match(ZR))?(this.h=!!e,of(this,n[1]||"",!0),this.s=rc(n[2]||""),this.g=rc(n[3]||"",!0),af(this,n[4]),this.l=rc(n[5]||"",!0),yE(this,n[6]||"",!0),this.o=rc(n[7]||"")):(this.h=!!e,this.i=new ul(null,this.h))}no.prototype.toString=function(){var t=[],e=this.j;e&&t.push(ic(e,vE,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(ic(e,vE,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(ic(n,n.charAt(0)=="/"?I4:E4,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",ic(n,T4)),t.join("")};function mi(t){return new no(t)}function of(t,e,n){t.j=n?rc(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function af(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function yE(t,e,n){e instanceof ul?(t.i=e,k4(t.i,t.h)):(n||(e=ic(e,b4)),t.i=new ul(e,t.h))}function Ue(t,e,n){t.i.set(e,n)}function Cp(t){return Ue(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function rc(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function ic(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,S4),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function S4(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var vE=/[#\/\?@]/g,E4=/[#\?:]/g,I4=/[#\?]/g,b4=/[#\?@]/g,T4=/#/g;function ul(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function bs(t){t.g||(t.g=new Map,t.h=0,t.i&&_4(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}J=ul.prototype;J.add=function(t,e){bs(this),this.i=null,t=mu(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function eC(t,e){bs(t),e=mu(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function tC(t,e){return bs(t),e=mu(t,e),t.g.has(e)}J.forEach=function(t,e){bs(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};J.oa=function(){bs(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};J.W=function(t){bs(this);let e=[];if(typeof t=="string")tC(this,t)&&(e=e.concat(this.g.get(mu(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};J.set=function(t,e){return bs(this),this.i=null,t=mu(this,t),tC(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};J.get=function(t,e){return t?(t=this.W(t),0<t.length?String(t[0]):e):e};function nC(t,e,n){eC(t,e),0<n.length&&(t.i=null,t.g.set(mu(t,e),yw(n)),t.h+=n.length)}J.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.W(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function mu(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function k4(t,e){e&&!t.j&&(bs(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(eC(this,r),nC(this,i,n))},t)),t.j=e}var x4=class{constructor(e,n){this.h=e,this.g=n}};function rC(t){this.l=t||R4,oe.PerformanceNavigationTiming?(t=oe.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(oe.g&&oe.g.Ga&&oe.g.Ga()&&oe.g.Ga().$b),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var R4=10;function iC(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function sC(t){return t.h?1:t.g?t.g.size:0}function av(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Pw(t,e){t.g?t.g.add(e):t.h=e}function oC(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}rC.prototype.cancel=function(){if(this.i=aC(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function aC(t){if(t.h!=null)return t.i.concat(t.h.D);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return yw(t.i)}function Aw(){}Aw.prototype.stringify=function(t){return oe.JSON.stringify(t,void 0)};Aw.prototype.parse=function(t){return oe.JSON.parse(t,void 0)};function C4(){this.g=new Aw}function P4(t,e,n){const r=n||"";try{JR(t,function(i,s){let o=i;Vl(i)&&(o=bw(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function A4(t,e){const n=new bp;if(oe.Image){const r=new Image;r.onload=Lh(Uh,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Lh(Uh,n,r,"TestLoadImage: error",!1,e),r.onabort=Lh(Uh,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Lh(Uh,n,r,"TestLoadImage: timeout",!1,e),oe.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Uh(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Kl(t){this.l=t.ac||null,this.j=t.jb||!1}Vt(Kl,xw);Kl.prototype.g=function(){return new Pp(this.l,this.j)};Kl.prototype.i=function(t){return function(){return t}}({});function Pp(t,e){Tt.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=Ow,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Vt(Pp,Tt);var Ow=0;J=Pp.prototype;J.open=function(t,e){if(this.readyState!=Ow)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,cl(this)};J.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||oe).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))};J.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Gl(this)),this.readyState=Ow};J.Wa=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,cl(this)),this.g&&(this.readyState=3,cl(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof oe.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;uC(this)}else t.text().then(this.Va.bind(this),this.ga.bind(this))};function uC(t){t.j.read().then(t.Ta.bind(t)).catch(t.ga.bind(t))}J.Ta=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Gl(this):cl(this),this.readyState==3&&uC(this)}};J.Va=function(t){this.g&&(this.response=this.responseText=t,Gl(this))};J.Ua=function(t){this.g&&(this.response=t,Gl(this))};J.ga=function(){this.g&&Gl(this)};function Gl(t){t.readyState=4,t.l=null,t.j=null,t.A=null,cl(t)}J.setRequestHeader=function(t,e){this.v.append(t,e)};J.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};J.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function cl(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Pp.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var O4=oe.JSON.parse;function et(t){Tt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=cC,this.K=this.L=!1}Vt(et,Tt);var cC="",N4=/^https?$/i,D4=["POST","PUT"];J=et.prototype;J.Ka=function(t){this.L=t};J.da=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():rv.g(),this.C=this.u?gE(this.u):gE(rv),this.g.onreadystatechange=Yt(this.Ha,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(s){wE(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=oe.FormData&&t instanceof oe.FormData,!(0<=TR(D4,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{dC(this),0<this.B&&((this.K=F4(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Yt(this.qa,this)):this.A=kw(this.qa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){wE(this,s)}};function F4(t){return Fa&&J3()&&typeof t.timeout=="number"&&t.ontimeout!==void 0}J.qa=function(){typeof gw<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Lt(this,"timeout"),this.abort(8))};function wE(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,lC(t),Ap(t)}function lC(t){t.D||(t.D=!0,Lt(t,"complete"),Lt(t,"error"))}J.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Lt(this,"complete"),Lt(this,"abort"),Ap(this))};J.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ap(this,!0)),et.X.M.call(this)};J.Ha=function(){this.s||(this.F||this.v||this.l?hC(this):this.fb())};J.fb=function(){hC(this)};function hC(t){if(t.h&&typeof gw<"u"&&(!t.C[1]||ni(t)!=4||t.aa()!=2)){if(t.v&&ni(t)==4)kw(t.Ha,0,t);else if(Lt(t,"readystatechange"),ni(t)==4){t.h=!1;try{const a=t.aa();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=a===0){var i=String(t.H).match(ZR)[1]||null;if(!i&&oe.self&&oe.self.location){var s=oe.self.location.protocol;i=s.substr(0,s.length-1)}r=!N4.test(i?i.toLowerCase():"")}n=r}if(n)Lt(t,"complete"),Lt(t,"success");else{t.m=6;try{var o=2<ni(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.aa()+"]",lC(t)}}finally{Ap(t)}}}}function Ap(t,e){if(t.g){dC(t);const n=t.g,r=t.C[0]?tf:null;t.g=null,t.C=null,e||Lt(t,"ready");try{n.onreadystatechange=r}catch{}}}function dC(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(oe.clearTimeout(t.A),t.A=null)}function ni(t){return t.g?t.g.readyState:0}J.aa=function(){try{return 2<ni(this)?this.g.status:-1}catch{return-1}};J.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}};J.Sa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),O4(e)}};function _E(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case cC:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}J.Ea=function(){return this.m};J.Oa=function(){return typeof this.j=="string"?this.j:String(this.j)};function fC(t){let e="";return ww(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Nw(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=fC(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Ue(t,e,n))}function Uu(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function pC(t){this.Ca=0,this.i=[],this.j=new bp,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Uu("failFast",!1,t),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Uu("baseRetryDelayMs",5e3,t),this.bb=Uu("retryDelaySeedMs",1e4,t),this.$a=Uu("forwardChannelMaxRetries",2,t),this.ta=Uu("forwardChannelRequestTimeoutMs",2e4,t),this.ra=t&&t.xmlHttpFactory||void 0,this.Da=t&&t.Zb||!1,this.J=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.I="",this.h=new rC(t&&t.concurrentRequestLimit),this.Fa=new C4,this.O=t&&t.fastHandshake||!1,this.N=t&&t.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=t&&t.Xb||!1,t&&t.Aa&&this.j.Aa(),t&&t.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&t&&t.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}J=pC.prototype;J.ma=8;J.G=1;function Dw(t){if(mC(t),t.G==3){var e=t.U++,n=mi(t.F);Ue(n,"SID",t.I),Ue(n,"RID",e),Ue(n,"TYPE","terminate"),Ql(t,n),e=new Hl(t,t.j,e,void 0),e.K=2,e.v=Cp(mi(n)),n=!1,oe.navigator&&oe.navigator.sendBeacon&&(n=oe.navigator.sendBeacon(e.v.toString(),"")),!n&&oe.Image&&(new Image().src=e.v,n=!0),n||(e.g=IC(e.l,null),e.g.da(e.v)),e.F=Date.now(),Wl(e)}SC(t)}function Op(t){t.g&&($w(t),t.g.cancel(),t.g=null)}function mC(t){Op(t),t.u&&(oe.clearTimeout(t.u),t.u=null),uf(t),t.h.cancel(),t.m&&(typeof t.m=="number"&&oe.clearTimeout(t.m),t.m=null)}function Np(t){iC(t.h)||t.m||(t.m=!0,LR(t.Ja,t),t.C=0)}function $4(t,e){return sC(t.h)>=t.h.j-(t.m?1:0)?!1:t.m?(t.i=e.D.concat(t.i),!0):t.G==1||t.G==2||t.C>=(t.Za?0:t.$a)?!1:(t.m=ql(Yt(t.Ja,t,e),_C(t,t.C)),t.C++,!0)}J.Ja=function(t){if(this.m)if(this.m=null,this.G==1){if(!t){this.U=Math.floor(1e5*Math.random()),t=this.U++;const i=new Hl(this,this.j,t,void 0);let s=this.s;if(this.S&&(s?(s=CR(s),PR(s,this.S)):s=this.S),this.o!==null||this.N||(i.H=s,s=null),this.O)e:{for(var e=0,n=0;n<this.i.length;n++){t:{var r=this.i[n];if("__data__"in r.g&&(r=r.g.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.i.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=gC(this,i,e),n=mi(this.F),Ue(n,"RID",t),Ue(n,"CVER",22),this.D&&Ue(n,"X-HTTP-Session-Id",this.D),Ql(this,n),s&&(this.N?e="headers="+encodeURIComponent(String(fC(s)))+"&"+e:this.o&&Nw(n,this.o,s)),Pw(this.h,i),this.Ya&&Ue(n,"TYPE","init"),this.O?(Ue(n,"$req",e),Ue(n,"SID","null"),i.Z=!0,sv(i,n,null)):sv(i,n,e),this.G=2}}else this.G==3&&(t?SE(this,t):this.i.length==0||iC(this.h)||SE(this))};function SE(t,e){var n;e?n=e.m:n=t.U++;const r=mi(t.F);Ue(r,"SID",t.I),Ue(r,"RID",n),Ue(r,"AID",t.T),Ql(t,r),t.o&&t.s&&Nw(r,t.o,t.s),n=new Hl(t,t.j,n,t.C+1),t.o===null&&(n.H=t.s),e&&(t.i=e.D.concat(t.i)),e=gC(t,n,1e3),n.setTimeout(Math.round(.5*t.ta)+Math.round(.5*t.ta*Math.random())),Pw(t.h,n),sv(n,r,e)}function Ql(t,e){t.ia&&ww(t.ia,function(n,r){Ue(e,r,n)}),t.l&&JR({},function(n,r){Ue(e,r,n)})}function gC(t,e,n){n=Math.min(t.i.length,n);var r=t.l?Yt(t.l.Ra,t.l,t):null;e:{var i=t.i;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<n;u++){let c=i[u].h;const l=i[u].g;if(c-=s,0>c)s=Math.max(0,i[u].h-100),a=!1;else try{P4(l,o,"req"+c+"_")}catch{r&&r(l)}}if(a){r=o.join("&");break e}}}return t=t.i.splice(0,n),e.D=t,r}function yC(t){t.g||t.u||(t.Z=1,LR(t.Ia,t),t.A=0)}function Fw(t){return t.g||t.u||3<=t.A?!1:(t.Z++,t.u=ql(Yt(t.Ia,t),_C(t,t.A)),t.A++,!0)}J.Ia=function(){if(this.u=null,vC(this),this.$&&!(this.K||this.g==null||0>=this.P)){var t=2*this.P;this.j.info("BP detection timer enabled: "+t),this.B=ql(Yt(this.eb,this),t)}};J.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,un(10),Op(this),vC(this))};function $w(t){t.B!=null&&(oe.clearTimeout(t.B),t.B=null)}function vC(t){t.g=new Hl(t,t.j,"rpc",t.Z),t.o===null&&(t.g.H=t.s),t.g.N=0;var e=mi(t.sa);Ue(e,"RID","rpc"),Ue(e,"SID",t.I),Ue(e,"CI",t.L?"0":"1"),Ue(e,"AID",t.T),Ue(e,"TYPE","xmlhttp"),Ql(t,e),t.o&&t.s&&Nw(e,t.o,t.s),t.J&&t.g.setTimeout(t.J);var n=t.g;t=t.ka,n.K=1,n.v=Cp(mi(e)),n.s=null,n.P=!0,GR(n,t)}J.cb=function(){this.v!=null&&(this.v=null,Op(this),Fw(this),un(19))};function uf(t){t.v!=null&&(oe.clearTimeout(t.v),t.v=null)}function wC(t,e){var n=null;if(t.g==e){uf(t),$w(t),t.g=null;var r=2}else if(av(t.h,e))n=e.D,oC(t.h,e),r=1;else return;if(t.G!=0){if(t.pa=e.Y,e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;r=Tp(),Lt(r,new zR(r,n)),Np(t)}else yC(t);else if(i=e.o,i==3||i==0&&0<t.pa||!(r==1&&$4(t,e)||r==2&&Fw(t)))switch(n&&0<n.length&&(e=t.h,e.i=e.i.concat(n)),i){case 1:Ks(t,5);break;case 4:Ks(t,10);break;case 3:Ks(t,6);break;default:Ks(t,2)}}}function _C(t,e){let n=t.Xa+Math.floor(Math.random()*t.bb);return t.l||(n*=2),n*e}function Ks(t,e){if(t.j.info("Error code "+e),e==2){var n=null;t.l&&(n=null);var r=Yt(t.kb,t);n||(n=new no("//www.google.com/images/cleardot.gif"),oe.location&&oe.location.protocol=="http"||of(n,"https"),Cp(n)),A4(n.toString(),r)}else un(2);t.G=0,t.l&&t.l.va(e),SC(t),mC(t)}J.kb=function(t){t?(this.j.info("Successfully pinged google.com"),un(2)):(this.j.info("Failed to ping google.com"),un(1))};function SC(t){if(t.G=0,t.la=[],t.l){const e=aC(t.h);(e.length!=0||t.i.length!=0)&&(lE(t.la,e),lE(t.la,t.i),t.h.i.length=0,yw(t.i),t.i.length=0),t.l.ua()}}function EC(t,e,n){var r=n instanceof no?mi(n):new no(n,void 0);if(r.g!="")e&&(r.g=e+"."+r.g),af(r,r.m);else{var i=oe.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new no(null,void 0);r&&of(s,r),e&&(s.g=e),i&&af(s,i),n&&(s.l=n),r=s}return n=t.D,e=t.za,n&&e&&Ue(r,n,e),Ue(r,"VER",t.ma),Ql(t,r),r}function IC(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Da&&!t.ra?new et(new Kl({jb:!0})):new et(t.ra),e.Ka(t.H),e}function bC(){}J=bC.prototype;J.xa=function(){};J.wa=function(){};J.va=function(){};J.ua=function(){};J.Ra=function(){};function cf(){if(Fa&&!(10<=Number(Z3)))throw Error("Environmental error: no available transport.")}cf.prototype.g=function(t,e){return new Un(t,e)};function Un(t,e){Tt.call(this),this.g=new pC(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.S=t,(t=e&&e.Yb)&&!nf(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!nf(e)&&(this.g.D=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new gu(this)}Vt(Un,Tt);Un.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;un(0),t.V=e,t.ia=n||{},t.L=t.Y,t.F=EC(t,null,t.V),Np(t)};Un.prototype.close=function(){Dw(this.g)};Un.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=bw(t),t=n);e.i.push(new x4(e.ab++,t)),e.G==3&&Np(e)};Un.prototype.M=function(){this.g.l=null,delete this.j,Dw(this.g),delete this.g,Un.X.M.call(this)};function TC(t){Rw.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Vt(TC,Rw);function kC(){Cw.call(this),this.status=1}Vt(kC,Cw);function gu(t){this.g=t}Vt(gu,bC);gu.prototype.xa=function(){Lt(this.g,"a")};gu.prototype.wa=function(t){Lt(this.g,new TC(t))};gu.prototype.va=function(t){Lt(this.g,new kC)};gu.prototype.ua=function(){Lt(this.g,"b")};cf.prototype.createWebChannel=cf.prototype.g;Un.prototype.send=Un.prototype.u;Un.prototype.open=Un.prototype.m;Un.prototype.close=Un.prototype.close;kp.NO_ERROR=0;kp.TIMEOUT=8;kp.HTTP_ERROR=6;HR.COMPLETE="complete";WR.EventType=zl;zl.OPEN="a";zl.CLOSE="b";zl.ERROR="c";zl.MESSAGE="d";Tt.prototype.listen=Tt.prototype.N;et.prototype.listenOnce=et.prototype.O;et.prototype.getLastError=et.prototype.Oa;et.prototype.getLastErrorCode=et.prototype.Ea;et.prototype.getStatus=et.prototype.aa;et.prototype.getResponseJson=et.prototype.Sa;et.prototype.getResponseText=et.prototype.fa;et.prototype.send=et.prototype.da;et.prototype.setWithCredentials=et.prototype.Ka;var L4=function(){return new cf},M4=function(){return Tp()},Eg=kp,U4=HR,j4=Po,EE={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},V4=Kl,jh=WR,B4=et;const IE="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}St.UNAUTHENTICATED=new St(null),St.GOOGLE_CREDENTIALS=new St("google-credentials-uid"),St.FIRST_PARTY=new St("first-party-uid"),St.MOCK_USER=new St("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yu="9.15.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cs=new rp("@firebase/firestore");function uv(){return cs.logLevel}function q4(t){cs.setLogLevel(t)}function O(t,...e){if(cs.logLevel<=ye.DEBUG){const n=e.map(Lw);cs.debug(`Firestore (${yu}): ${t}`,...n)}}function st(t,...e){if(cs.logLevel<=ye.ERROR){const n=e.map(Lw);cs.error(`Firestore (${yu}): ${t}`,...n)}}function $a(t,...e){if(cs.logLevel<=ye.WARN){const n=e.map(Lw);cs.warn(`Firestore (${yu}): ${t}`,...n)}}function Lw(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z(t="Unexpected state"){const e=`FIRESTORE (${yu}) INTERNAL ASSERTION FAILED: `+t;throw st(e),new Error(e)}function Z(t,e){t||z()}function z4(t,e){t||z()}function B(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class A extends Qt{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let It=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xC{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class H4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(St.UNAUTHENTICATED))}shutdown(){}}class W4{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class K4{constructor(e){this.t=e,this.currentUser=St.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let s=new It;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new It,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const u=s;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},a=u=>{O("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?a(u):(O("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new It)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(O("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Z(typeof r.accessToken=="string"),new xC(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Z(e===null||typeof e=="string"),new St(e)}}class G4{constructor(e,n,r,i){this.h=e,this.l=n,this.m=r,this.g=i,this.type="FirstParty",this.user=St.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(Z(!(typeof this.h!="object"||this.h===null||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class Q4{constructor(e,n,r,i){this.h=e,this.l=n,this.m=r,this.g=i}getToken(){return Promise.resolve(new G4(this.h,this.l,this.m,this.g))}start(e,n){e.enqueueRetryable(()=>n(St.FIRST_PARTY))}shutdown(){}invalidateToken(){}}let Y4=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}};class X4{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,n){const r=s=>{s.error!=null&&O("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.A;return this.A=s.token,O("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{O("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.T.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.T.getImmediate({optional:!0});s?i(s):O("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Z(typeof n.token=="string"),this.A=n.token,new Y4(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J4(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=J4(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function ae(t,e){return t<e?-1:t>e?1:0}function La(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}function CC(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new A(I.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new A(I.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new A(I.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new A(I.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ve.fromMillis(Date.now())}static fromDate(e){return Ve.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Ve(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ae(this.nanoseconds,e.nanoseconds):ae(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.timestamp=e}static fromTimestamp(e){return new te(e)}static min(){return new te(new Ve(0,0))}static max(){return new te(new Ve(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{constructor(e,n,r){n===void 0?n=0:n>e.length&&z(),r===void 0?r=e.length-n:r>e.length-n&&z(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ll.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ll?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ge extends ll{construct(e,n,r){return new ge(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new A(I.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ge(n)}static emptyPath(){return new ge([])}}const Z4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ot extends ll{construct(e,n,r){return new ot(e,n,r)}static isValidIdentifier(e){return Z4.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ot.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new ot(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new A(I.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new A(I.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new A(I.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new A(I.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ot(n)}static emptyPath(){return new ot([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L{constructor(e){this.path=e}static fromPath(e){return new L(ge.fromString(e))}static fromName(e){return new L(ge.fromString(e).popFirst(5))}static empty(){return new L(ge.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ge.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ge.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new L(new ge(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function cv(t){return t.fields.find(e=>e.kind===2)}function Ds(t){return t.fields.filter(e=>e.kind!==2)}PC.UNKNOWN_ID=-1;class eB{constructor(e,n){this.fieldPath=e,this.kind=n}}class lf{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new lf(0,jn.min())}}function AC(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=te.fromTimestamp(r===1e9?new Ve(n+1,0):new Ve(n,r));return new jn(i,L.empty(),e)}function OC(t){return new jn(t.readTime,t.key,-1)}class jn{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new jn(te.min(),L.empty(),-1)}static max(){return new jn(te.max(),L.empty(),-1)}}function Mw(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=L.comparator(t.documentKey,e.documentKey),n!==0?n:ae(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class DC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ts(t){if(t.code!==I.FAILED_PRECONDITION||t.message!==NC)throw t;O("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&z(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new S((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof S?n:S.resolve(n)}catch(n){return S.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):S.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):S.reject(n)}static resolve(e){return new S((n,r)=>{n(e)})}static reject(e){return new S((n,r)=>{r(e)})}static waitFor(e){return new S((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=S.resolve(!1);for(const r of e)n=n.next(i=>i?S.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new S((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const c=u;n(e[c]).next(l=>{o[c]=l,++a,a===s&&r(o)},l=>i(l))}})}static doWhile(e,n){return new S((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dp{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.P=new It,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{n.error?this.P.reject(new Ec(e,n.error)):this.P.resolve()},this.transaction.onerror=r=>{const i=Uw(r.target.error);this.P.reject(new Ec(e,i))}}static open(e,n,r,i){try{return new Dp(n,e.transaction(i,r))}catch(s){throw new Ec(n,s)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(O("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new nB(n)}}class ur{constructor(e,n,r){this.name=e,this.version=n,this.S=r,ur.D(Ke())===12.2&&st("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return O("SimpleDb","Removing database:",e),Ls(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!Xc())return!1;if(ur.N())return!0;const e=Ke(),n=ur.D(e),r=0<n&&n<10,i=ur.k(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static N(){var e;return typeof process<"u"&&((e=process.env)===null||e===void 0?void 0:e.O)==="YES"}static M(e,n){return e.store(n)}static D(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static k(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}async F(e){return this.db||(O("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const o=s.target.result;n(o)},i.onblocked=()=>{r(new Ec(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const o=s.target.error;o.name==="VersionError"?r(new A(I.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new A(I.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new Ec(e,o))},i.onupgradeneeded=s=>{O("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const o=s.target.result;this.S.$(o,i.transaction,s.oldVersion,this.version).next(()=>{O("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.B&&(this.db.onversionchange=n=>this.B(n)),this.db}L(e){this.B=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const s=n==="readonly";let o=0;for(;;){++o;try{this.db=await this.F(e);const a=Dp.open(this.db,e,s?"readonly":"readwrite",r),u=i(a).next(c=>(a.V(),c)).catch(c=>(a.abort(c),S.reject(c))).toPromise();return u.catch(()=>{}),await a.v,u}catch(a){const u=a,c=u.name!=="FirebaseError"&&o<3;if(O("SimpleDb","Transaction failed with error:",u.message,"Retrying:",c),this.close(),!c)return Promise.reject(u)}}}close(){this.db&&this.db.close(),this.db=void 0}}class tB{constructor(e){this.q=e,this.U=!1,this.K=null}get isDone(){return this.U}get G(){return this.K}set cursor(e){this.q=e}done(){this.U=!0}j(e){this.K=e}delete(){return Ls(this.q.delete())}}class Ec extends A{constructor(e,n){super(I.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function ks(t){return t.name==="IndexedDbTransactionError"}class nB{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(O("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(O("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Ls(r)}add(e){return O("SimpleDb","ADD",this.store.name,e,e),Ls(this.store.add(e))}get(e){return Ls(this.store.get(e)).next(n=>(n===void 0&&(n=null),O("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return O("SimpleDb","DELETE",this.store.name,e),Ls(this.store.delete(e))}count(){return O("SimpleDb","COUNT",this.store.name),Ls(this.store.count())}W(e,n){const r=this.options(e,n);if(r.index||typeof this.store.getAll!="function"){const i=this.cursor(r),s=[];return this.H(i,(o,a)=>{s.push(a)}).next(()=>s)}{const i=this.store.getAll(r.range);return new S((s,o)=>{i.onerror=a=>{o(a.target.error)},i.onsuccess=a=>{s(a.target.result)}})}}J(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new S((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}Y(e,n){O("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.X=!1;const i=this.cursor(r);return this.H(i,(s,o,a)=>a.delete())}Z(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.H(i,n)}tt(e){const n=this.cursor({});return new S((r,i)=>{n.onerror=s=>{const o=Uw(s.target.error);i(o)},n.onsuccess=s=>{const o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}H(e,n){const r=[];return new S((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{const a=o.target.result;if(!a)return void i();const u=new tB(a),c=n(a.primaryKey,a.value,u);if(c instanceof S){const l=c.catch(h=>(u.done(),S.reject(h)));r.push(l)}u.isDone?i():u.G===null?a.continue():a.continue(u.G)}}).next(()=>S.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function Ls(t){return new S((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=Uw(r.target.error);n(i)}})}let bE=!1;function Uw(t){const e=ur.D(Ke());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new A("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return bE||(bE=!0,setTimeout(()=>{throw r},0)),r}}return t}class rB{constructor(e,n){this.asyncQueue=e,this.et=n,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}nt(e){O("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{O("IndexBackiller",`Documents written: ${await this.et.st()}`)}catch(n){ks(n)?O("IndexBackiller","Ignoring IndexedDB error during index backfill: ",n):await Ts(n)}await this.nt(6e4)})}}class iB{constructor(e,n){this.localStore=e,this.persistence=n}async st(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.it(n,e))}it(e,n){const r=new Set;let i=n,s=!0;return S.doWhile(()=>s===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(o=>{if(o!==null&&!r.has(o))return O("IndexBackiller",`Processing collection: ${o}`),this.rt(e,o,i).next(a=>{i-=a,r.add(o)});s=!1})).next(()=>n-i)}rt(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next(s=>{const o=s.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next(()=>this.ot(i,s)).next(a=>(O("IndexBackiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,n,a))).next(()=>o.size)}))}ot(e,n){let r=e;return n.changes.forEach((i,s)=>{const o=OC(s);Mw(o,r)>0&&(r=o)}),new jn(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ut(r),this.ct=r=>n.writeSequenceNumber(r))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}wn.at=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sB{constructor(e,n,r,i,s,o,a,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=u}}class ls{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new ls("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof ls&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ao(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function FC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yl(t){return t==null}function hl(t){return t===0&&1/t==-1/0}function $C(t){return typeof t=="number"&&Number.isInteger(t)&&!hl(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oB(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=atob(e);return new gt(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new gt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ae(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}gt.EMPTY_BYTE_STRING=new gt("");const aB=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function hs(t){if(Z(!!t),typeof t=="string"){let e=0;const n=aB.exec(t);if(Z(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ze(t.seconds),nanos:Ze(t.nanos)}}function Ze(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function mo(t){return typeof t=="string"?gt.fromBase64String(t):gt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jw(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function LC(t){const e=t.mapValue.fields.__previous_value__;return jw(e)?LC(e):e}function dl(t){const e=hs(t.mapValue.fields.__local_write_time__.timestampValue);return new Ve(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hi={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},cd={nullValue:"NULL_VALUE"};function go(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?jw(t)?4:MC(t)?9007199254740991:10:z()}function zr(t,e){if(t===e)return!0;const n=go(t);if(n!==go(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return dl(t).isEqual(dl(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=hs(r.timestampValue),o=hs(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return mo(r.bytesValue).isEqual(mo(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return Ze(r.geoPointValue.latitude)===Ze(i.geoPointValue.latitude)&&Ze(r.geoPointValue.longitude)===Ze(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Ze(r.integerValue)===Ze(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=Ze(r.doubleValue),o=Ze(i.doubleValue);return s===o?hl(s)===hl(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return La(t.arrayValue.values||[],e.arrayValue.values||[],zr);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(TE(s)!==TE(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(o[a]===void 0||!zr(s[a],o[a])))return!1;return!0}(t,e);default:return z()}}function fl(t,e){return(t.values||[]).find(n=>zr(n,e))!==void 0}function ds(t,e){if(t===e)return 0;const n=go(t),r=go(e);if(n!==r)return ae(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ae(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=Ze(i.integerValue||i.doubleValue),a=Ze(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return kE(t.timestampValue,e.timestampValue);case 4:return kE(dl(t),dl(e));case 5:return ae(t.stringValue,e.stringValue);case 6:return function(i,s){const o=mo(i),a=mo(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let u=0;u<o.length&&u<a.length;u++){const c=ae(o[u],a[u]);if(c!==0)return c}return ae(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=ae(Ze(i.latitude),Ze(s.latitude));return o!==0?o:ae(Ze(i.longitude),Ze(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let u=0;u<o.length&&u<a.length;++u){const c=ds(o[u],a[u]);if(c)return c}return ae(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===Hi.mapValue&&s===Hi.mapValue)return 0;if(i===Hi.mapValue)return 1;if(s===Hi.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),u=s.fields||{},c=Object.keys(u);a.sort(),c.sort();for(let l=0;l<a.length&&l<c.length;++l){const h=ae(a[l],c[l]);if(h!==0)return h;const d=ds(o[a[l]],u[c[l]]);if(d!==0)return d}return ae(a.length,c.length)}(t.mapValue,e.mapValue);default:throw z()}}function kE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ae(t,e);const n=hs(t),r=hs(e),i=ae(n.seconds,r.seconds);return i!==0?i:ae(n.nanos,r.nanos)}function Ma(t){return lv(t)}function lv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=hs(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?mo(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,L.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=lv(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${lv(r.fields[a])}`;return s+"}"}(t.mapValue):z();var e,n}function yo(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function hv(t){return!!t&&"integerValue"in t}function pl(t){return!!t&&"arrayValue"in t}function xE(t){return!!t&&"nullValue"in t}function RE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ld(t){return!!t&&"mapValue"in t}function Ic(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ao(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ic(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ic(t.arrayValue.values[n]);return e}return Object.assign({},t)}function MC(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}function uB(t){return"nullValue"in t?cd:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?yo(ls.empty(),L.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?{mapValue:{}}:z()}function cB(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?yo(ls.empty(),L.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?{mapValue:{}}:"mapValue"in t?Hi:z()}function CE(t,e){const n=ds(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function PE(t,e){const n=ds(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs{constructor(e,n){this.position=e,this.inclusive=n}}function AE(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=L.comparator(L.fromName(o.referenceValue),n.key):r=ds(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function OE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!zr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UC{}class he extends UC{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new lB(e,n,r):n==="array-contains"?new fB(e,r):n==="in"?new KC(e,r):n==="not-in"?new pB(e,r):n==="array-contains-any"?new mB(e,r):new he(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new hB(e,r):new dB(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ds(n,this.value)):n!==null&&go(this.value)===go(n)&&this.matchesComparison(ds(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return z()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class be extends UC{constructor(e,n){super(),this.filters=e,this.op=n,this.ht=null}static create(e,n){return new be(e,n)}matches(e){return Ua(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ht!==null||(this.ht=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(n=>n.isInequality());return e!==null?e.field:null}lt(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function Ua(t){return t.op==="and"}function dv(t){return t.op==="or"}function jC(t){return VC(t)&&Ua(t)}function VC(t){for(const e of t.filters)if(e instanceof be)return!1;return!0}function BC(t){if(t instanceof he)return t.field.canonicalString()+t.op.toString()+Ma(t.value);{const e=t.filters.map(n=>BC(n)).join(",");return`${t.op}(${e})`}}function qC(t,e){return t instanceof he?function(n,r){return r instanceof he&&n.op===r.op&&n.field.isEqual(r.field)&&zr(n.value,r.value)}(t,e):t instanceof be?function(n,r){return r instanceof be&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce((i,s,o)=>i&&qC(s,r.filters[o]),!0):!1}(t,e):void z()}function zC(t,e){const n=t.filters.concat(e);return be.create(n,t.op)}function HC(t){return t instanceof he?function(e){return`${e.field.canonicalString()} ${e.op} ${Ma(e.value)}`}(t):t instanceof be?function(e){return e.op.toString()+" {"+e.getFilters().map(HC).join(" ,")+"}"}(t):"Filter"}class lB extends he{constructor(e,n,r){super(e,n,r),this.key=L.fromName(r.referenceValue)}matches(e){const n=L.comparator(e.key,this.key);return this.matchesComparison(n)}}class hB extends he{constructor(e,n){super(e,"in",n),this.keys=WC("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class dB extends he{constructor(e,n){super(e,"not-in",n),this.keys=WC("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function WC(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>L.fromName(r.referenceValue))}class fB extends he{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return pl(n)&&fl(n.arrayValue,this.value)}}class KC extends he{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&fl(this.value.arrayValue,n)}}class pB extends he{constructor(e,n){super(e,"not-in",n)}matches(e){if(fl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!fl(this.value.arrayValue,n)}}class mB extends he{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!pl(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>fl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(e,n="asc"){this.field=e,this.dir=n}}function gB(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{constructor(e,n){this.comparator=e,this.root=n||Ot.EMPTY}insert(e,n){return new tt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ot.BLACK,null,null))}remove(e){return new tt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ot.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Vh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Vh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Vh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Vh(this.root,e,this.comparator,!0)}}class Vh{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ot{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Ot.RED,this.left=i??Ot.EMPTY,this.right=s??Ot.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Ot(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ot.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Ot.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ot.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ot.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw z();const e=this.left.check();if(e!==this.right.check())throw z();return e+(this.isRed()?0:1)}}Ot.EMPTY=null,Ot.RED=!0,Ot.BLACK=!1;Ot.EMPTY=new class{constructor(){this.size=0}get key(){throw z()}get value(){throw z()}get color(){throw z()}get left(){throw z()}get right(){throw z()}copy(t,e,n,r,i){return this}insert(t,e,n){return new Ot(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(e){this.comparator=e,this.data=new tt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new NE(this.data.getIterator())}getIteratorFrom(e){return new NE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof xe)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new xe(this.comparator);return n.data=e,n}}class NE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function jo(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(e){this.fields=e,e.sort(ot.comparator)}static empty(){return new $n([])}unionWith(e){let n=new xe(ot.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new $n(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return La(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e){this.value=e}static empty(){return new Dt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!ld(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ic(n)}setAll(e){let n=ot.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Ic(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());ld(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return zr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];ld(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ao(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Dt(Ic(this.value))}}function GC(t){const e=[];return Ao(t.fields,(n,r)=>{const i=new ot([n]);if(ld(r)){const s=GC(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new $n(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Oe(e,0,te.min(),te.min(),te.min(),Dt.empty(),0)}static newFoundDocument(e,n,r,i){return new Oe(e,1,n,te.min(),r,i,0)}static newNoDocument(e,n){return new Oe(e,2,n,te.min(),te.min(),Dt.empty(),0)}static newUnknownDocument(e,n){return new Oe(e,3,n,te.min(),te.min(),Dt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Dt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Dt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Oe&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Oe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yB{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ft=null}}function fv(t,e=null,n=[],r=[],i=null,s=null,o=null){return new yB(t,e,n,r,i,s,o)}function vo(t){const e=B(t);if(e.ft===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>BC(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Yl(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ma(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ma(r)).join(",")),e.ft=n}return e.ft}function Xl(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!gB(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!qC(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!OE(t.startAt,e.startAt)&&OE(t.endAt,e.endAt)}function hf(t){return L.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function df(t,e){return t.filters.filter(n=>n instanceof he&&n.field.isEqual(e))}function DE(t,e,n){let r=cd,i=!0;for(const s of df(t,e)){let o=cd,a=!0;switch(s.op){case"<":case"<=":o=uB(s.value);break;case"==":case"in":case">=":o=s.value;break;case">":o=s.value,a=!1;break;case"!=":case"not-in":o=cd}CE({value:r,inclusive:i},{value:o,inclusive:a})<0&&(r=o,i=a)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const o=n.position[s];CE({value:r,inclusive:i},{value:o,inclusive:n.inclusive})<0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}function FE(t,e,n){let r=Hi,i=!0;for(const s of df(t,e)){let o=Hi,a=!0;switch(s.op){case">=":case">":o=cB(s.value),a=!1;break;case"==":case"in":case"<=":o=s.value;break;case"<":o=s.value,a=!1;break;case"!=":case"not-in":o=Hi}PE({value:r,inclusive:i},{value:o,inclusive:a})>0&&(r=o,i=a)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const o=n.position[s];PE({value:r,inclusive:i},{value:o,inclusive:n.inclusive})>0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.dt=null,this._t=null,this.startAt,this.endAt}}function QC(t,e,n,r,i,s,o,a){return new Ii(t,e,n,r,i,s,o,a)}function vu(t){return new Ii(t)}function $E(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Vw(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Fp(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function Bw(t){return t.collectionGroup!==null}function ro(t){const e=B(t);if(e.dt===null){e.dt=[];const n=Fp(e),r=Vw(e);if(n!==null&&r===null)n.isKeyField()||e.dt.push(new Ea(n)),e.dt.push(new Ea(ot.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.dt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new Ea(ot.keyField(),s))}}}return e.dt}function Tn(t){const e=B(t);if(!e._t)if(e.limitType==="F")e._t=fv(e.path,e.collectionGroup,ro(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of ro(e)){const o=s.dir==="desc"?"asc":"desc";n.push(new Ea(s.field,o))}const r=e.endAt?new fs(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new fs(e.startAt.position,e.startAt.inclusive):null;e._t=fv(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e._t}function pv(t,e){e.getFirstInequalityField(),Fp(t);const n=t.filters.concat([e]);return new Ii(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function ff(t,e,n){return new Ii(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Jl(t,e){return Xl(Tn(t),Tn(e))&&t.limitType===e.limitType}function YC(t){return`${vo(Tn(t))}|lt:${t.limitType}`}function mv(t){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>HC(r)).join(", ")}]`),Yl(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(r)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ma(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ma(r)).join(",")),`Target(${n})`}(Tn(t))}; limitType=${t.limitType})`}function qw(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):L.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of ro(n))if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!function(i,s,o){const a=AE(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,ro(n),r)||n.endAt&&!function(i,s,o){const a=AE(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,ro(n),r))}(t,e)}function XC(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function JC(t){return(e,n)=>{let r=!1;for(const i of ro(t)){const s=vB(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function vB(t,e,n){const r=t.field.isKeyField()?L.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),u=o.data.field(i);return a!==null&&u!==null?ds(a,u):z()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return z()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZC(t,e){if(t.wt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:hl(e)?"-0":e}}function eP(t){return{integerValue:""+t}}function tP(t,e){return $C(e)?eP(e):ZC(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $p{constructor(){this._=void 0}}function wB(t,e,n){return t instanceof ja?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof wo?rP(t,e):t instanceof _o?iP(t,e):function(r,i){const s=nP(r,i),o=LE(s)+LE(r.gt);return hv(s)&&hv(r.gt)?eP(o):ZC(r.yt,o)}(t,e)}function _B(t,e,n){return t instanceof wo?rP(t,e):t instanceof _o?iP(t,e):n}function nP(t,e){return t instanceof Va?hv(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}class ja extends $p{}class wo extends $p{constructor(e){super(),this.elements=e}}function rP(t,e){const n=sP(e);for(const r of t.elements)n.some(i=>zr(i,r))||n.push(r);return{arrayValue:{values:n}}}class _o extends $p{constructor(e){super(),this.elements=e}}function iP(t,e){let n=sP(e);for(const r of t.elements)n=n.filter(i=>!zr(i,r));return{arrayValue:{values:n}}}class Va extends $p{constructor(e,n){super(),this.yt=e,this.gt=n}}function LE(t){return Ze(t.integerValue||t.doubleValue)}function sP(t){return pl(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{constructor(e,n){this.field=e,this.transform=n}}function SB(t,e){return t.field.isEqual(e.field)&&function(n,r){return n instanceof wo&&r instanceof wo||n instanceof _o&&r instanceof _o?La(n.elements,r.elements,zr):n instanceof Va&&r instanceof Va?zr(n.gt,r.gt):n instanceof ja&&r instanceof ja}(t.transform,e.transform)}class EB{constructor(e,n){this.version=e,this.transformResults=n}}class je{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new je}static exists(e){return new je(void 0,e)}static updateTime(e){return new je(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function hd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Lp{}function oP(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new _u(t.key,je.none()):new wu(t.key,t.data,je.none());{const n=t.data,r=Dt.empty();let i=new xe(ot.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new bi(t.key,r,new $n(i.toArray()),je.none())}}function IB(t,e,n){t instanceof wu?function(r,i,s){const o=r.value.clone(),a=UE(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof bi?function(r,i,s){if(!hd(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=UE(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(aP(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):function(r,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function bc(t,e,n,r){return t instanceof wu?function(i,s,o,a){if(!hd(i.precondition,s))return o;const u=i.value.clone(),c=jE(i.fieldTransforms,a,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof bi?function(i,s,o,a){if(!hd(i.precondition,s))return o;const u=jE(i.fieldTransforms,a,s),c=s.data;return c.setAll(aP(i)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),o===null?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(l=>l.field))}(t,e,n,r):function(i,s,o){return hd(i.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(t,e,n)}function bB(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=nP(r.transform,i||null);s!=null&&(n===null&&(n=Dt.empty()),n.set(r.field,s))}return n||null}function ME(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&La(n,r,(i,s)=>SB(i,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class wu extends Lp{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class bi extends Lp{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function aP(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function UE(t,e,n){const r=new Map;Z(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,_B(o,a,n[i]))}return r}function jE(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,wB(s,o,e))}return r}class _u extends Lp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class zw extends Lp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TB{constructor(e){this.count=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ut,pe;function uP(t){switch(t){default:return z();case I.CANCELLED:case I.UNKNOWN:case I.DEADLINE_EXCEEDED:case I.RESOURCE_EXHAUSTED:case I.INTERNAL:case I.UNAVAILABLE:case I.UNAUTHENTICATED:return!1;case I.INVALID_ARGUMENT:case I.NOT_FOUND:case I.ALREADY_EXISTS:case I.PERMISSION_DENIED:case I.FAILED_PRECONDITION:case I.ABORTED:case I.OUT_OF_RANGE:case I.UNIMPLEMENTED:case I.DATA_LOSS:return!0}}function cP(t){if(t===void 0)return st("GRPC error has no .code"),I.UNKNOWN;switch(t){case ut.OK:return I.OK;case ut.CANCELLED:return I.CANCELLED;case ut.UNKNOWN:return I.UNKNOWN;case ut.DEADLINE_EXCEEDED:return I.DEADLINE_EXCEEDED;case ut.RESOURCE_EXHAUSTED:return I.RESOURCE_EXHAUSTED;case ut.INTERNAL:return I.INTERNAL;case ut.UNAVAILABLE:return I.UNAVAILABLE;case ut.UNAUTHENTICATED:return I.UNAUTHENTICATED;case ut.INVALID_ARGUMENT:return I.INVALID_ARGUMENT;case ut.NOT_FOUND:return I.NOT_FOUND;case ut.ALREADY_EXISTS:return I.ALREADY_EXISTS;case ut.PERMISSION_DENIED:return I.PERMISSION_DENIED;case ut.FAILED_PRECONDITION:return I.FAILED_PRECONDITION;case ut.ABORTED:return I.ABORTED;case ut.OUT_OF_RANGE:return I.OUT_OF_RANGE;case ut.UNIMPLEMENTED:return I.UNIMPLEMENTED;case ut.DATA_LOSS:return I.DATA_LOSS;default:return z()}}(pe=ut||(ut={}))[pe.OK=0]="OK",pe[pe.CANCELLED=1]="CANCELLED",pe[pe.UNKNOWN=2]="UNKNOWN",pe[pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",pe[pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",pe[pe.NOT_FOUND=5]="NOT_FOUND",pe[pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",pe[pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",pe[pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",pe[pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",pe[pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",pe[pe.ABORTED=10]="ABORTED",pe[pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",pe[pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",pe[pe.INTERNAL=13]="INTERNAL",pe[pe.UNAVAILABLE=14]="UNAVAILABLE",pe[pe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ao(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return FC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kB=new tt(L.comparator);function _n(){return kB}const lP=new tt(L.comparator);function sc(...t){let e=lP;for(const n of t)e=e.insert(n.key,n);return e}function hP(t){let e=lP;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Nr(){return Tc()}function dP(){return Tc()}function Tc(){return new xs(t=>t.toString(),(t,e)=>t.isEqual(e))}const xB=new tt(L.comparator),RB=new xe(L.comparator);function ue(...t){let e=RB;for(const n of t)e=e.add(n);return e}const CB=new xe(ae);function Mp(){return CB}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,th.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new eh(te.min(),i,Mp(),_n(),ue())}}class th{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new th(r,n,ue(),ue(),ue())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dd{constructor(e,n,r,i){this.It=e,this.removedTargetIds=n,this.key=r,this.Tt=i}}class fP{constructor(e,n){this.targetId=e,this.Et=n}}class pP{constructor(e,n,r=gt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class VE{constructor(){this.At=0,this.Rt=qE(),this.bt=gt.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}get current(){return this.Pt}get resumeToken(){return this.bt}get Vt(){return this.At!==0}get St(){return this.vt}Dt(e){e.approximateByteSize()>0&&(this.vt=!0,this.bt=e)}Ct(){let e=ue(),n=ue(),r=ue();return this.Rt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:z()}}),new th(this.bt,this.Pt,e,n,r)}xt(){this.vt=!1,this.Rt=qE()}Nt(e,n){this.vt=!0,this.Rt=this.Rt.insert(e,n)}kt(e){this.vt=!0,this.Rt=this.Rt.remove(e)}Ot(){this.At+=1}Mt(){this.At-=1}Ft(){this.vt=!0,this.Pt=!0}}class PB{constructor(e){this.$t=e,this.Bt=new Map,this.Lt=_n(),this.qt=BE(),this.Ut=new xe(ae)}Kt(e){for(const n of e.It)e.Tt&&e.Tt.isFoundDocument()?this.Gt(n,e.Tt):this.Qt(n,e.key,e.Tt);for(const n of e.removedTargetIds)this.Qt(n,e.key,e.Tt)}jt(e){this.forEachTarget(e,n=>{const r=this.Wt(n);switch(e.state){case 0:this.zt(n)&&r.Dt(e.resumeToken);break;case 1:r.Mt(),r.Vt||r.xt(),r.Dt(e.resumeToken);break;case 2:r.Mt(),r.Vt||this.removeTarget(n);break;case 3:this.zt(n)&&(r.Ft(),r.Dt(e.resumeToken));break;case 4:this.zt(n)&&(this.Ht(n),r.Dt(e.resumeToken));break;default:z()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Bt.forEach((r,i)=>{this.zt(i)&&n(i)})}Jt(e){const n=e.targetId,r=e.Et.count,i=this.Yt(n);if(i){const s=i.target;if(hf(s))if(r===0){const o=new L(s.path);this.Qt(n,o,Oe.newNoDocument(o,te.min()))}else Z(r===1);else this.Xt(n)!==r&&(this.Ht(n),this.Ut=this.Ut.add(n))}}Zt(e){const n=new Map;this.Bt.forEach((s,o)=>{const a=this.Yt(o);if(a){if(s.current&&hf(a.target)){const u=new L(a.target.path);this.Lt.get(u)!==null||this.te(o,u)||this.Qt(o,u,Oe.newNoDocument(u,e))}s.St&&(n.set(o,s.Ct()),s.xt())}});let r=ue();this.qt.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const c=this.Yt(u);return!c||c.purpose===2||(a=!1,!1)}),a&&(r=r.add(s))}),this.Lt.forEach((s,o)=>o.setReadTime(e));const i=new eh(e,n,this.Ut,this.Lt,r);return this.Lt=_n(),this.qt=BE(),this.Ut=new xe(ae),i}Gt(e,n){if(!this.zt(e))return;const r=this.te(e,n.key)?2:0;this.Wt(e).Nt(n.key,r),this.Lt=this.Lt.insert(n.key,n),this.qt=this.qt.insert(n.key,this.ee(n.key).add(e))}Qt(e,n,r){if(!this.zt(e))return;const i=this.Wt(e);this.te(e,n)?i.Nt(n,1):i.kt(n),this.qt=this.qt.insert(n,this.ee(n).delete(e)),r&&(this.Lt=this.Lt.insert(n,r))}removeTarget(e){this.Bt.delete(e)}Xt(e){const n=this.Wt(e).Ct();return this.$t.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ot(e){this.Wt(e).Ot()}Wt(e){let n=this.Bt.get(e);return n||(n=new VE,this.Bt.set(e,n)),n}ee(e){let n=this.qt.get(e);return n||(n=new xe(ae),this.qt=this.qt.insert(e,n)),n}zt(e){const n=this.Yt(e)!==null;return n||O("WatchChangeAggregator","Detected inactive target",e),n}Yt(e){const n=this.Bt.get(e);return n&&n.Vt?null:this.$t.ne(e)}Ht(e){this.Bt.set(e,new VE),this.$t.getRemoteKeysForTarget(e).forEach(n=>{this.Qt(e,n,null)})}te(e,n){return this.$t.getRemoteKeysForTarget(e).has(n)}}function BE(){return new tt(L.comparator)}function qE(){return new tt(L.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AB=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),OB=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),NB=(()=>({and:"AND",or:"OR"}))();class DB{constructor(e,n){this.databaseId=e,this.wt=n}}function Ba(t,e){return t.wt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function mP(t,e){return t.wt?e.toBase64():e.toUint8Array()}function FB(t,e){return Ba(t,e.toTimestamp())}function at(t){return Z(!!t),te.fromTimestamp(function(e){const n=hs(e);return new Ve(n.seconds,n.nanos)}(t))}function Hw(t,e){return function(n){return new ge(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function gP(t){const e=ge.fromString(t);return Z(TP(e)),e}function ml(t,e){return Hw(t.databaseId,e.path)}function Ur(t,e){const n=gP(e);if(n.get(1)!==t.databaseId.projectId)throw new A(I.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new A(I.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new L(vP(n))}function gv(t,e){return Hw(t.databaseId,e)}function yP(t){const e=gP(t);return e.length===4?ge.emptyPath():vP(e)}function gl(t){return new ge(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function vP(t){return Z(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function zE(t,e,n){return{name:ml(t,e),fields:n.value.mapValue.fields}}function wP(t,e,n){const r=Ur(t,e.name),i=at(e.updateTime),s=e.createTime?at(e.createTime):te.min(),o=new Dt({mapValue:{fields:e.fields}}),a=Oe.newFoundDocument(r,i,s,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function $B(t,e){return"found"in e?function(n,r){Z(!!r.found),r.found.name,r.found.updateTime;const i=Ur(n,r.found.name),s=at(r.found.updateTime),o=r.found.createTime?at(r.found.createTime):te.min(),a=new Dt({mapValue:{fields:r.found.fields}});return Oe.newFoundDocument(i,s,o,a)}(t,e):"missing"in e?function(n,r){Z(!!r.missing),Z(!!r.readTime);const i=Ur(n,r.missing),s=at(r.readTime);return Oe.newNoDocument(i,s)}(t,e):z()}function LB(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:z()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,c){return u.wt?(Z(c===void 0||typeof c=="string"),gt.fromBase64String(c||"")):(Z(c===void 0||c instanceof Uint8Array),gt.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=u.code===void 0?I.UNKNOWN:cP(u.code);return new A(c,u.message||"")}(o);n=new pP(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Ur(t,r.document.name),s=at(r.document.updateTime),o=r.document.createTime?at(r.document.createTime):te.min(),a=new Dt({mapValue:{fields:r.document.fields}}),u=Oe.newFoundDocument(i,s,o,a),c=r.targetIds||[],l=r.removedTargetIds||[];n=new dd(c,l,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Ur(t,r.document),s=r.readTime?at(r.readTime):te.min(),o=Oe.newNoDocument(i,s),a=r.removedTargetIds||[];n=new dd([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Ur(t,r.document),s=r.removedTargetIds||[];n=new dd([],s,i,null)}else{if(!("filter"in e))return z();{e.filter;const r=e.filter;r.targetId;const i=r.count||0,s=new TB(i),o=r.targetId;n=new fP(o,s)}}return n}function yl(t,e){let n;if(e instanceof wu)n={update:zE(t,e.key,e.value)};else if(e instanceof _u)n={delete:ml(t,e.key)};else if(e instanceof bi)n={update:zE(t,e.key,e.data),updateMask:qB(e.fieldMask)};else{if(!(e instanceof zw))return z();n={verify:ml(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof ja)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof wo)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof _o)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Va)return{fieldPath:s.field.canonicalString(),increment:o.gt};throw z()}(0,r))),e.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:FB(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:z()}(t,e.precondition)),n}function yv(t,e){const n=e.currentDocument?function(i){return i.updateTime!==void 0?je.updateTime(at(i.updateTime)):i.exists!==void 0?je.exists(i.exists):je.none()}(e.currentDocument):je.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(s,o){let a=null;if("setToServerValue"in o)Z(o.setToServerValue==="REQUEST_TIME"),a=new ja;else if("appendMissingElements"in o){const c=o.appendMissingElements.values||[];a=new wo(c)}else if("removeAllFromArray"in o){const c=o.removeAllFromArray.values||[];a=new _o(c)}else"increment"in o?a=new Va(s,o.increment):z();const u=ot.fromServerFormat(o.fieldPath);return new Zl(u,a)}(t,i)):[];if(e.update){e.update.name;const i=Ur(t,e.update.name),s=new Dt({mapValue:{fields:e.update.fields}});if(e.updateMask){const o=function(a){const u=a.fieldPaths||[];return new $n(u.map(c=>ot.fromServerFormat(c)))}(e.updateMask);return new bi(i,s,o,n,r)}return new wu(i,s,n,r)}if(e.delete){const i=Ur(t,e.delete);return new _u(i,n)}if(e.verify){const i=Ur(t,e.verify);return new zw(i,n)}return z()}function MB(t,e){return t&&t.length>0?(Z(e!==void 0),t.map(n=>function(r,i){let s=r.updateTime?at(r.updateTime):at(i);return s.isEqual(te.min())&&(s=at(i)),new EB(s,r.transformResults||[])}(n,e))):[]}function _P(t,e){return{documents:[gv(t,e.path)]}}function SP(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=gv(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=gv(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(u){if(u.length!==0)return bP(be.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(u){if(u.length!==0)return u.map(c=>function(l){return{field:Go(l.field),direction:jB(l.dir)}}(c))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=function(u,c){return u.wt||Yl(c)?c:{value:c}}(t,e.limit);var a;return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),n}function EP(t){let e=yP(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Z(r===1);const l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let s=[];n.where&&(s=function(l){const h=IP(l);return h instanceof be&&jC(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(l=>function(h){return new Ea(Qo(h.field),function(d){switch(d){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(h.direction))}(l)));let a=null;n.limit&&(a=function(l){let h;return h=typeof l=="object"?l.value:l,Yl(h)?null:h}(n.limit));let u=null;n.startAt&&(u=function(l){const h=!!l.before,d=l.values||[];return new fs(d,h)}(n.startAt));let c=null;return n.endAt&&(c=function(l){const h=!l.before,d=l.values||[];return new fs(d,h)}(n.endAt)),QC(e,i,o,s,a,"F",u,c)}function UB(t,e){const n=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return z()}}(0,e.purpose);return n==null?null:{"goog-listen-tags":n}}function IP(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=Qo(e.unaryFilter.field);return he.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=Qo(e.unaryFilter.field);return he.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Qo(e.unaryFilter.field);return he.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Qo(e.unaryFilter.field);return he.create(s,"!=",{nullValue:"NULL_VALUE"});default:return z()}}(t):t.fieldFilter!==void 0?function(e){return he.create(Qo(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return z()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return be.create(e.compositeFilter.filters.map(n=>IP(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return z()}}(e.compositeFilter.op))}(t):z()}function jB(t){return AB[t]}function VB(t){return OB[t]}function BB(t){return NB[t]}function Go(t){return{fieldPath:t.canonicalString()}}function Qo(t){return ot.fromServerFormat(t.fieldPath)}function bP(t){return t instanceof he?function(e){if(e.op==="=="){if(RE(e.value))return{unaryFilter:{field:Go(e.field),op:"IS_NAN"}};if(xE(e.value))return{unaryFilter:{field:Go(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(RE(e.value))return{unaryFilter:{field:Go(e.field),op:"IS_NOT_NAN"}};if(xE(e.value))return{unaryFilter:{field:Go(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Go(e.field),op:VB(e.op),value:e.value}}}(t):t instanceof be?function(e){const n=e.getFilters().map(r=>bP(r));return n.length===1?n[0]:{compositeFilter:{op:BB(e.op),filters:n}}}(t):z()}function qB(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function TP(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ln(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=HE(e)),e=zB(t.get(n),e);return HE(e)}function zB(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function HE(t){return t+""}function Dr(t){const e=t.length;if(Z(e>=2),e===2)return Z(t.charAt(0)===""&&t.charAt(1)===""),ge.emptyPath();const n=e-2,r=[];let i="";for(let s=0;s<e;){const o=t.indexOf("",s);switch((o<0||o>n)&&z(),t.charAt(o+1)){case"":const a=t.substring(s,o);let u;i.length===0?u=a:(i+=a,u=i,i=""),r.push(u);break;case"":i+=t.substring(s,o),i+="\0";break;case"":i+=t.substring(s,o+1);break;default:z()}s=o+2}return new ge(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WE=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fd(t,e){return[t,ln(e)]}function kP(t,e,n){return[t,ln(e),n]}const HB={},WB=["prefixPath","collectionGroup","readTime","documentId"],KB=["prefixPath","collectionGroup","documentId"],GB=["collectionGroup","readTime","prefixPath","documentId"],QB=["canonicalId","targetId"],YB=["targetId","path"],XB=["path","targetId"],JB=["collectionId","parent"],ZB=["indexId","uid"],e5=["uid","sequenceNumber"],t5=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],n5=["indexId","uid","orderedDocumentKey"],r5=["userId","collectionPath","documentId"],i5=["userId","collectionPath","largestBatchId"],s5=["userId","collectionGroup","largestBatchId"],xP=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],o5=[...xP,"documentOverlays"],RP=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],CP=RP,a5=[...CP,"indexConfiguration","indexState","indexEntries"];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vv extends DC{constructor(e,n){super(),this.se=e,this.currentSequenceNumber=n}}function xt(t,e){const n=B(t);return ur.M(n.se,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ww{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&IB(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=bc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=bc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=dP();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const u=oP(o,a);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(te.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ue())}isEqual(e){return this.batchId===e.batchId&&La(this.mutations,e.mutations,(n,r)=>ME(n,r))&&La(this.baseMutations,e.baseMutations,(n,r)=>ME(n,r))}}class Kw{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Z(e.mutations.length===r.length);let i=xB;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Kw(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{constructor(e,n,r,i,s=te.min(),o=te.min(),a=gt.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(e){return new rs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new rs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new rs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PP{constructor(e){this.ie=e}}function u5(t,e){let n;if(e.document)n=wP(t.ie,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=L.fromSegments(e.noDocument.path),i=Eo(e.noDocument.readTime);n=Oe.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return z();{const r=L.fromSegments(e.unknownDocument.path),i=Eo(e.unknownDocument.version);n=Oe.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime(function(r){const i=new Ve(r[0],r[1]);return te.fromTimestamp(i)}(e.readTime)),n}function KE(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:pf(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(i,s){return{name:ml(i,s.key),fields:s.data.value.mapValue.fields,updateTime:Ba(i,s.version.toTimestamp()),createTime:Ba(i,s.createTime.toTimestamp())}}(t.ie,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:So(e.version)};else{if(!e.isUnknownDocument())return z();r.unknownDocument={path:n.path.toArray(),version:So(e.version)}}return r}function pf(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function So(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Eo(t){const e=new Ve(t.seconds,t.nanoseconds);return te.fromTimestamp(e)}function Ms(t,e){const n=(e.baseMutations||[]).map(s=>yv(t.ie,s));for(let s=0;s<e.mutations.length-1;++s){const o=e.mutations[s];if(s+1<e.mutations.length&&e.mutations[s+1].transform!==void 0){const a=e.mutations[s+1];o.updateTransforms=a.transform.fieldTransforms,e.mutations.splice(s+1,1),++s}}const r=e.mutations.map(s=>yv(t.ie,s)),i=Ve.fromMillis(e.localWriteTimeMs);return new Ww(e.batchId,i,n,r)}function oc(t){const e=Eo(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?Eo(t.lastLimboFreeSnapshotVersion):te.min();let r;var i;return t.query.documents!==void 0?(Z((i=t.query).documents.length===1),r=Tn(vu(yP(i.documents[0])))):r=function(s){return Tn(EP(s))}(t.query),new rs(r,t.targetId,0,t.lastListenSequenceNumber,e,n,gt.fromBase64String(t.resumeToken))}function AP(t,e){const n=So(e.snapshotVersion),r=So(e.lastLimboFreeSnapshotVersion);let i;i=hf(e.target)?_P(t.ie,e.target):SP(t.ie,e.target);const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:vo(e.target),readTime:n,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function Qw(t){const e=EP({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ff(e,e.limit,"L"):e}function Ig(t,e){return new Gw(e.largestBatchId,yv(t.ie,e.overlayMutation))}function GE(t,e){const n=e.path.lastSegment();return[t,ln(e.path.popLast()),n]}function QE(t,e,n,r){return{indexId:t,uid:e.uid||"",sequenceNumber:n,readTime:So(r.readTime),documentKey:ln(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c5{getBundleMetadata(e,n){return YE(e).get(n).next(r=>{if(r)return{id:(i=r).bundleId,createTime:Eo(i.createTime),version:i.version};var i})}saveBundleMetadata(e,n){return YE(e).put({bundleId:(r=n).id,createTime:So(at(r.createTime)),version:r.version});var r}getNamedQuery(e,n){return XE(e).get(n).next(r=>{if(r)return{name:(i=r).name,query:Qw(i.bundledQuery),readTime:Eo(i.readTime)};var i})}saveNamedQuery(e,n){return XE(e).put(function(r){return{name:r.name,readTime:So(at(r.readTime)),bundledQuery:r.bundledQuery}}(n))}}function YE(t){return xt(t,"bundles")}function XE(t){return xt(t,"namedQueries")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up{constructor(e,n){this.yt=e,this.userId=n}static re(e,n){const r=n.uid||"";return new Up(e,r)}getOverlay(e,n){return ju(e).get(GE(this.userId,n)).next(r=>r?Ig(this.yt,r):null)}getOverlays(e,n){const r=Nr();return S.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){const i=[];return r.forEach((s,o)=>{const a=new Gw(n,o);i.push(this.oe(e,a))}),S.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach(o=>i.add(ln(o.getCollectionPath())));const s=[];return i.forEach(o=>{const a=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,r+1],!1,!0);s.push(ju(e).Y("collectionPathOverlayIndex",a))}),S.waitFor(s)}getOverlaysForCollection(e,n,r){const i=Nr(),s=ln(n),o=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return ju(e).W("collectionPathOverlayIndex",o).next(a=>{for(const u of a){const c=Ig(this.yt,u);i.set(c.getKey(),c)}return i})}getOverlaysForCollectionGroup(e,n,r,i){const s=Nr();let o;const a=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return ju(e).Z({index:"collectionGroupOverlayIndex",range:a},(u,c,l)=>{const h=Ig(this.yt,c);s.size()<i||h.largestBatchId===o?(s.set(h.getKey(),h),o=h.largestBatchId):l.done()}).next(()=>s)}oe(e,n){return ju(e).put(function(r,i,s){const[o,a,u]=GE(i,s.mutation.key);return{userId:i,collectionPath:a,documentId:u,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:yl(r.ie,s.mutation)}}(this.yt,this.userId,n))}}function ju(t){return xt(t,"documentOverlays")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(){}ue(e,n){this.ce(e,n),n.ae()}ce(e,n){if("nullValue"in e)this.he(n,5);else if("booleanValue"in e)this.he(n,10),n.le(e.booleanValue?1:0);else if("integerValue"in e)this.he(n,15),n.le(Ze(e.integerValue));else if("doubleValue"in e){const r=Ze(e.doubleValue);isNaN(r)?this.he(n,13):(this.he(n,15),hl(r)?n.le(0):n.le(r))}else if("timestampValue"in e){const r=e.timestampValue;this.he(n,20),typeof r=="string"?n.fe(r):(n.fe(`${r.seconds||""}`),n.le(r.nanos||0))}else if("stringValue"in e)this.de(e.stringValue,n),this._e(n);else if("bytesValue"in e)this.he(n,30),n.we(mo(e.bytesValue)),this._e(n);else if("referenceValue"in e)this.me(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.he(n,45),n.le(r.latitude||0),n.le(r.longitude||0)}else"mapValue"in e?MC(e)?this.he(n,Number.MAX_SAFE_INTEGER):(this.ge(e.mapValue,n),this._e(n)):"arrayValue"in e?(this.ye(e.arrayValue,n),this._e(n)):z()}de(e,n){this.he(n,25),this.pe(e,n)}pe(e,n){n.fe(e)}ge(e,n){const r=e.fields||{};this.he(n,55);for(const i of Object.keys(r))this.de(i,n),this.ce(r[i],n)}ye(e,n){const r=e.values||[];this.he(n,50);for(const i of r)this.ce(i,n)}me(e,n){this.he(n,37),L.fromName(e).path.forEach(r=>{this.he(n,60),this.pe(r,n)})}he(e,n){e.le(n)}_e(e){e.le(2)}}Us.Ie=new Us;function l5(t){if(t===0)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function JE(t){const e=64-function(n){let r=0;for(let i=0;i<8;++i){const s=l5(255&n[i]);if(r+=s,s!==8)break}return r}(t);return Math.ceil(e/8)}class h5{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Te(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ee(r.value),r=n.next();this.Ae()}Re(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.be(r.value),r=n.next();this.Pe()}ve(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ee(r);else if(r<2048)this.Ee(960|r>>>6),this.Ee(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ee(480|r>>>12),this.Ee(128|63&r>>>6),this.Ee(128|63&r);else{const i=n.codePointAt(0);this.Ee(240|i>>>18),this.Ee(128|63&i>>>12),this.Ee(128|63&i>>>6),this.Ee(128|63&i)}}this.Ae()}Ve(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.be(r);else if(r<2048)this.be(960|r>>>6),this.be(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.be(480|r>>>12),this.be(128|63&r>>>6),this.be(128|63&r);else{const i=n.codePointAt(0);this.be(240|i>>>18),this.be(128|63&i>>>12),this.be(128|63&i>>>6),this.be(128|63&i)}}this.Pe()}Se(e){const n=this.De(e),r=JE(n);this.Ce(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}xe(e){const n=this.De(e),r=JE(n);this.Ce(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}Ne(){this.ke(255),this.ke(255)}Oe(){this.Me(255),this.Me(255)}reset(){this.position=0}seed(e){this.Ce(e.length),this.buffer.set(e,this.position),this.position+=e.length}Fe(){return this.buffer.slice(0,this.position)}De(e){const n=function(i){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,i,!1),new Uint8Array(s.buffer)}(e),r=(128&n[0])!=0;n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Ee(e){const n=255&e;n===0?(this.ke(0),this.ke(255)):n===255?(this.ke(255),this.ke(0)):this.ke(n)}be(e){const n=255&e;n===0?(this.Me(0),this.Me(255)):n===255?(this.Me(255),this.Me(0)):this.Me(e)}Ae(){this.ke(0),this.ke(1)}Pe(){this.Me(0),this.Me(1)}ke(e){this.Ce(1),this.buffer[this.position++]=e}Me(e){this.Ce(1),this.buffer[this.position++]=~e}Ce(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class d5{constructor(e){this.$e=e}we(e){this.$e.Te(e)}fe(e){this.$e.ve(e)}le(e){this.$e.Se(e)}ae(){this.$e.Ne()}}class f5{constructor(e){this.$e=e}we(e){this.$e.Re(e)}fe(e){this.$e.Ve(e)}le(e){this.$e.xe(e)}ae(){this.$e.Oe()}}class Vu{constructor(){this.$e=new h5,this.Be=new d5(this.$e),this.Le=new f5(this.$e)}seed(e){this.$e.seed(e)}qe(e){return e===0?this.Be:this.Le}Fe(){return this.$e.Fe()}reset(){this.$e.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(e,n,r,i){this.indexId=e,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}Ue(){const e=this.directionalValue.length,n=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new js(this.indexId,this.documentKey,this.arrayValue,r)}}function Ci(t,e){let n=t.indexId-e.indexId;return n!==0?n:(n=ZE(t.arrayValue,e.arrayValue),n!==0?n:(n=ZE(t.directionalValue,e.directionalValue),n!==0?n:L.comparator(t.documentKey,e.documentKey)))}function ZE(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p5{constructor(e){this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.Ke=e.orderBy,this.Ge=[];for(const n of e.filters){const r=n;r.isInequality()?this.Qe=r:this.Ge.push(r)}}je(e){Z(e.collectionGroup===this.collectionId);const n=cv(e);if(n!==void 0&&!this.We(n))return!1;const r=Ds(e);let i=0,s=0;for(;i<r.length&&this.We(r[i]);++i);if(i===r.length)return!0;if(this.Qe!==void 0){const o=r[i];if(!this.ze(this.Qe,o)||!this.He(this.Ke[s++],o))return!1;++i}for(;i<r.length;++i){const o=r[i];if(s>=this.Ke.length||!this.He(this.Ke[s++],o))return!1}return!0}We(e){for(const n of this.Ge)if(this.ze(n,e))return!0;return!1}ze(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}He(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OP(t){var e,n;if(Z(t instanceof he||t instanceof be),t instanceof he){if(t instanceof KC){const i=((n=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||n===void 0?void 0:n.map(s=>he.create(t.field,"==",s)))||[];return be.create(i,"or")}return t}const r=t.filters.map(i=>OP(i));return be.create(r,t.op)}function m5(t){if(t.getFilters().length===0)return[];const e=Sv(OP(t));return Z(NP(e)),wv(e)||_v(e)?[e]:e.getFilters()}function wv(t){return t instanceof he}function _v(t){return t instanceof be&&jC(t)}function NP(t){return wv(t)||_v(t)||function(e){if(e instanceof be&&dv(e)){for(const n of e.getFilters())if(!wv(n)&&!_v(n))return!1;return!0}return!1}(t)}function Sv(t){if(Z(t instanceof he||t instanceof be),t instanceof he)return t;if(t.filters.length===1)return Sv(t.filters[0]);const e=t.filters.map(r=>Sv(r));let n=be.create(e,t.op);return n=mf(n),NP(n)?n:(Z(n instanceof be),Z(Ua(n)),Z(n.filters.length>1),n.filters.reduce((r,i)=>Yw(r,i)))}function Yw(t,e){let n;return Z(t instanceof he||t instanceof be),Z(e instanceof he||e instanceof be),n=t instanceof he?e instanceof he?function(r,i){return be.create([r,i],"and")}(t,e):eI(t,e):e instanceof he?eI(e,t):function(r,i){if(Z(r.filters.length>0&&i.filters.length>0),Ua(r)&&Ua(i))return zC(r,i.getFilters());const s=dv(r)?r:i,o=dv(r)?i:r,a=s.filters.map(u=>Yw(u,o));return be.create(a,"or")}(t,e),mf(n)}function eI(t,e){if(Ua(e))return zC(e,t.getFilters());{const n=e.filters.map(r=>Yw(t,r));return be.create(n,"or")}}function mf(t){if(Z(t instanceof he||t instanceof be),t instanceof he)return t;const e=t.getFilters();if(e.length===1)return mf(e[0]);if(VC(t))return t;const n=e.map(i=>mf(i)),r=[];return n.forEach(i=>{i instanceof he?r.push(i):i instanceof be&&(i.op===t.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:be.create(r,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g5{constructor(){this.Je=new Xw}addToCollectionParentIndex(e,n){return this.Je.add(n),S.resolve()}getCollectionParents(e,n){return S.resolve(this.Je.getEntries(n))}addFieldIndex(e,n){return S.resolve()}deleteFieldIndex(e,n){return S.resolve()}getDocumentsMatchingTarget(e,n){return S.resolve(null)}getIndexType(e,n){return S.resolve(0)}getFieldIndexes(e,n){return S.resolve([])}getNextCollectionGroupToUpdate(e){return S.resolve(null)}getMinOffset(e,n){return S.resolve(jn.min())}getMinOffsetFromCollectionGroup(e,n){return S.resolve(jn.min())}updateCollectionGroup(e,n,r){return S.resolve()}updateIndexEntries(e,n){return S.resolve()}}class Xw{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new xe(ge.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new xe(ge.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bh=new Uint8Array(0);class y5{constructor(e,n){this.user=e,this.databaseId=n,this.Ye=new Xw,this.Xe=new xs(r=>vo(r),(r,i)=>Xl(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.Ye.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener(()=>{this.Ye.add(n)});const s={collectionId:r,parent:ln(i)};return tI(e).put(s)}return S.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[CC(n),""],!1,!0);return tI(e).W(i).next(s=>{for(const o of s){if(o.collectionId!==n)break;r.push(Dr(o.parent))}return r})}addFieldIndex(e,n){const r=qh(e),i=function(o){return{indexId:o.indexId,collectionGroup:o.collectionGroup,fields:o.fields.map(a=>[a.fieldPath.canonicalString(),a.kind])}}(n);delete i.indexId;const s=r.add(i);if(n.indexState){const o=qu(e);return s.next(a=>{o.put(QE(a,this.user,n.indexState.sequenceNumber,n.indexState.offset))})}return s.next()}deleteFieldIndex(e,n){const r=qh(e),i=qu(e),s=Bu(e);return r.delete(n.indexId).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,n){const r=Bu(e);let i=!0;const s=new Map;return S.forEach(this.Ze(n),o=>this.tn(e,o).next(a=>{i&&(i=!!a),s.set(o,a)})).next(()=>{if(i){let o=ue();const a=[];return S.forEach(s,(u,c)=>{var l;O("IndexedDbIndexManager",`Using index ${l=u,`id=${l.indexId}|cg=${l.collectionGroup}|f=${l.fields.map(v=>`${v.fieldPath}:${v.kind}`).join(",")}`} to execute ${vo(n)}`);const h=function(v,_){const k=cv(_);if(k===void 0)return null;for(const x of df(v,k.fieldPath))switch(x.op){case"array-contains-any":return x.value.arrayValue.values||[];case"array-contains":return[x.value]}return null}(c,u),d=function(v,_){const k=new Map;for(const x of Ds(_))for(const R of df(v,x.fieldPath))switch(R.op){case"==":case"in":k.set(x.fieldPath.canonicalString(),R.value);break;case"not-in":case"!=":return k.set(x.fieldPath.canonicalString(),R.value),Array.from(k.values())}return null}(c,u),f=function(v,_){const k=[];let x=!0;for(const R of Ds(_)){const U=R.kind===0?DE(v,R.fieldPath,v.startAt):FE(v,R.fieldPath,v.startAt);k.push(U.value),x&&(x=U.inclusive)}return new fs(k,x)}(c,u),p=function(v,_){const k=[];let x=!0;for(const R of Ds(_)){const U=R.kind===0?FE(v,R.fieldPath,v.endAt):DE(v,R.fieldPath,v.endAt);k.push(U.value),x&&(x=U.inclusive)}return new fs(k,x)}(c,u),m=this.en(u,c,f),w=this.en(u,c,p),y=this.nn(u,c,d),g=this.sn(u.indexId,h,m,f.inclusive,w,p.inclusive,y);return S.forEach(g,v=>r.J(v,n.limit).next(_=>{_.forEach(k=>{const x=L.fromSegments(k.documentKey);o.has(x)||(o=o.add(x),a.push(x))})}))}).next(()=>a)}return S.resolve(null)})}Ze(e){let n=this.Xe.get(e);return n||(e.filters.length===0?n=[e]:n=m5(be.create(e.filters,"and")).map(r=>fv(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.Xe.set(e,n),n)}sn(e,n,r,i,s,o,a){const u=(n!=null?n.length:1)*Math.max(r.length,s.length),c=u/(n!=null?n.length:1),l=[];for(let h=0;h<u;++h){const d=n?this.rn(n[h/c]):Bh,f=this.on(e,d,r[h%c],i),p=this.un(e,d,s[h%c],o),m=a.map(w=>this.on(e,d,w,!0));l.push(...this.createRange(f,p,m))}return l}on(e,n,r,i){const s=new js(e,L.empty(),n,r);return i?s:s.Ue()}un(e,n,r,i){const s=new js(e,L.empty(),n,r);return i?s.Ue():s}tn(e,n){const r=new p5(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next(s=>{let o=null;for(const a of s)r.je(a)&&(!o||a.fields.length>o.fields.length)&&(o=a);return o})}getIndexType(e,n){let r=2;const i=this.Ze(n);return S.forEach(i,s=>this.tn(e,s).next(o=>{o?r!==0&&o.fields.length<function(a){let u=new xe(ot.comparator),c=!1;for(const l of a.filters)for(const h of l.getFlattenedFilters())h.field.isKeyField()||(h.op==="array-contains"||h.op==="array-contains-any"?c=!0:u=u.add(h.field));for(const l of a.orderBy)l.field.isKeyField()||(u=u.add(l.field));return u.size+(c?1:0)}(s)&&(r=1):r=0})).next(()=>function(s){return s.limit!==null}(n)&&i.length>1&&r===2?1:r)}cn(e,n){const r=new Vu;for(const i of Ds(e)){const s=n.data.field(i.fieldPath);if(s==null)return null;const o=r.qe(i.kind);Us.Ie.ue(s,o)}return r.Fe()}rn(e){const n=new Vu;return Us.Ie.ue(e,n.qe(0)),n.Fe()}an(e,n){const r=new Vu;return Us.Ie.ue(yo(this.databaseId,n),r.qe(function(i){const s=Ds(i);return s.length===0?0:s[s.length-1].kind}(e))),r.Fe()}nn(e,n,r){if(r===null)return[];let i=[];i.push(new Vu);let s=0;for(const o of Ds(e)){const a=r[s++];for(const u of i)if(this.hn(n,o.fieldPath)&&pl(a))i=this.ln(i,o,a);else{const c=u.qe(o.kind);Us.Ie.ue(a,c)}}return this.fn(i)}en(e,n,r){return this.nn(e,n,r.position)}fn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].Fe();return n}ln(e,n,r){const i=[...e],s=[];for(const o of r.arrayValue.values||[])for(const a of i){const u=new Vu;u.seed(a.Fe()),Us.Ie.ue(o,u.qe(n.kind)),s.push(u)}return s}hn(e,n){return!!e.filters.find(r=>r instanceof he&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,n){const r=qh(e),i=qu(e);return(n?r.W("collectionGroupIndex",IDBKeyRange.bound(n,n)):r.W()).next(s=>{const o=[];return S.forEach(s,a=>i.get([a.indexId,this.uid]).next(u=>{o.push(function(c,l){const h=l?new lf(l.sequenceNumber,new jn(Eo(l.readTime),new L(Dr(l.documentKey)),l.largestBatchId)):lf.empty(),d=c.fields.map(([f,p])=>new eB(ot.fromServerFormat(f),p));return new PC(c.indexId,c.collectionGroup,d,h)}(a,u))})).next(()=>o)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>n.length===0?null:(n.sort((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return s!==0?s:ae(r.collectionGroup,i.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){const i=qh(e),s=qu(e);return this.dn(e).next(o=>i.W("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(a=>S.forEach(a,u=>s.put(QE(u.indexId,this.user,o,r)))))}updateIndexEntries(e,n){const r=new Map;return S.forEach(n,(i,s)=>{const o=r.get(i.collectionGroup);return(o?S.resolve(o):this.getFieldIndexes(e,i.collectionGroup)).next(a=>(r.set(i.collectionGroup,a),S.forEach(a,u=>this._n(e,i,u).next(c=>{const l=this.wn(s,u);return c.isEqual(l)?S.resolve():this.mn(e,s,u,c,l)}))))})}gn(e,n,r,i){return Bu(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.an(r,n.key),documentKey:n.key.path.toArray()})}yn(e,n,r,i){return Bu(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.an(r,n.key),n.key.path.toArray()])}_n(e,n,r){const i=Bu(e);let s=new xe(Ci);return i.Z({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.an(r,n)])},(o,a)=>{s=s.add(new js(r.indexId,n,a.arrayValue,a.directionalValue))}).next(()=>s)}wn(e,n){let r=new xe(Ci);const i=this.cn(n,e);if(i==null)return r;const s=cv(n);if(s!=null){const o=e.data.field(s.fieldPath);if(pl(o))for(const a of o.arrayValue.values||[])r=r.add(new js(n.indexId,e.key,this.rn(a),i))}else r=r.add(new js(n.indexId,e.key,Bh,i));return r}mn(e,n,r,i,s){O("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const o=[];return function(a,u,c,l,h){const d=a.getIterator(),f=u.getIterator();let p=jo(d),m=jo(f);for(;p||m;){let w=!1,y=!1;if(p&&m){const g=c(p,m);g<0?y=!0:g>0&&(w=!0)}else p!=null?y=!0:w=!0;w?(l(m),m=jo(f)):y?(h(p),p=jo(d)):(p=jo(d),m=jo(f))}}(i,s,Ci,a=>{o.push(this.gn(e,n,r,a))},a=>{o.push(this.yn(e,n,r,a))}),S.waitFor(o)}dn(e){let n=1;return qu(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,s)=>{s.done(),n=i.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((o,a)=>Ci(o,a)).filter((o,a,u)=>!a||Ci(o,u[a-1])!==0);const i=[];i.push(e);for(const o of r){const a=Ci(o,e),u=Ci(o,n);if(a===0)i[0]=e.Ue();else if(a>0&&u<0)i.push(o),i.push(o.Ue());else if(u>0)break}i.push(n);const s=[];for(let o=0;o<i.length;o+=2){if(this.pn(i[o],i[o+1]))return[];const a=[i[o].indexId,this.uid,i[o].arrayValue,i[o].directionalValue,Bh,[]],u=[i[o+1].indexId,this.uid,i[o+1].arrayValue,i[o+1].directionalValue,Bh,[]];s.push(IDBKeyRange.bound(a,u))}return s}pn(e,n){return Ci(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(nI)}getMinOffset(e,n){return S.mapArray(this.Ze(n),r=>this.tn(e,r).next(i=>i||z())).next(nI)}}function tI(t){return xt(t,"collectionParents")}function Bu(t){return xt(t,"indexEntries")}function qh(t){return xt(t,"indexConfiguration")}function qu(t){return xt(t,"indexState")}function nI(t){Z(t.length!==0);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;Mw(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new jn(e.readTime,e.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rI={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class gn{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new gn(e,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DP(t,e,n){const r=t.store("mutations"),i=t.store("documentMutations"),s=[],o=IDBKeyRange.only(n.batchId);let a=0;const u=r.Z({range:o},(l,h,d)=>(a++,d.delete()));s.push(u.next(()=>{Z(a===1)}));const c=[];for(const l of n.mutations){const h=kP(e,l.key.path,n.batchId);s.push(i.delete(h)),c.push(l.key)}return S.waitFor(s).next(()=>c)}function gf(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw z();e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gn.DEFAULT_COLLECTION_PERCENTILE=10,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,gn.DEFAULT=new gn(41943040,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),gn.DISABLED=new gn(-1,0,0);class jp{constructor(e,n,r,i){this.userId=e,this.yt=n,this.indexManager=r,this.referenceDelegate=i,this.In={}}static re(e,n,r,i){Z(e.uid!=="");const s=e.isAuthenticated()?e.uid:"";return new jp(s,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Pi(e).Z({index:"userMutationsIndex",range:r},(i,s,o)=>{n=!1,o.done()}).next(()=>n)}addMutationBatch(e,n,r,i){const s=Yo(e),o=Pi(e);return o.add({}).next(a=>{Z(typeof a=="number");const u=new Ww(a,n,r,i),c=function(d,f,p){const m=p.baseMutations.map(y=>yl(d.ie,y)),w=p.mutations.map(y=>yl(d.ie,y));return{userId:f,batchId:p.batchId,localWriteTimeMs:p.localWriteTime.toMillis(),baseMutations:m,mutations:w}}(this.yt,this.userId,u),l=[];let h=new xe((d,f)=>ae(d.canonicalString(),f.canonicalString()));for(const d of i){const f=kP(this.userId,d.key.path,a);h=h.add(d.key.path.popLast()),l.push(o.put(c)),l.push(s.put(f,HB))}return h.forEach(d=>{l.push(this.indexManager.addToCollectionParentIndex(e,d))}),e.addOnCommittedListener(()=>{this.In[a]=u.keys()}),S.waitFor(l).next(()=>u)})}lookupMutationBatch(e,n){return Pi(e).get(n).next(r=>r?(Z(r.userId===this.userId),Ms(this.yt,r)):null)}Tn(e,n){return this.In[n]?S.resolve(this.In[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){const i=r.keys();return this.In[n]=i,i}return null})}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return Pi(e).Z({index:"userMutationsIndex",range:i},(o,a,u)=>{a.userId===this.userId&&(Z(a.batchId>=r),s=Ms(this.yt,a)),u.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Pi(e).Z({index:"userMutationsIndex",range:n,reverse:!0},(i,s,o)=>{r=s.batchId,o.done()}).next(()=>r)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Pi(e).W("userMutationsIndex",n).next(r=>r.map(i=>Ms(this.yt,i)))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=fd(this.userId,n.path),i=IDBKeyRange.lowerBound(r),s=[];return Yo(e).Z({range:i},(o,a,u)=>{const[c,l,h]=o,d=Dr(l);if(c===this.userId&&n.path.isEqual(d))return Pi(e).get(h).next(f=>{if(!f)throw z();Z(f.userId===this.userId),s.push(Ms(this.yt,f))});u.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new xe(ae);const i=[];return n.forEach(s=>{const o=fd(this.userId,s.path),a=IDBKeyRange.lowerBound(o),u=Yo(e).Z({range:a},(c,l,h)=>{const[d,f,p]=c,m=Dr(f);d===this.userId&&s.path.isEqual(m)?r=r.add(p):h.done()});i.push(u)}),S.waitFor(i).next(()=>this.En(e,r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,s=fd(this.userId,r),o=IDBKeyRange.lowerBound(s);let a=new xe(ae);return Yo(e).Z({range:o},(u,c,l)=>{const[h,d,f]=u,p=Dr(d);h===this.userId&&r.isPrefixOf(p)?p.length===i&&(a=a.add(f)):l.done()}).next(()=>this.En(e,a))}En(e,n){const r=[],i=[];return n.forEach(s=>{i.push(Pi(e).get(s).next(o=>{if(o===null)throw z();Z(o.userId===this.userId),r.push(Ms(this.yt,o))}))}),S.waitFor(i).next(()=>r)}removeMutationBatch(e,n){return DP(e.se,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.An(n.batchId)}),S.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return S.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return Yo(e).Z({range:r},(s,o,a)=>{if(s[0]===this.userId){const u=Dr(s[1]);i.push(u)}else a.done()}).next(()=>{Z(i.length===0)})})}containsKey(e,n){return FP(e,this.userId,n)}Rn(e){return $P(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function FP(t,e,n){const r=fd(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return Yo(t).Z({range:s,X:!0},(a,u,c)=>{const[l,h,d]=a;l===e&&h===i&&(o=!0),c.done()}).next(()=>o)}function Pi(t){return xt(t,"mutations")}function Yo(t){return xt(t,"documentMutations")}function $P(t){return xt(t,"mutationQueues")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new Io(0)}static vn(){return new Io(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v5{constructor(e,n){this.referenceDelegate=e,this.yt=n}allocateTargetId(e){return this.Vn(e).next(n=>{const r=new Io(n.highestTargetId);return n.highestTargetId=r.next(),this.Sn(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(n=>te.fromTimestamp(new Ve(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.Vn(e).next(i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.Sn(e,i)))}addTargetData(e,n){return this.Dn(e,n).next(()=>this.Vn(e).next(r=>(r.targetCount+=1,this.Cn(n,r),this.Sn(e,r))))}updateTargetData(e,n){return this.Dn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>Vo(e).delete(n.targetId)).next(()=>this.Vn(e)).next(r=>(Z(r.targetCount>0),r.targetCount-=1,this.Sn(e,r)))}removeTargets(e,n,r){let i=0;const s=[];return Vo(e).Z((o,a)=>{const u=oc(a);u.sequenceNumber<=n&&r.get(u.targetId)===null&&(i++,s.push(this.removeTargetData(e,u)))}).next(()=>S.waitFor(s)).next(()=>i)}forEachTarget(e,n){return Vo(e).Z((r,i)=>{const s=oc(i);n(s)})}Vn(e){return iI(e).get("targetGlobalKey").next(n=>(Z(n!==null),n))}Sn(e,n){return iI(e).put("targetGlobalKey",n)}Dn(e,n){return Vo(e).put(AP(this.yt,n))}Cn(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Vn(e).next(n=>n.targetCount)}getTargetData(e,n){const r=vo(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return Vo(e).Z({range:i,index:"queryTargetsIndex"},(o,a,u)=>{const c=oc(a);Xl(n,c.target)&&(s=c,u.done())}).next(()=>s)}addMatchingKeys(e,n,r){const i=[],s=Ui(e);return n.forEach(o=>{const a=ln(o.path);i.push(s.put({targetId:r,path:a})),i.push(this.referenceDelegate.addReference(e,r,o))}),S.waitFor(i)}removeMatchingKeys(e,n,r){const i=Ui(e);return S.forEach(n,s=>{const o=ln(s.path);return S.waitFor([i.delete([r,o]),this.referenceDelegate.removeReference(e,r,s)])})}removeMatchingKeysForTargetId(e,n){const r=Ui(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=Ui(e);let s=ue();return i.Z({range:r,X:!0},(o,a,u)=>{const c=Dr(o[1]),l=new L(c);s=s.add(l)}).next(()=>s)}containsKey(e,n){const r=ln(n.path),i=IDBKeyRange.bound([r],[CC(r)],!1,!0);let s=0;return Ui(e).Z({index:"documentTargetsIndex",X:!0,range:i},([o,a],u,c)=>{o!==0&&(s++,c.done())}).next(()=>s>0)}ne(e,n){return Vo(e).get(n).next(r=>r?oc(r):null)}}function Vo(t){return xt(t,"targets")}function iI(t){return xt(t,"targetGlobal")}function Ui(t){return xt(t,"targetDocuments")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sI([t,e],[n,r]){const i=ae(t,n);return i===0?ae(e,r):i}class w5{constructor(e){this.xn=e,this.buffer=new xe(sI),this.Nn=0}kn(){return++this.Nn}On(e){const n=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();sI(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class _5{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Mn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return this.Mn!==null}Fn(e){O("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Mn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ks(n)?O("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await Ts(n)}await this.Fn(3e5)})}}class S5{constructor(e,n){this.$n=e,this.params=n}calculateTargetCount(e,n){return this.$n.Bn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return S.resolve(wn.at);const r=new w5(n);return this.$n.forEachTarget(e,i=>r.On(i.sequenceNumber)).next(()=>this.$n.Ln(e,i=>r.On(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.$n.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.$n.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(O("LruGarbageCollector","Garbage collection skipped; disabled"),S.resolve(rI)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(O("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),rI):this.qn(e,n))}getCacheSize(e){return this.$n.getCacheSize(e)}qn(e,n){let r,i,s,o,a,u,c;const l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(O("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),i=this.params.maximumSequenceNumbersToCollect):i=h,o=Date.now(),this.nthSequenceNumber(e,i))).next(h=>(r=h,a=Date.now(),this.removeTargets(e,r,n))).next(h=>(s=h,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(h=>(c=Date.now(),uv()<=ye.DEBUG&&O("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-l}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(u-a)+`ms
	Removed ${h} documents in `+(c-u)+`ms
Total Duration: ${c-l}ms`),S.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:h})))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E5{constructor(e,n){this.db=e,this.garbageCollector=function(r,i){return new S5(r,i)}(this,n)}Bn(e){const n=this.Un(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}Un(e){let n=0;return this.Ln(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Ln(e,n){return this.Kn(e,(r,i)=>n(i))}addReference(e,n,r){return zh(e,r)}removeReference(e,n,r){return zh(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return zh(e,n)}Gn(e,n){return function(r,i){let s=!1;return $P(r).tt(o=>FP(r,o,i).next(a=>(a&&(s=!0),S.resolve(!a)))).next(()=>s)}(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.Kn(e,(o,a)=>{if(a<=n){const u=this.Gn(e,o).next(c=>{if(!c)return s++,r.getEntry(e,o).next(()=>(r.removeEntry(o,te.min()),Ui(e).delete([0,ln(o.path)])))});i.push(u)}}).next(()=>S.waitFor(i)).next(()=>r.apply(e)).next(()=>s)}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return zh(e,n)}Kn(e,n){const r=Ui(e);let i,s=wn.at;return r.Z({index:"documentTargetsIndex"},([o,a],{path:u,sequenceNumber:c})=>{o===0?(s!==wn.at&&n(new L(Dr(i)),s),s=c,i=u):s=wn.at}).next(()=>{s!==wn.at&&n(new L(Dr(i)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function zh(t,e){return Ui(t).put(function(n,r){return{targetId:0,path:ln(n.path),sequenceNumber:r}}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LP{constructor(){this.changes=new xs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Oe.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?S.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I5{constructor(e){this.yt=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return Ps(e).put(r)}removeEntry(e,n,r){return Ps(e).delete(function(i,s){const o=i.path.toArray();return[o.slice(0,o.length-2),o[o.length-2],pf(s),o[o.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.Qn(e,r)))}getEntry(e,n){let r=Oe.newInvalidDocument(n);return Ps(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(zu(n))},(i,s)=>{r=this.jn(n,s)}).next(()=>r)}Wn(e,n){let r={size:0,document:Oe.newInvalidDocument(n)};return Ps(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(zu(n))},(i,s)=>{r={document:this.jn(n,s),size:gf(s)}}).next(()=>r)}getEntries(e,n){let r=_n();return this.zn(e,n,(i,s)=>{const o=this.jn(i,s);r=r.insert(i,o)}).next(()=>r)}Hn(e,n){let r=_n(),i=new tt(L.comparator);return this.zn(e,n,(s,o)=>{const a=this.jn(s,o);r=r.insert(s,a),i=i.insert(s,gf(o))}).next(()=>({documents:r,Jn:i}))}zn(e,n,r){if(n.isEmpty())return S.resolve();let i=new xe(uI);n.forEach(u=>i=i.add(u));const s=IDBKeyRange.bound(zu(i.first()),zu(i.last())),o=i.getIterator();let a=o.getNext();return Ps(e).Z({index:"documentKeyIndex",range:s},(u,c,l)=>{const h=L.fromSegments([...c.prefixPath,c.collectionGroup,c.documentId]);for(;a&&uI(a,h)<0;)r(a,null),a=o.getNext();a&&a.isEqual(h)&&(r(a,c),a=o.hasNext()?o.getNext():null),a?l.j(zu(a)):l.done()}).next(()=>{for(;a;)r(a,null),a=o.hasNext()?o.getNext():null})}getAllFromCollection(e,n,r){const i=[n.popLast().toArray(),n.lastSegment(),pf(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],s=[n.popLast().toArray(),n.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Ps(e).W(IDBKeyRange.bound(i,s,!0)).next(o=>{let a=_n();for(const u of o){const c=this.jn(L.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);a=a.insert(c.key,c)}return a})}getAllFromCollectionGroup(e,n,r,i){let s=_n();const o=aI(n,r),a=aI(n,jn.max());return Ps(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,a,!0)},(u,c,l)=>{const h=this.jn(L.fromSegments(c.prefixPath.concat(c.collectionGroup,c.documentId)),c);s=s.insert(h.key,h),s.size===i&&l.done()}).next(()=>s)}newChangeBuffer(e){return new b5(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return oI(e).get("remoteDocumentGlobalKey").next(n=>(Z(!!n),n))}Qn(e,n){return oI(e).put("remoteDocumentGlobalKey",n)}jn(e,n){if(n){const r=u5(this.yt,n);if(!(r.isNoDocument()&&r.version.isEqual(te.min())))return r}return Oe.newInvalidDocument(e)}}function MP(t){return new I5(t)}class b5 extends LP{constructor(e,n){super(),this.Yn=e,this.trackRemovals=n,this.Xn=new xs(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const n=[];let r=0,i=new xe((s,o)=>ae(s.canonicalString(),o.canonicalString()));return this.changes.forEach((s,o)=>{const a=this.Xn.get(s);if(n.push(this.Yn.removeEntry(e,s,a.readTime)),o.isValidDocument()){const u=KE(this.Yn.yt,o);i=i.add(s.path.popLast());const c=gf(u);r+=c-a.size,n.push(this.Yn.addEntry(e,s,u))}else if(r-=a.size,this.trackRemovals){const u=KE(this.Yn.yt,o.convertToNoDocument(te.min()));n.push(this.Yn.addEntry(e,s,u))}}),i.forEach(s=>{n.push(this.Yn.indexManager.addToCollectionParentIndex(e,s))}),n.push(this.Yn.updateMetadata(e,r)),S.waitFor(n)}getFromCache(e,n){return this.Yn.Wn(e,n).next(r=>(this.Xn.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this.Yn.Hn(e,n).next(({documents:r,Jn:i})=>(i.forEach((s,o)=>{this.Xn.set(s,{size:o,readTime:r.get(s).readTime})}),r))}}function oI(t){return xt(t,"remoteDocumentGlobal")}function Ps(t){return xt(t,"remoteDocumentsV14")}function zu(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function aI(t,e){const n=e.documentKey.path.toArray();return[t,pf(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function uI(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=ae(n[s],r[s]),i)return i;return i=ae(n.length,r.length),i||(i=ae(n[n.length-2],r[r.length-2]),i||ae(n[n.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T5{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UP{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&bc(r.mutation,i,$n.empty(),Ve.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ue()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ue()){const i=Nr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=sc();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Nr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ue()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=_n();const o=Tc(),a=Tc();return n.forEach((u,c)=>{const l=r.get(c.key);i.has(c.key)&&(l===void 0||l.mutation instanceof bi)?s=s.insert(c.key,c):l!==void 0&&(o.set(c.key,l.mutation.getFieldMask()),bc(l.mutation,c,l.mutation.getFieldMask(),Ve.now()))}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((c,l)=>o.set(c,l)),n.forEach((c,l)=>{var h;return a.set(c,new T5(l,(h=o.get(c))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Tc();let i=new tt((o,a)=>o-a),s=ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const c=n.get(u);if(c===null)return;let l=r.get(u)||$n.empty();l=a.applyToLocalView(c,l),r.set(u,l);const h=(i.get(a.batchId)||ue()).add(u);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,l=u.value,h=dP();l.forEach(d=>{if(!s.has(d)){const f=oP(n.get(d),r.get(d));f!==null&&h.set(d,f),s=s.add(d)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,h))}return S.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(i){return L.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Bw(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):S.resolve(Nr());let a=-1,u=s;return o.next(c=>S.forEach(c,(l,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(l)?S.resolve():this.remoteDocumentCache.getEntry(e,l).next(d=>{u=u.insert(l,d)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,u,c,ue())).next(l=>({batchId:a,changes:hP(l)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new L(n)).next(r=>{let i=sc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=sc();return this.indexManager.getCollectionParents(e,i).next(o=>S.forEach(o,a=>{const u=function(c,l){return new Ii(l,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt)}(n,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,u,r).next(c=>{c.forEach((l,h)=>{s=s.insert(l,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.remoteDocumentCache.getAllFromCollection(e,n.path,r).next(s=>(i=s,this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId))).next(s=>{s.forEach((a,u)=>{const c=u.getKey();i.get(c)===null&&(i=i.insert(c,Oe.newInvalidDocument(c)))});let o=sc();return i.forEach((a,u)=>{const c=s.get(a);c!==void 0&&bc(c.mutation,u,$n.empty(),Ve.now()),qw(n,u)&&(o=o.insert(a,u))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k5{constructor(e){this.yt=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,n){return S.resolve(this.Zn.get(n))}saveBundleMetadata(e,n){var r;return this.Zn.set(n.id,{id:(r=n).id,version:r.version,createTime:at(r.createTime)}),S.resolve()}getNamedQuery(e,n){return S.resolve(this.ts.get(n))}saveNamedQuery(e,n){return this.ts.set(n.name,function(r){return{name:r.name,query:Qw(r.bundledQuery),readTime:at(r.readTime)}}(n)),S.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x5{constructor(){this.overlays=new tt(L.comparator),this.es=new Map}getOverlay(e,n){return S.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Nr();return S.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.oe(e,n,s)}),S.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.es.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.es.delete(r)),S.resolve()}getOverlaysForCollection(e,n,r){const i=Nr(),s=n.length+1,o=new L(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return S.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new tt((c,l)=>c-l);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let l=s.get(c.largestBatchId);l===null&&(l=Nr(),s=s.insert(c.largestBatchId,l)),l.set(c.getKey(),c)}}const a=Nr(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,l)=>a.set(c,l)),!(a.size()>=i)););return S.resolve(a)}oe(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.es.get(i.largestBatchId).delete(r.key);this.es.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Gw(n,r));let s=this.es.get(n);s===void 0&&(s=ue(),this.es.set(n,s)),this.es.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jw{constructor(){this.ns=new xe(wt.ss),this.rs=new xe(wt.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,n){const r=new wt(e,n);this.ns=this.ns.add(r),this.rs=this.rs.add(r)}us(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.cs(new wt(e,n))}hs(e,n){e.forEach(r=>this.removeReference(r,n))}ls(e){const n=new L(new ge([])),r=new wt(n,e),i=new wt(n,e+1),s=[];return this.rs.forEachInRange([r,i],o=>{this.cs(o),s.push(o.key)}),s}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const n=new L(new ge([])),r=new wt(n,e),i=new wt(n,e+1);let s=ue();return this.rs.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new wt(e,0),r=this.ns.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class wt{constructor(e,n){this.key=e,this._s=n}static ss(e,n){return L.comparator(e.key,n.key)||ae(e._s,n._s)}static os(e,n){return ae(e._s,n._s)||L.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R5{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this.gs=new xe(wt.ss)}checkEmpty(e){return S.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Ww(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.gs=this.gs.add(new wt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return S.resolve(o)}lookupMutationBatch(e,n){return S.resolve(this.ys(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ps(r),s=i<0?0:i;return S.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return S.resolve(this.mutationQueue.length===0?-1:this.ws-1)}getAllMutationBatches(e){return S.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new wt(n,0),i=new wt(n,Number.POSITIVE_INFINITY),s=[];return this.gs.forEachInRange([r,i],o=>{const a=this.ys(o._s);s.push(a)}),S.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new xe(ae);return n.forEach(i=>{const s=new wt(i,0),o=new wt(i,Number.POSITIVE_INFINITY);this.gs.forEachInRange([s,o],a=>{r=r.add(a._s)})}),S.resolve(this.Is(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;L.isDocumentKey(s)||(s=s.child(""));const o=new wt(new L(s),0);let a=new xe(ae);return this.gs.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u._s)),!0)},o),S.resolve(this.Is(a))}Is(e){const n=[];return e.forEach(r=>{const i=this.ys(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Z(this.Ts(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.gs;return S.forEach(n.mutations,i=>{const s=new wt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.gs=r})}An(e){}containsKey(e,n){const r=new wt(n,0),i=this.gs.firstAfterOrEqual(r);return S.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,S.resolve()}Ts(e,n){return this.ps(e)}ps(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ys(e){const n=this.ps(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C5{constructor(e){this.Es=e,this.docs=new tt(L.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Es(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return S.resolve(r?r.document.mutableCopy():Oe.newInvalidDocument(n))}getEntries(e,n){let r=_n();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Oe.newInvalidDocument(i))}),S.resolve(r)}getAllFromCollection(e,n,r){let i=_n();const s=new L(n.child("")),o=this.docs.getIteratorFrom(s);for(;o.hasNext();){const{key:a,value:{document:u}}=o.getNext();if(!n.isPrefixOf(a.path))break;a.path.length>n.length+1||Mw(OC(u),r)<=0||(i=i.insert(u.key,u.mutableCopy()))}return S.resolve(i)}getAllFromCollectionGroup(e,n,r,i){z()}As(e,n){return S.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new P5(this)}getSize(e){return S.resolve(this.size)}}class P5 extends LP{constructor(e){super(),this.Yn=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Yn.addEntry(e,i)):this.Yn.removeEntry(r)}),S.waitFor(n)}getFromCache(e,n){return this.Yn.getEntry(e,n)}getAllFromCache(e,n){return this.Yn.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A5{constructor(e){this.persistence=e,this.Rs=new xs(n=>vo(n),Xl),this.lastRemoteSnapshotVersion=te.min(),this.highestTargetId=0,this.bs=0,this.Ps=new Jw,this.targetCount=0,this.vs=Io.Pn()}forEachTarget(e,n){return this.Rs.forEach((r,i)=>n(i)),S.resolve()}getLastRemoteSnapshotVersion(e){return S.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return S.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),S.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.bs&&(this.bs=n),S.resolve()}Dn(e){this.Rs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.vs=new Io(n),this.highestTargetId=n),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,n){return this.Dn(n),this.targetCount+=1,S.resolve()}updateTargetData(e,n){return this.Dn(n),S.resolve()}removeTargetData(e,n){return this.Rs.delete(n.target),this.Ps.ls(n.targetId),this.targetCount-=1,S.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Rs.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Rs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),S.waitFor(s).next(()=>i)}getTargetCount(e){return S.resolve(this.targetCount)}getTargetData(e,n){const r=this.Rs.get(n)||null;return S.resolve(r)}addMatchingKeys(e,n,r){return this.Ps.us(n,r),S.resolve()}removeMatchingKeys(e,n,r){this.Ps.hs(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),S.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Ps.ls(n),S.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Ps.ds(n);return S.resolve(r)}containsKey(e,n){return S.resolve(this.Ps.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jP{constructor(e,n){this.Vs={},this.overlays={},this.Ss=new wn(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new A5(this),this.indexManager=new g5,this.remoteDocumentCache=function(r){return new C5(r)}(r=>this.referenceDelegate.xs(r)),this.yt=new PP(n),this.Ns=new k5(this.yt)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new x5,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Vs[e.toKey()];return r||(r=new R5(n,this.referenceDelegate),this.Vs[e.toKey()]=r),r}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,n,r){O("MemoryPersistence","Starting transaction:",e);const i=new O5(this.Ss.next());return this.referenceDelegate.ks(),r(i).next(s=>this.referenceDelegate.Os(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ms(e,n){return S.or(Object.values(this.Vs).map(r=>()=>r.containsKey(e,n)))}}class O5 extends DC{constructor(e){super(),this.currentSequenceNumber=e}}class Vp{constructor(e){this.persistence=e,this.Fs=new Jw,this.$s=null}static Bs(e){return new Vp(e)}get Ls(){if(this.$s)return this.$s;throw z()}addReference(e,n,r){return this.Fs.addReference(r,n),this.Ls.delete(r.toString()),S.resolve()}removeReference(e,n,r){return this.Fs.removeReference(r,n),this.Ls.add(r.toString()),S.resolve()}markPotentiallyOrphaned(e,n){return this.Ls.add(n.toString()),S.resolve()}removeTarget(e,n){this.Fs.ls(n.targetId).forEach(i=>this.Ls.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Ls.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}ks(){this.$s=new Set}Os(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return S.forEach(this.Ls,r=>{const i=L.fromPath(r);return this.qs(e,i).next(s=>{s||n.removeEntry(i,te.min())})}).next(()=>(this.$s=null,n.apply(e)))}updateLimboDocument(e,n){return this.qs(e,n).next(r=>{r?this.Ls.delete(n.toString()):this.Ls.add(n.toString())})}xs(e){return 0}qs(e,n){return S.or([()=>S.resolve(this.Fs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ms(e,n)])}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N5{constructor(e){this.yt=e}$(e,n,r,i){const s=new Dp("createOrUpgrade",n);r<1&&i>=1&&(function(a){a.createObjectStore("owner")}(e),function(a){a.createObjectStore("mutationQueues",{keyPath:"userId"}),a.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",WE,{unique:!0}),a.createObjectStore("documentMutations")}(e),cI(e),function(a){a.createObjectStore("remoteDocuments")}(e));let o=S.resolve();return r<3&&i>=3&&(r!==0&&(function(a){a.deleteObjectStore("targetDocuments"),a.deleteObjectStore("targets"),a.deleteObjectStore("targetGlobal")}(e),cI(e)),o=o.next(()=>function(a){const u=a.store("targetGlobal"),c={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:te.min().toTimestamp(),targetCount:0};return u.put("targetGlobalKey",c)}(s))),r<4&&i>=4&&(r!==0&&(o=o.next(()=>function(a,u){return u.store("mutations").W().next(c=>{a.deleteObjectStore("mutations"),a.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",WE,{unique:!0});const l=u.store("mutations"),h=c.map(d=>l.put(d));return S.waitFor(h)})}(e,s))),o=o.next(()=>{(function(a){a.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),r<5&&i>=5&&(o=o.next(()=>this.Us(s))),r<6&&i>=6&&(o=o.next(()=>(function(a){a.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(s)))),r<7&&i>=7&&(o=o.next(()=>this.Gs(s))),r<8&&i>=8&&(o=o.next(()=>this.Qs(e,s))),r<9&&i>=9&&(o=o.next(()=>{(function(a){a.objectStoreNames.contains("remoteDocumentChanges")&&a.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(o=o.next(()=>this.js(s))),r<11&&i>=11&&(o=o.next(()=>{(function(a){a.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(a){a.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(o=o.next(()=>{(function(a){const u=a.createObjectStore("documentOverlays",{keyPath:r5});u.createIndex("collectionPathOverlayIndex",i5,{unique:!1}),u.createIndex("collectionGroupOverlayIndex",s5,{unique:!1})})(e)})),r<13&&i>=13&&(o=o.next(()=>function(a){const u=a.createObjectStore("remoteDocumentsV14",{keyPath:WB});u.createIndex("documentKeyIndex",KB),u.createIndex("collectionGroupIndex",GB)}(e)).next(()=>this.Ws(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(o=o.next(()=>this.zs(e,s))),r<15&&i>=15&&(o=o.next(()=>function(a){a.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),a.createObjectStore("indexState",{keyPath:ZB}).createIndex("sequenceNumberIndex",e5,{unique:!1}),a.createObjectStore("indexEntries",{keyPath:t5}).createIndex("documentKeyIndex",n5,{unique:!1})}(e))),o}Ks(e){let n=0;return e.store("remoteDocuments").Z((r,i)=>{n+=gf(i)}).next(()=>{const r={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Us(e){const n=e.store("mutationQueues"),r=e.store("mutations");return n.W().next(i=>S.forEach(i,s=>{const o=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",o).next(a=>S.forEach(a,u=>{Z(u.userId===s.userId);const c=Ms(this.yt,u);return DP(e,s.userId,c).next(()=>{})}))}))}Gs(e){const n=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const s=[];return r.Z((o,a)=>{const u=new ge(o),c=function(l){return[0,ln(l)]}(u);s.push(n.get(c).next(l=>l?S.resolve():(h=>n.put({targetId:0,path:ln(h),sequenceNumber:i.highestListenSequenceNumber}))(u)))}).next(()=>S.waitFor(s))})}Qs(e,n){e.createObjectStore("collectionParents",{keyPath:JB});const r=n.store("collectionParents"),i=new Xw,s=o=>{if(i.add(o)){const a=o.lastSegment(),u=o.popLast();return r.put({collectionId:a,parent:ln(u)})}};return n.store("remoteDocuments").Z({X:!0},(o,a)=>{const u=new ge(o);return s(u.popLast())}).next(()=>n.store("documentMutations").Z({X:!0},([o,a,u],c)=>{const l=Dr(a);return s(l.popLast())}))}js(e){const n=e.store("targets");return n.Z((r,i)=>{const s=oc(i),o=AP(this.yt,s);return n.put(o)})}Ws(e,n){const r=n.store("remoteDocuments"),i=[];return r.Z((s,o)=>{const a=n.store("remoteDocumentsV14"),u=(c=o,c.document?new L(ge.fromString(c.document.name).popFirst(5)):c.noDocument?L.fromSegments(c.noDocument.path):c.unknownDocument?L.fromSegments(c.unknownDocument.path):z()).path.toArray();var c;/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const l={prefixPath:u.slice(0,u.length-2),collectionGroup:u[u.length-2],documentId:u[u.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};i.push(a.put(l))}).next(()=>S.waitFor(i))}zs(e,n){const r=n.store("mutations"),i=MP(this.yt),s=new jP(Vp.Bs,this.yt.ie);return r.W().next(o=>{const a=new Map;return o.forEach(u=>{var c;let l=(c=a.get(u.userId))!==null&&c!==void 0?c:ue();Ms(this.yt,u).keys().forEach(h=>l=l.add(h)),a.set(u.userId,l)}),S.forEach(a,(u,c)=>{const l=new St(c),h=Up.re(this.yt,l),d=s.getIndexManager(l),f=jp.re(l,this.yt,d,s.referenceDelegate);return new UP(i,f,h,d).recalculateAndSaveOverlaysForDocumentKeys(new vv(n,wn.at),u).next()})})}}function cI(t){t.createObjectStore("targetDocuments",{keyPath:YB}).createIndex("documentTargetsIndex",XB,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",QB,{unique:!0}),t.createObjectStore("targetGlobal")}const bg="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Zw{constructor(e,n,r,i,s,o,a,u,c,l,h=15){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Hs=s,this.window=o,this.document=a,this.Js=c,this.Ys=l,this.Xs=h,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=d=>Promise.resolve(),!Zw.C())throw new A(I.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new E5(this,i),this.ii=n+"main",this.yt=new PP(u),this.ri=new ur(this.ii,this.Xs,new N5(this.yt)),this.Cs=new v5(this.referenceDelegate,this.yt),this.remoteDocumentCache=MP(this.yt),this.Ns=new c5,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,l===!1&&st("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new A(I.FAILED_PRECONDITION,bg);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new wn(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){return this.si=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(async n=>{n.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget(async()=>{this.started&&await this.ui()}))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Hh(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(n=>{n||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(n=>this.isPrimary&&!n?this._i(e).next(()=>!1):!!n&&this.wi(e).next(()=>!0))).catch(e=>{if(ks(e))return O("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return O("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return Hu(e).get("owner").next(n=>S.resolve(this.mi(n)))}gi(e){return Hh(e).delete(this.clientId)}async yi(){if(this.isPrimary&&!this.pi(this.ni,18e5)){this.ni=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{const r=xt(n,"clientMetadata");return r.W().next(i=>{const s=this.Ii(i,18e5),o=i.filter(a=>s.indexOf(a)===-1);return S.forEach(o,a=>r.delete(a.clientId)).next(()=>o)})}).catch(()=>[]);if(this.oi)for(const n of e)this.oi.removeItem(this.Ti(n.clientId))}}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?S.resolve(!0):Hu(e).get("owner").next(n=>{if(n!==null&&this.pi(n.leaseTimestampMs,5e3)&&!this.Ei(n.ownerId)){if(this.mi(n)&&this.networkEnabled)return!0;if(!this.mi(n)){if(!n.allowTabSynchronization)throw new A(I.FAILED_PRECONDITION,bg);return!1}}return!(!this.networkEnabled||!this.inForeground)||Hh(e).W().next(r=>this.Ii(r,5e3).find(i=>{if(this.clientId!==i.clientId){const s=!this.networkEnabled&&i.networkEnabled,o=!this.inForeground&&i.inForeground,a=this.networkEnabled===i.networkEnabled;if(s||o&&a)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&O("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}async shutdown(){this.Ds=!1,this.Ai(),this.ei&&(this.ei.cancel(),this.ei=null),this.Ri(),this.bi(),await this.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const n=new vv(e,wn.at);return this._i(n).next(()=>this.gi(n))}),this.ri.close(),this.Pi()}Ii(e,n){return e.filter(r=>this.pi(r.updateTimeMs,n)&&!this.Ei(r.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>Hh(e).W().next(n=>this.Ii(n,18e5).map(r=>r.clientId)))}get started(){return this.Ds}getMutationQueue(e,n){return jp.re(e,this.yt,n,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new y5(e,this.yt.ie.databaseId)}getDocumentOverlayCache(e){return Up.re(this.yt,e)}getBundleCache(){return this.Ns}runTransaction(e,n,r){O("IndexedDbPersistence","Starting transaction:",e);const i=n==="readonly"?"readonly":"readwrite",s=(o=this.Xs)===15?a5:o===14?CP:o===13?RP:o===12?o5:o===11?xP:void z();var o;let a;return this.ri.runTransaction(e,i,s,u=>(a=new vv(u,this.Ss?this.Ss.next():wn.at),n==="readwrite-primary"?this.fi(a).next(c=>!!c||this.di(a)).next(c=>{if(!c)throw st(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new A(I.FAILED_PRECONDITION,NC);return r(a)}).next(c=>this.wi(a).next(()=>c)):this.Vi(a).next(()=>r(a)))).then(u=>(a.raiseOnCommittedEvent(),u))}Vi(e){return Hu(e).get("owner").next(n=>{if(n!==null&&this.pi(n.leaseTimestampMs,5e3)&&!this.Ei(n.ownerId)&&!this.mi(n)&&!(this.Ys||this.allowTabSynchronization&&n.allowTabSynchronization))throw new A(I.FAILED_PRECONDITION,bg)})}wi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Hu(e).put("owner",n)}static C(){return ur.C()}_i(e){const n=Hu(e);return n.get("owner").next(r=>this.mi(r)?(O("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):S.resolve())}pi(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(st(`Detected an update time that is in the future: ${e} > ${r}`),!1))}ci(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground=this.document.visibilityState==="visible")}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.Zs=()=>{this.Ai(),M$()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var n;try{const r=((n=this.oi)===null||n===void 0?void 0:n.getItem(this.Ti(e)))!==null;return O("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return st("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){st("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Hu(t){return xt(t,"owner")}function Hh(t){return xt(t,"clientMetadata")}function e1(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t1{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Si=r,this.Di=i}static Ci(e,n){let r=ue(),i=ue();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new t1(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VP{constructor(){this.xi=!1}initialize(e,n){this.Ni=e,this.indexManager=n,this.xi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.ki(e,n).next(s=>s||this.Oi(e,n,i,r)).next(s=>s||this.Mi(e,n))}ki(e,n){if($E(n))return S.resolve(null);let r=Tn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=ff(n,null,"F"),r=Tn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=ue(...s);return this.Ni.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.Fi(n,a);return this.$i(n,c,o,u.readTime)?this.ki(e,ff(n,null,"F")):this.Bi(e,c,n,u)}))})))}Oi(e,n,r,i){return $E(n)||i.isEqual(te.min())?this.Mi(e,n):this.Ni.getDocuments(e,r).next(s=>{const o=this.Fi(n,s);return this.$i(n,o,r,i)?this.Mi(e,n):(uv()<=ye.DEBUG&&O("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),mv(n)),this.Bi(e,o,n,AC(i,-1)))})}Fi(e,n){let r=new xe(JC(e));return n.forEach((i,s)=>{qw(e,s)&&(r=r.add(s))}),r}$i(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Mi(e,n){return uv()<=ye.DEBUG&&O("QueryEngine","Using full collection scan to execute query:",mv(n)),this.Ni.getDocumentsMatchingQuery(e,n,jn.min())}Bi(e,n,r,i){return this.Ni.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D5{constructor(e,n,r,i){this.persistence=e,this.Li=n,this.yt=i,this.qi=new tt(ae),this.Ui=new xs(s=>vo(s),Xl),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(r)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new UP(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.qi))}}function BP(t,e,n,r){return new D5(t,e,n,r)}async function qP(t,e){const n=B(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Qi(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=ue();for(const c of i){o.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}for(const c of s){a.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}return n.localDocuments.getDocuments(r,u).next(c=>({ji:c,removedBatchIds:o,addedBatchIds:a}))})})}function F5(t,e){const n=B(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Gi.newChangeBuffer({trackRemovals:!0});return function(o,a,u,c){const l=u.batch,h=l.keys();let d=S.resolve();return h.forEach(f=>{d=d.next(()=>c.getEntry(a,f)).next(p=>{const m=u.docVersions.get(f);Z(m!==null),p.version.compareTo(m)<0&&(l.applyToRemoteDocument(p,u),p.isValidDocument()&&(p.setReadTime(u.commitVersion),c.addEntry(p)))})}),d.next(()=>o.mutationQueue.removeMutationBatch(a,l))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=ue();for(let u=0;u<o.mutationResults.length;++u)o.mutationResults[u].transformResults.length>0&&(a=a.add(o.batch.mutations[u].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function zP(t){const e=B(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Cs.getLastRemoteSnapshotVersion(n))}function $5(t,e){const n=B(t),r=e.snapshotVersion;let i=n.qi;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Gi.newChangeBuffer({trackRemovals:!0});i=n.qi;const a=[];e.targetChanges.forEach((l,h)=>{const d=i.get(h);if(!d)return;a.push(n.Cs.removeMatchingKeys(s,l.removedDocuments,h).next(()=>n.Cs.addMatchingKeys(s,l.addedDocuments,h)));let f=d.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.has(h)?f=f.withResumeToken(gt.EMPTY_BYTE_STRING,te.min()).withLastLimboFreeSnapshotVersion(te.min()):l.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(l.resumeToken,r)),i=i.insert(h,f),function(p,m,w){return p.resumeToken.approximateByteSize()===0||m.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(d,f,l)&&a.push(n.Cs.updateTargetData(s,f))});let u=_n(),c=ue();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,l))}),a.push(HP(s,o,e.documentUpdates).next(l=>{u=l.Wi,c=l.zi})),!r.isEqual(te.min())){const l=n.Cs.getLastRemoteSnapshotVersion(s).next(h=>n.Cs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(l)}return S.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,c)).next(()=>u)}).then(s=>(n.qi=i,s))}function HP(t,e,n){let r=ue(),i=ue();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=_n();return n.forEach((a,u)=>{const c=s.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(te.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):O("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{Wi:o,zi:i}})}function L5(t,e){const n=B(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function qa(t,e){const n=B(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Cs.getTargetData(r,e).next(s=>s?(i=s,S.resolve(i)):n.Cs.allocateTargetId(r).next(o=>(i=new rs(e,o,0,r.currentSequenceNumber),n.Cs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.qi.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.qi=n.qi.insert(r.targetId,r),n.Ui.set(e,r.targetId)),r})}async function za(t,e,n){const r=B(t),i=r.qi.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!ks(o))throw o;O("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.qi=r.qi.remove(e),r.Ui.delete(i.target)}function yf(t,e,n){const r=B(t);let i=te.min(),s=ue();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,u,c){const l=B(a),h=l.Ui.get(c);return h!==void 0?S.resolve(l.qi.get(h)):l.Cs.getTargetData(u,c)}(r,o,Tn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.Li.getDocumentsMatchingQuery(o,e,n?i:te.min(),n?s:ue())).next(a=>(GP(r,XC(e),a),{documents:a,Hi:s})))}function WP(t,e){const n=B(t),r=B(n.Cs),i=n.qi.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",s=>r.ne(s,e).next(o=>o?o.target:null))}function KP(t,e){const n=B(t),r=n.Ki.get(e)||te.min();return n.persistence.runTransaction("Get new document changes","readonly",i=>n.Gi.getAllFromCollectionGroup(i,e,AC(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(GP(n,e,i),i))}function GP(t,e,n){let r=t.Ki.get(e)||te.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Ki.set(e,r)}async function M5(t,e,n,r){const i=B(t);let s=ue(),o=_n();for(const c of n){const l=e.Ji(c.metadata.name);c.document&&(s=s.add(l));const h=e.Yi(c);h.setReadTime(e.Xi(c.metadata.readTime)),o=o.insert(l,h)}const a=i.Gi.newChangeBuffer({trackRemovals:!0}),u=await qa(i,function(c){return Tn(vu(ge.fromString(`__bundle__/docs/${c}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",c=>HP(c,a,o).next(l=>(a.apply(c),l)).next(l=>i.Cs.removeMatchingKeysForTargetId(c,u.targetId).next(()=>i.Cs.addMatchingKeys(c,s,u.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(c,l.Wi,l.zi)).next(()=>l.Wi)))}async function U5(t,e,n=ue()){const r=await qa(t,Tn(Qw(e.bundledQuery))),i=B(t);return i.persistence.runTransaction("Save named query","readwrite",s=>{const o=at(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Ns.saveNamedQuery(s,e);const a=r.withResumeToken(gt.EMPTY_BYTE_STRING,o);return i.qi=i.qi.insert(a.targetId,a),i.Cs.updateTargetData(s,a).next(()=>i.Cs.removeMatchingKeysForTargetId(s,r.targetId)).next(()=>i.Cs.addMatchingKeys(s,n,r.targetId)).next(()=>i.Ns.saveNamedQuery(s,e))})}function lI(t,e){return`firestore_clients_${t}_${e}`}function hI(t,e,n){let r=`firestore_mutations_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function Tg(t,e){return`firestore_targets_${t}_${e}`}class vf{constructor(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}static Zi(e,n,r){const i=JSON.parse(r);let s,o=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return o&&i.error&&(o=typeof i.error.message=="string"&&typeof i.error.code=="string",o&&(s=new A(i.error.code,i.error.message))),o?new vf(e,n,i.state,s):(st("SharedClientState",`Failed to parse mutation state for ID '${n}': ${r}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class kc{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static Zi(e,n){const r=JSON.parse(n);let i,s=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return s&&r.error&&(s=typeof r.error.message=="string"&&typeof r.error.code=="string",s&&(i=new A(r.error.code,r.error.message))),s?new kc(e,r.state,i):(st("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class wf{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Zi(e,n){const r=JSON.parse(n);let i=typeof r=="object"&&r.activeTargetIds instanceof Array,s=Mp();for(let o=0;i&&o<r.activeTargetIds.length;++o)i=$C(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new wf(e,s):(st("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}}class n1{constructor(e,n){this.clientId=e,this.onlineState=n}static Zi(e){const n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new n1(n.clientId,n.onlineState):(st("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Ev{constructor(){this.activeTargetIds=Mp()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class kg{constructor(e,n,r,i,s){this.window=e,this.Hs=n,this.persistenceKey=r,this.sr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new tt(ae),this.started=!1,this.cr=[];const o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.ar=lI(this.persistenceKey,this.sr),this.hr=function(a){return`firestore_sequence_number_${a}`}(this.persistenceKey),this.ur=this.ur.insert(this.sr,new Ev),this.lr=new RegExp(`^firestore_clients_${o}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${o}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${o}_(\\d+)$`),this.wr=function(a){return`firestore_online_state_${a}`}(this.persistenceKey),this.mr=function(a){return`firestore_bundle_loaded_v2_${a}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.vi();for(const r of e){if(r===this.sr)continue;const i=this.getItem(lI(this.persistenceKey,r));if(i){const s=wf.Zi(r,i);s&&(this.ur=this.ur.insert(s.clientId,s))}}this.gr();const n=this.storage.getItem(this.wr);if(n){const r=this.yr(n);r&&this.pr(r)}for(const r of this.cr)this.rr(r);this.cr=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let n=!1;return this.ur.forEach((r,i)=>{i.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,n,r){this.Tr(e,n,r),this.Er(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(Tg(this.persistenceKey,e));if(r){const i=kc.Zi(e,r);i&&(n=i.state)}}return this.Ar.er(e),this.gr(),n}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Tg(this.persistenceKey,e))}updateQueryState(e,n,r){this.Rr(e,n,r)}handleUserChange(e,n,r){n.forEach(i=>{this.Er(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return O("SharedClientState","READ",e,n),n}setItem(e,n){O("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){O("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){const n=e;if(n.storageArea===this.storage){if(O("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ar)return void st("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable(async()=>{if(this.started){if(n.key!==null){if(this.lr.test(n.key)){if(n.newValue==null){const r=this.vr(n.key);return this.Vr(r,null)}{const r=this.Sr(n.key,n.newValue);if(r)return this.Vr(r.clientId,r)}}else if(this.dr.test(n.key)){if(n.newValue!==null){const r=this.Dr(n.key,n.newValue);if(r)return this.Cr(r)}}else if(this._r.test(n.key)){if(n.newValue!==null){const r=this.Nr(n.key,n.newValue);if(r)return this.kr(r)}}else if(n.key===this.wr){if(n.newValue!==null){const r=this.yr(n.newValue);if(r)return this.pr(r)}}else if(n.key===this.hr){const r=function(i){let s=wn.at;if(i!=null)try{const o=JSON.parse(i);Z(typeof o=="number"),s=o}catch(o){st("SharedClientState","Failed to read sequence number from WebStorage",o)}return s}(n.newValue);r!==wn.at&&this.sequenceNumberHandler(r)}else if(n.key===this.mr){const r=this.Or(n.newValue);await Promise.all(r.map(i=>this.syncEngine.Mr(i)))}}}else this.cr.push(n)})}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,n,r){const i=new vf(this.currentUser,e,n,r),s=hI(this.persistenceKey,this.currentUser,e);this.setItem(s,i.tr())}Er(e){const n=hI(this.persistenceKey,this.currentUser,e);this.removeItem(n)}br(e){const n={clientId:this.sr,onlineState:e};this.storage.setItem(this.wr,JSON.stringify(n))}Rr(e,n,r){const i=Tg(this.persistenceKey,e),s=new kc(e,n,r);this.setItem(i,s.tr())}Pr(e){const n=JSON.stringify(Array.from(e));this.setItem(this.mr,n)}vr(e){const n=this.lr.exec(e);return n?n[1]:null}Sr(e,n){const r=this.vr(e);return wf.Zi(r,n)}Dr(e,n){const r=this.dr.exec(e),i=Number(r[1]),s=r[2]!==void 0?r[2]:null;return vf.Zi(new St(s),i,n)}Nr(e,n){const r=this._r.exec(e),i=Number(r[1]);return kc.Zi(i,n)}yr(e){return n1.Zi(e)}Or(e){return JSON.parse(e)}async Cr(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Fr(e.batchId,e.state,e.error);O("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,n){const r=n?this.ur.insert(e,n):this.ur.remove(e),i=this.Ir(this.ur),s=this.Ir(r),o=[],a=[];return s.forEach(u=>{i.has(u)||o.push(u)}),i.forEach(u=>{s.has(u)||a.push(u)}),this.syncEngine.Br(o,a).then(()=>{this.ur=r})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let n=Mp();return e.forEach((r,i)=>{n=n.unionWith(i.activeTargetIds)}),n}}class QP{constructor(){this.Lr=new Ev,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Lr.er(e),this.qr[e]||"not-current"}updateQueryState(e,n,r){this.qr[e]=n}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new Ev,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j5{Ur(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}Ur(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){O("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){O("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V5={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B5{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q5 extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.oo=n+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,n,r,i,s){const o=this.ho(e,n);O("RestConnection","Sending: ",o,r);const a={};return this.lo(a,i,s),this.fo(e,o,a,r).then(u=>(O("RestConnection","Received: ",u),u),u=>{throw $a("RestConnection",`${e} failed with error: `,u,"url: ",o,"request:",r),u})}_o(e,n,r,i,s,o){return this.ao(e,n,r,i,s)}lo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+yu,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}ho(e,n){const r=V5[e];return`${this.oo}/v1/${n}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,n,r,i){return new Promise((s,o)=>{const a=new B4;a.setWithCredentials(!0),a.listenOnce(U4.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case Eg.NO_ERROR:const c=a.getResponseJson();O("Connection","XHR received:",JSON.stringify(c)),s(c);break;case Eg.TIMEOUT:O("Connection",'RPC "'+e+'" timed out'),o(new A(I.DEADLINE_EXCEEDED,"Request time out"));break;case Eg.HTTP_ERROR:const l=a.getStatus();if(O("Connection",'RPC "'+e+'" failed with status:',l,"response text:",a.getResponseText()),l>0){let h=a.getResponseJson();Array.isArray(h)&&(h=h[0]);const d=h==null?void 0:h.error;if(d&&d.status&&d.message){const f=function(p){const m=p.toLowerCase().replace(/_/g,"-");return Object.values(I).indexOf(m)>=0?m:I.UNKNOWN}(d.status);o(new A(f,d.message))}else o(new A(I.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new A(I.UNAVAILABLE,"Connection failed."));break;default:z()}}finally{O("Connection",'RPC "'+e+'" completed.')}});const u=JSON.stringify(i);a.send(n,"POST",u,r,15)})}wo(e,n,r){const i=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=L4(),o=M4(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new V4({})),this.lo(a.initMessageHeaders,n,r),a.encodeInitMessageHeaders=!0;const u=i.join("");O("Connection","Creating WebChannel: "+u,a);const c=s.createWebChannel(u,a);let l=!1,h=!1;const d=new B5({Hr:p=>{h?O("Connection","Not sending because WebChannel is closed:",p):(l||(O("Connection","Opening WebChannel transport."),c.open(),l=!0),O("Connection","WebChannel sending:",p),c.send(p))},Jr:()=>c.close()}),f=(p,m,w)=>{p.listen(m,y=>{try{w(y)}catch(g){setTimeout(()=>{throw g},0)}})};return f(c,jh.EventType.OPEN,()=>{h||O("Connection","WebChannel transport opened.")}),f(c,jh.EventType.CLOSE,()=>{h||(h=!0,O("Connection","WebChannel transport closed"),d.io())}),f(c,jh.EventType.ERROR,p=>{h||(h=!0,$a("Connection","WebChannel transport errored:",p),d.io(new A(I.UNAVAILABLE,"The operation could not be completed")))}),f(c,jh.EventType.MESSAGE,p=>{var m;if(!h){const w=p.data[0];Z(!!w);const y=w,g=y.error||((m=y[0])===null||m===void 0?void 0:m.error);if(g){O("Connection","WebChannel received error:",g);const v=g.status;let _=function(x){const R=ut[x];if(R!==void 0)return cP(R)}(v),k=g.message;_===void 0&&(_=I.INTERNAL,k="Unknown error status: "+v+" with message "+g.message),h=!0,d.io(new A(_,k)),c.close()}else O("Connection","WebChannel received:",w),d.ro(w)}}),f(o,j4.STAT_EVENT,p=>{p.stat===EE.PROXY?O("Connection","Detected buffering proxy"):p.stat===EE.NOPROXY&&O("Connection","Detected no buffering proxy")}),setTimeout(()=>{d.so()},0),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YP(){return typeof window<"u"?window:null}function pd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nh(t){return new DB(t,!0)}class r1{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Hs=e,this.timerId=n,this.mo=r,this.yo=i,this.po=s,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const n=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,n-r);i>0&&O("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Io} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,i,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){this.To!==null&&(this.To.skipDelay(),this.To=null)}cancel(){this.To!==null&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XP{constructor(e,n,r,i,s,o,a,u){this.Hs=e,this.vo=r,this.Vo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new r1(e,n)}No(){return this.state===1||this.state===5||this.ko()}ko(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Oo()}async stop(){this.No()&&await this.close(0)}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&this.Do===null&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}async $o(){if(this.ko())return this.close(0)}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}qo(){this.Co&&(this.Co.cancel(),this.Co=null)}async close(e,n){this.Lo(),this.qo(),this.xo.cancel(),this.So++,e!==4?this.xo.reset():n&&n.code===I.RESOURCE_EXHAUSTED?(st(n.toString()),st("Using maximum backoff delay to prevent overloading the backend."),this.xo.Ao()):n&&n.code===I.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Uo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zr(n)}Uo(){}auth(){this.state=1;const e=this.Ko(this.So),n=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.So===n&&this.Go(r,i)},r=>{e(()=>{const i=new A(I.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Qo(i)})})}Go(e,n){const r=this.Ko(this.So);this.stream=this.jo(e,n),this.stream.Yr(()=>{r(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(i=>{r(()=>this.Qo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Oo(){this.state=5,this.xo.Ro(async()=>{this.state=0,this.start()})}Qo(e){return O("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return n=>{this.Hs.enqueueAndForget(()=>this.So===e?n():(O("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class z5 extends XP{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.yt=s}jo(e,n){return this.connection.wo("Listen",e,n)}onMessage(e){this.xo.reset();const n=LB(this.yt,e),r=function(i){if(!("targetChange"in i))return te.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?te.min():s.readTime?at(s.readTime):te.min()}(e);return this.listener.Wo(n,r)}zo(e){const n={};n.database=gl(this.yt),n.addTarget=function(i,s){let o;const a=s.target;return o=hf(a)?{documents:_P(i,a)}:{query:SP(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?o.resumeToken=mP(i,s.resumeToken):s.snapshotVersion.compareTo(te.min())>0&&(o.readTime=Ba(i,s.snapshotVersion.toTimestamp())),o}(this.yt,e);const r=UB(this.yt,e);r&&(n.labels=r),this.Bo(n)}Ho(e){const n={};n.database=gl(this.yt),n.removeTarget=e,this.Bo(n)}}class H5 extends XP{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.yt=s,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}Uo(){this.Jo&&this.Xo([])}jo(e,n){return this.connection.wo("Write",e,n)}onMessage(e){if(Z(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const n=MB(e.writeResults,e.commitTime),r=at(e.commitTime);return this.listener.Zo(r,n)}return Z(!e.writeResults||e.writeResults.length===0),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=gl(this.yt),this.Bo(e)}Xo(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>yl(this.yt,r))};this.Bo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W5 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.yt=i,this.nu=!1}su(){if(this.nu)throw new A(I.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,n,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.ao(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===I.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new A(I.UNKNOWN,i.toString())})}_o(e,n,r,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection._o(e,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===I.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new A(I.UNKNOWN,s.toString())})}terminate(){this.nu=!0}}class K5{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){this.iu===0&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){this.state==="Online"?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,e==="Online"&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(st(n),this.ou=!1):O("OnlineStateTracker",n)}lu(){this.ru!==null&&(this.ru.cancel(),this.ru=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G5{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=s,this.mu.Ur(o=>{r.enqueueAndForget(async()=>{Rs(this)&&(O("RemoteStore","Restarting streams for network reachability change."),await async function(a){const u=B(a);u._u.add(4),await Su(u),u.gu.set("Unknown"),u._u.delete(4),await rh(u)}(this))})}),this.gu=new K5(r,i)}}async function rh(t){if(Rs(t))for(const e of t.wu)await e(!0)}async function Su(t){for(const e of t.wu)await e(!1)}function Bp(t,e){const n=B(t);n.du.has(e.targetId)||(n.du.set(e.targetId,e),o1(n)?s1(n):Iu(n).ko()&&i1(n,e))}function vl(t,e){const n=B(t),r=Iu(n);n.du.delete(e),r.ko()&&JP(n,e),n.du.size===0&&(r.ko()?r.Fo():Rs(n)&&n.gu.set("Unknown"))}function i1(t,e){t.yu.Ot(e.targetId),Iu(t).zo(e)}function JP(t,e){t.yu.Ot(e),Iu(t).Ho(e)}function s1(t){t.yu=new PB({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ne:e=>t.du.get(e)||null}),Iu(t).start(),t.gu.uu()}function o1(t){return Rs(t)&&!Iu(t).No()&&t.du.size>0}function Rs(t){return B(t)._u.size===0}function ZP(t){t.yu=void 0}async function Q5(t){t.du.forEach((e,n)=>{i1(t,e)})}async function Y5(t,e){ZP(t),o1(t)?(t.gu.hu(e),s1(t)):t.gu.set("Unknown")}async function X5(t,e,n){if(t.gu.set("Online"),e instanceof pP&&e.state===2&&e.cause)try{await async function(r,i){const s=i.cause;for(const o of i.targetIds)r.du.has(o)&&(await r.remoteSyncer.rejectListen(o,s),r.du.delete(o),r.yu.removeTarget(o))}(t,e)}catch(r){O("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await _f(t,r)}else if(e instanceof dd?t.yu.Kt(e):e instanceof fP?t.yu.Jt(e):t.yu.jt(e),!n.isEqual(te.min()))try{const r=await zP(t.localStore);n.compareTo(r)>=0&&await function(i,s){const o=i.yu.Zt(s);return o.targetChanges.forEach((a,u)=>{if(a.resumeToken.approximateByteSize()>0){const c=i.du.get(u);c&&i.du.set(u,c.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach(a=>{const u=i.du.get(a);if(!u)return;i.du.set(a,u.withResumeToken(gt.EMPTY_BYTE_STRING,u.snapshotVersion)),JP(i,a);const c=new rs(u.target,a,1,u.sequenceNumber);i1(i,c)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){O("RemoteStore","Failed to raise snapshot:",r),await _f(t,r)}}async function _f(t,e,n){if(!ks(e))throw e;t._u.add(1),await Su(t),t.gu.set("Offline"),n||(n=()=>zP(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{O("RemoteStore","Retrying IndexedDB access"),await n(),t._u.delete(1),await rh(t)})}function eA(t,e){return e().catch(n=>_f(t,n,e))}async function Eu(t){const e=B(t),n=ps(e);let r=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;J5(e);)try{const i=await L5(e.localStore,r);if(i===null){e.fu.length===0&&n.Fo();break}r=i.batchId,Z5(e,i)}catch(i){await _f(e,i)}tA(e)&&nA(e)}function J5(t){return Rs(t)&&t.fu.length<10}function Z5(t,e){t.fu.push(e);const n=ps(t);n.ko()&&n.Yo&&n.Xo(e.mutations)}function tA(t){return Rs(t)&&!ps(t).No()&&t.fu.length>0}function nA(t){ps(t).start()}async function eq(t){ps(t).eu()}async function tq(t){const e=ps(t);for(const n of t.fu)e.Xo(n.mutations)}async function nq(t,e,n){const r=t.fu.shift(),i=Kw.from(r,e,n);await eA(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Eu(t)}async function rq(t,e){e&&ps(t).Yo&&await async function(n,r){if(i=r.code,uP(i)&&i!==I.ABORTED){const s=n.fu.shift();ps(n).Mo(),await eA(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,r)),await Eu(n)}var i}(t,e),tA(t)&&nA(t)}async function fI(t,e){const n=B(t);n.asyncQueue.verifyOperationInProgress(),O("RemoteStore","RemoteStore received new credentials");const r=Rs(n);n._u.add(3),await Su(n),r&&n.gu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n._u.delete(3),await rh(n)}async function Iv(t,e){const n=B(t);e?(n._u.delete(2),await rh(n)):e||(n._u.add(2),await Su(n),n.gu.set("Unknown"))}function Iu(t){return t.pu||(t.pu=function(e,n,r){const i=B(e);return i.su(),new z5(n,i.connection,i.authCredentials,i.appCheckCredentials,i.yt,r)}(t.datastore,t.asyncQueue,{Yr:Q5.bind(null,t),Zr:Y5.bind(null,t),Wo:X5.bind(null,t)}),t.wu.push(async e=>{e?(t.pu.Mo(),o1(t)?s1(t):t.gu.set("Unknown")):(await t.pu.stop(),ZP(t))})),t.pu}function ps(t){return t.Iu||(t.Iu=function(e,n,r){const i=B(e);return i.su(),new H5(n,i.connection,i.authCredentials,i.appCheckCredentials,i.yt,r)}(t.datastore,t.asyncQueue,{Yr:eq.bind(null,t),Zr:rq.bind(null,t),tu:tq.bind(null,t),Zo:nq.bind(null,t)}),t.wu.push(async e=>{e?(t.Iu.Mo(),await Eu(t)):(await t.Iu.stop(),t.fu.length>0&&(O("RemoteStore",`Stopping write stream with ${t.fu.length} pending writes`),t.fu=[]))})),t.Iu}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a1{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new It,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new a1(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new A(I.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function bu(t,e){if(st("AsyncQueue",`${e}: ${t}`),ks(t))return new A(I.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(e){this.comparator=e?(n,r)=>e(n,r)||L.comparator(n.key,r.key):(n,r)=>L.comparator(n.key,r.key),this.keyedMap=sc(),this.sortedSet=new tt(this.comparator)}static emptySet(e){return new Ia(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ia)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ia;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{constructor(){this.Tu=new tt(L.comparator)}track(e){const n=e.doc.key,r=this.Tu.get(n);r?e.type!==0&&r.type===3?this.Tu=this.Tu.insert(n,e):e.type===3&&r.type!==1?this.Tu=this.Tu.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Tu=this.Tu.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Tu=this.Tu.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Tu=this.Tu.remove(n):e.type===1&&r.type===2?this.Tu=this.Tu.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Tu=this.Tu.insert(n,{type:2,doc:e.doc}):z():this.Tu=this.Tu.insert(n,e)}Eu(){const e=[];return this.Tu.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ha{constructor(e,n,r,i,s,o,a,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Ha(e,n,Ia.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Jl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iq{constructor(){this.Au=void 0,this.listeners=[]}}class sq{constructor(){this.queries=new xs(e=>YC(e),Jl),this.onlineState="Unknown",this.Ru=new Set}}async function u1(t,e){const n=B(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new iq),i)try{s.Au=await n.onListen(r)}catch(o){const a=bu(o,`Initialization of query '${mv(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.bu(n.onlineState),s.Au&&e.Pu(s.Au)&&l1(n)}async function c1(t,e){const n=B(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function oq(t,e){const n=B(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.Pu(i)&&(r=!0);o.Au=i}}r&&l1(n)}function aq(t,e,n){const r=B(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function l1(t){t.Ru.forEach(e=>{e.next()})}class h1{constructor(e,n,r){this.query=e,this.vu=n,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}Pu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Ha(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),n=!0):this.Cu(e,this.onlineState)&&(this.xu(e),n=!0),this.Su=e,n}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let n=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),n=!0),n}Cu(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Nu||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Du(e){if(e.docChanges.length>0)return!0;const n=this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}xu(e){e=Ha.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uq{constructor(e,n){this.ku=e,this.byteLength=n}Ou(){return"metadata"in this.ku}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{constructor(e){this.yt=e}Ji(e){return Ur(this.yt,e)}Yi(e){return e.metadata.exists?wP(this.yt,e.document,!1):Oe.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return at(e)}}class cq{constructor(e,n,r){this.Mu=e,this.localStore=n,this.yt=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=rA(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.ku.namedQuery)this.queries.push(e.ku.namedQuery);else if(e.ku.documentMetadata){this.documents.push({metadata:e.ku.documentMetadata}),e.ku.documentMetadata.exists||++n;const r=ge.fromString(e.ku.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.ku.document&&(this.documents[this.documents.length-1].document=e.ku.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}$u(e){const n=new Map,r=new mI(this.yt);for(const i of e)if(i.metadata.queries){const s=r.Ji(i.metadata.name);for(const o of i.metadata.queries){const a=(n.get(o)||ue()).add(s);n.set(o,a)}}return n}async complete(){const e=await M5(this.localStore,new mI(this.yt),this.documents,this.Mu.id),n=this.$u(this.documents);for(const r of this.queries)await U5(this.localStore,r,n.get(r.name));return this.progress.taskState="Success",{progress:this.progress,Bu:this.collectionGroups,Lu:e}}}function rA(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iA{constructor(e){this.key=e}}class sA{constructor(e){this.key=e}}class oA{constructor(e,n){this.query=e,this.qu=n,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=ue(),this.mutatedKeys=ue(),this.Gu=JC(e),this.Qu=new Ia(this.Gu)}get ju(){return this.qu}Wu(e,n){const r=n?n.zu:new pI,i=n?n.Qu:this.Qu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,h)=>{const d=i.get(l),f=qw(this.query,h)?h:null,p=!!d&&this.mutatedKeys.has(d.key),m=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let w=!1;d&&f?d.data.isEqual(f.data)?p!==m&&(r.track({type:3,doc:f}),w=!0):this.Hu(d,f)||(r.track({type:2,doc:f}),w=!0,(u&&this.Gu(f,u)>0||c&&this.Gu(f,c)<0)&&(a=!0)):!d&&f?(r.track({type:0,doc:f}),w=!0):d&&!f&&(r.track({type:1,doc:d}),w=!0,(u||c)&&(a=!0)),w&&(f?(o=o.add(f),s=m?s.add(l):s.delete(l)):(o=o.delete(l),s=s.delete(l)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const l=this.query.limitType==="F"?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{Qu:o,zu:r,$i:a,mutatedKeys:s}}Hu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const s=e.zu.Eu();s.sort((c,l)=>function(h,d){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return z()}};return f(h)-f(d)}(c.type,l.type)||this.Gu(c.doc,l.doc)),this.Ju(r);const o=n?this.Yu():[],a=this.Ku.size===0&&this.current?1:0,u=a!==this.Uu;return this.Uu=a,s.length!==0||u?{snapshot:new Ha(this.query,e.Qu,i,s,e.mutatedKeys,a===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),Xu:o}:{Xu:o}}bu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new pI,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.qu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(n=>this.qu=this.qu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.qu=this.qu.delete(n)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=ue(),this.Qu.forEach(r=>{this.Zu(r.key)&&(this.Ku=this.Ku.add(r.key))});const n=[];return e.forEach(r=>{this.Ku.has(r)||n.push(new sA(r))}),this.Ku.forEach(r=>{e.has(r)||n.push(new iA(r))}),n}tc(e){this.qu=e.Hi,this.Ku=ue();const n=this.Wu(e.documents);return this.applyChanges(n,!0)}ec(){return Ha.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,this.Uu===0,this.hasCachedResults)}}class lq{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class hq{constructor(e){this.key=e,this.nc=!1}}class dq{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.sc={},this.ic=new xs(a=>YC(a),Jl),this.rc=new Map,this.oc=new Set,this.uc=new tt(L.comparator),this.cc=new Map,this.ac=new Jw,this.hc={},this.lc=new Map,this.fc=Io.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return this.dc===!0}}async function fq(t,e){const n=g1(t);let r,i;const s=n.ic.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.ec();else{const o=await qa(n.localStore,Tn(e));n.isPrimaryClient&&Bp(n.remoteStore,o);const a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await d1(n,e,r,a==="current",o.resumeToken)}return i}async function d1(t,e,n,r,i){t._c=(h,d,f)=>async function(p,m,w,y){let g=m.view.Wu(w);g.$i&&(g=await yf(p.localStore,m.query,!1).then(({documents:k})=>m.view.Wu(k,g)));const v=y&&y.targetChanges.get(m.targetId),_=m.view.applyChanges(g,p.isPrimaryClient,v);return bv(p,m.targetId,_.Xu),_.snapshot}(t,h,d,f);const s=await yf(t.localStore,e,!0),o=new oA(e,s.Hi),a=o.Wu(s.documents),u=th.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(a,t.isPrimaryClient,u);bv(t,n,c.Xu);const l=new lq(e,n,o);return t.ic.set(e,l),t.rc.has(n)?t.rc.get(n).push(e):t.rc.set(n,[e]),c.snapshot}async function pq(t,e){const n=B(t),r=n.ic.get(e),i=n.rc.get(r.targetId);if(i.length>1)return n.rc.set(r.targetId,i.filter(s=>!Jl(s,e))),void n.ic.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await za(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),vl(n.remoteStore,r.targetId),Wa(n,r.targetId)}).catch(Ts)):(Wa(n,r.targetId),await za(n.localStore,r.targetId,!0))}async function mq(t,e,n){const r=y1(t);try{const i=await function(s,o){const a=B(s),u=Ve.now(),c=o.reduce((d,f)=>d.add(f.key),ue());let l,h;return a.persistence.runTransaction("Locally write mutations","readwrite",d=>{let f=_n(),p=ue();return a.Gi.getEntries(d,c).next(m=>{f=m,f.forEach((w,y)=>{y.isValidDocument()||(p=p.add(w))})}).next(()=>a.localDocuments.getOverlayedDocuments(d,f)).next(m=>{l=m;const w=[];for(const y of o){const g=bB(y,l.get(y.key).overlayedDocument);g!=null&&w.push(new bi(y.key,g,GC(g.value.mapValue),je.exists(!0)))}return a.mutationQueue.addMutationBatch(d,u,w,o)}).next(m=>{h=m;const w=m.applyToLocalDocumentSet(l,p);return a.documentOverlayCache.saveOverlays(d,m.batchId,w)})}).then(()=>({batchId:h.batchId,changes:hP(l)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let u=s.hc[s.currentUser.toKey()];u||(u=new tt(ae)),u=u.insert(o,a),s.hc[s.currentUser.toKey()]=u}(r,i.batchId,n),await Ti(r,i.changes),await Eu(r.remoteStore)}catch(i){const s=bu(i,"Failed to persist write");n.reject(s)}}async function aA(t,e){const n=B(t);try{const r=await $5(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.cc.get(s);o&&(Z(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.nc=!0:i.modifiedDocuments.size>0?Z(o.nc):i.removedDocuments.size>0&&(Z(o.nc),o.nc=!1))}),await Ti(n,r,e)}catch(r){await Ts(r)}}function gI(t,e,n){const r=B(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ic.forEach((s,o)=>{const a=o.view.bu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=B(s);a.onlineState=o;let u=!1;a.queries.forEach((c,l)=>{for(const h of l.listeners)h.bu(o)&&(u=!0)}),u&&l1(a)}(r.eventManager,e),i.length&&r.sc.Wo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function gq(t,e,n){const r=B(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.cc.get(e),s=i&&i.key;if(s){let o=new tt(L.comparator);o=o.insert(s,Oe.newNoDocument(s,te.min()));const a=ue().add(s),u=new eh(te.min(),new Map,new xe(ae),o,a);await aA(r,u),r.uc=r.uc.remove(s),r.cc.delete(e),m1(r)}else await za(r.localStore,e,!1).then(()=>Wa(r,e,n)).catch(Ts)}async function yq(t,e){const n=B(t),r=e.batch.batchId;try{const i=await F5(n.localStore,e);p1(n,r,null),f1(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ti(n,i)}catch(i){await Ts(i)}}async function vq(t,e,n){const r=B(t);try{const i=await function(s,o){const a=B(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return a.mutationQueue.lookupMutationBatch(u,o).next(l=>(Z(l!==null),c=l.keys(),a.mutationQueue.removeMutationBatch(u,l))).next(()=>a.mutationQueue.performConsistencyCheck(u)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(u,c,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>a.localDocuments.getDocuments(u,c))})}(r.localStore,e);p1(r,e,n),f1(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Ti(r,i)}catch(i){await Ts(i)}}async function wq(t,e){const n=B(t);Rs(n.remoteStore)||O("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=await function(s){const o=B(s);return o.persistence.runTransaction("Get highest unacknowledged batch id","readonly",a=>o.mutationQueue.getHighestUnacknowledgedBatchId(a))}(n.localStore);if(r===-1)return void e.resolve();const i=n.lc.get(r)||[];i.push(e),n.lc.set(r,i)}catch(r){const i=bu(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}function f1(t,e){(t.lc.get(e)||[]).forEach(n=>{n.resolve()}),t.lc.delete(e)}function p1(t,e,n){const r=B(t);let i=r.hc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.hc[r.currentUser.toKey()]=i}}function Wa(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.rc.get(e))t.ic.delete(r),n&&t.sc.wc(r,n);t.rc.delete(e),t.isPrimaryClient&&t.ac.ls(e).forEach(r=>{t.ac.containsKey(r)||uA(t,r)})}function uA(t,e){t.oc.delete(e.path.canonicalString());const n=t.uc.get(e);n!==null&&(vl(t.remoteStore,n),t.uc=t.uc.remove(e),t.cc.delete(n),m1(t))}function bv(t,e,n){for(const r of n)r instanceof iA?(t.ac.addReference(r.key,e),_q(t,r)):r instanceof sA?(O("SyncEngine","Document no longer in limbo: "+r.key),t.ac.removeReference(r.key,e),t.ac.containsKey(r.key)||uA(t,r.key)):z()}function _q(t,e){const n=e.key,r=n.path.canonicalString();t.uc.get(n)||t.oc.has(r)||(O("SyncEngine","New document in limbo: "+n),t.oc.add(r),m1(t))}function m1(t){for(;t.oc.size>0&&t.uc.size<t.maxConcurrentLimboResolutions;){const e=t.oc.values().next().value;t.oc.delete(e);const n=new L(ge.fromString(e)),r=t.fc.next();t.cc.set(r,new hq(n)),t.uc=t.uc.insert(n,r),Bp(t.remoteStore,new rs(Tn(vu(n.path)),r,2,wn.at))}}async function Ti(t,e,n){const r=B(t),i=[],s=[],o=[];r.ic.isEmpty()||(r.ic.forEach((a,u)=>{o.push(r._c(u,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,c!=null&&c.fromCache?"not-current":"current"),c){i.push(c);const l=t1.Ci(u.targetId,c);s.push(l)}}))}),await Promise.all(o),r.sc.Wo(i),await async function(a,u){const c=B(a);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",l=>S.forEach(u,h=>S.forEach(h.Si,d=>c.persistence.referenceDelegate.addReference(l,h.targetId,d)).next(()=>S.forEach(h.Di,d=>c.persistence.referenceDelegate.removeReference(l,h.targetId,d)))))}catch(l){if(!ks(l))throw l;O("LocalStore","Failed to update sequence numbers: "+l)}for(const l of u){const h=l.targetId;if(!l.fromCache){const d=c.qi.get(h),f=d.snapshotVersion,p=d.withLastLimboFreeSnapshotVersion(f);c.qi=c.qi.insert(h,p)}}}(r.localStore,s))}async function Sq(t,e){const n=B(t);if(!n.currentUser.isEqual(e)){O("SyncEngine","User change. New user:",e.toKey());const r=await qP(n.localStore,e);n.currentUser=e,function(i,s){i.lc.forEach(o=>{o.forEach(a=>{a.reject(new A(I.CANCELLED,s))})}),i.lc.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ti(n,r.ji)}}function Eq(t,e){const n=B(t),r=n.cc.get(e);if(r&&r.nc)return ue().add(r.key);{let i=ue();const s=n.rc.get(e);if(!s)return i;for(const o of s){const a=n.ic.get(o);i=i.unionWith(a.view.ju)}return i}}async function Iq(t,e){const n=B(t),r=await yf(n.localStore,e.query,!0),i=e.view.tc(r);return n.isPrimaryClient&&bv(n,e.targetId,i.Xu),i}async function bq(t,e){const n=B(t);return KP(n.localStore,e).then(r=>Ti(n,r))}async function Tq(t,e,n,r){const i=B(t),s=await function(o,a){const u=B(o),c=B(u.mutationQueue);return u.persistence.runTransaction("Lookup mutation documents","readonly",l=>c.Tn(l,a).next(h=>h?u.localDocuments.getDocuments(l,h):S.resolve(null)))}(i.localStore,e);s!==null?(n==="pending"?await Eu(i.remoteStore):n==="acknowledged"||n==="rejected"?(p1(i,e,r||null),f1(i,e),function(o,a){B(B(o).mutationQueue).An(a)}(i.localStore,e)):z(),await Ti(i,s)):O("SyncEngine","Cannot apply mutation batch with id: "+e)}async function kq(t,e){const n=B(t);if(g1(n),y1(n),e===!0&&n.dc!==!0){const r=n.sharedClientState.getAllActiveQueryTargets(),i=await yI(n,r.toArray());n.dc=!0,await Iv(n.remoteStore,!0);for(const s of i)Bp(n.remoteStore,s)}else if(e===!1&&n.dc!==!1){const r=[];let i=Promise.resolve();n.rc.forEach((s,o)=>{n.sharedClientState.isLocalQueryTarget(o)?r.push(o):i=i.then(()=>(Wa(n,o),za(n.localStore,o,!0))),vl(n.remoteStore,o)}),await i,await yI(n,r),function(s){const o=B(s);o.cc.forEach((a,u)=>{vl(o.remoteStore,u)}),o.ac.fs(),o.cc=new Map,o.uc=new tt(L.comparator)}(n),n.dc=!1,await Iv(n.remoteStore,!1)}}async function yI(t,e,n){const r=B(t),i=[],s=[];for(const o of e){let a;const u=r.rc.get(o);if(u&&u.length!==0){a=await qa(r.localStore,Tn(u[0]));for(const c of u){const l=r.ic.get(c),h=await Iq(r,l);h.snapshot&&s.push(h.snapshot)}}else{const c=await WP(r.localStore,o);a=await qa(r.localStore,c),await d1(r,cA(c),o,!1,a.resumeToken)}i.push(a)}return r.sc.Wo(s),i}function cA(t){return QC(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function xq(t){const e=B(t);return B(B(e.localStore).persistence).vi()}async function Rq(t,e,n,r){const i=B(t);if(i.dc)return void O("SyncEngine","Ignoring unexpected query state notification.");const s=i.rc.get(e);if(s&&s.length>0)switch(n){case"current":case"not-current":{const o=await KP(i.localStore,XC(s[0])),a=eh.createSynthesizedRemoteEventForCurrentChange(e,n==="current",gt.EMPTY_BYTE_STRING);await Ti(i,o,a);break}case"rejected":await za(i.localStore,e,!0),Wa(i,e,r);break;default:z()}}async function Cq(t,e,n){const r=g1(t);if(r.dc){for(const i of e){if(r.rc.has(i)){O("SyncEngine","Adding an already active target "+i);continue}const s=await WP(r.localStore,i),o=await qa(r.localStore,s);await d1(r,cA(s),o.targetId,!1,o.resumeToken),Bp(r.remoteStore,o)}for(const i of n)r.rc.has(i)&&await za(r.localStore,i,!1).then(()=>{vl(r.remoteStore,i),Wa(r,i)}).catch(Ts)}}function g1(t){const e=B(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=aA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Eq.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=gq.bind(null,e),e.sc.Wo=oq.bind(null,e.eventManager),e.sc.wc=aq.bind(null,e.eventManager),e}function y1(t){const e=B(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=yq.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=vq.bind(null,e),e}function Pq(t,e,n){const r=B(t);(async function(i,s,o){try{const a=await s.getMetadata();if(await function(h,d){const f=B(h),p=at(d.createTime);return f.persistence.runTransaction("hasNewerBundle","readonly",m=>f.Ns.getBundleMetadata(m,d.id)).then(m=>!!m&&m.createTime.compareTo(p)>=0)}(i.localStore,a))return await s.close(),o._completeWith(function(h){return{taskState:"Success",documentsLoaded:h.totalDocuments,bytesLoaded:h.totalBytes,totalDocuments:h.totalDocuments,totalBytes:h.totalBytes}}(a)),Promise.resolve(new Set);o._updateProgress(rA(a));const u=new cq(a,i.localStore,s.yt);let c=await s.mc();for(;c;){const h=await u.Fu(c);h&&o._updateProgress(h),c=await s.mc()}const l=await u.complete();return await Ti(i,l.Lu,void 0),await function(h,d){const f=B(h);return f.persistence.runTransaction("Save bundle","readwrite",p=>f.Ns.saveBundleMetadata(p,d))}(i.localStore,a),o._completeWith(l.progress),Promise.resolve(l.Bu)}catch(a){return $a("SyncEngine",`Loading bundle failed with ${a}`),o._failWith(a),Promise.resolve(new Set)}})(r,e,n).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}class lA{constructor(){this.synchronizeTabs=!1}async initialize(e){this.yt=nh(e.databaseInfo.databaseId),this.sharedClientState=this.gc(e),this.persistence=this.yc(e),await this.persistence.start(),this.localStore=this.Ic(e),this.gcScheduler=this.Tc(e,this.localStore),this.indexBackfillerScheduler=this.Ec(e,this.localStore)}Tc(e,n){return null}Ec(e,n){return null}Ic(e){return BP(this.persistence,new VP,e.initialUser,this.yt)}yc(e){return new jP(Vp.Bs,this.yt)}gc(e){return new QP}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class hA extends lA{constructor(e,n,r){super(),this.Ac=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Ac.initialize(this,e),await y1(this.Ac.syncEngine),await Eu(this.Ac.remoteStore),await this.persistence.li(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}Ic(e){return BP(this.persistence,new VP,e.initialUser,this.yt)}Tc(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new _5(r,e.asyncQueue,n)}Ec(e,n){const r=new iB(n,this.persistence);return new rB(e.asyncQueue,r)}yc(e){const n=e1(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?gn.withCacheSize(this.cacheSizeBytes):gn.DEFAULT;return new Zw(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,YP(),pd(),this.yt,this.sharedClientState,!!this.forceOwnership)}gc(e){return new QP}}class Aq extends hA{constructor(e,n){super(e,n,!1),this.Ac=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const n=this.Ac.syncEngine;this.sharedClientState instanceof kg&&(this.sharedClientState.syncEngine={Fr:Tq.bind(null,n),$r:Rq.bind(null,n),Br:Cq.bind(null,n),vi:xq.bind(null,n),Mr:bq.bind(null,n)},await this.sharedClientState.start()),await this.persistence.li(async r=>{await kq(this.Ac.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())})}gc(e){const n=YP();if(!kg.C(n))throw new A(I.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=e1(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new kg(n,e.asyncQueue,r,e.clientId,e.initialUser)}}class v1{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>gI(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Sq.bind(null,this.syncEngine),await Iv(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new sq}createDatastore(e){const n=nh(e.databaseInfo.databaseId),r=(i=e.databaseInfo,new q5(i));var i;return function(s,o,a,u){return new W5(s,o,a,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>gI(this.syncEngine,a,0),o=dI.C()?new dI:new j5,new G5(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,u,c){const l=new dq(r,i,s,o,a,u);return c&&(l.dc=!0),l}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=B(e);O("RemoteStore","RemoteStore shutting down."),n._u.add(5),await Su(n),n.mu.shutdown(),n.gu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w1(t,e,n){if(!n)throw new A(I.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function dA(t,e,n,r){if(e===!0&&r===!0)throw new A(I.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function vI(t){if(!L.isDocumentKey(t))throw new A(I.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function wI(t){if(L.isDocumentKey(t))throw new A(I.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function qp(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":z()}function _e(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new A(I.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=qp(t);throw new A(I.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function fA(t,e){if(e<=0)throw new A(I.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _I=new Map;class SI{constructor(e){var n;if(e.host===void 0){if(e.ssl!==void 0)throw new A(I.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new A(I.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,dA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new SI({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new A(I.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new A(I.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new SI(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new H4;switch(n.type){case"gapi":const r=n.client;return new Q4(r,n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new A(I.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=_I.get(e);n&&(O("ComponentProvider","Removing Datastore"),_I.delete(e),n.terminate())}(this),Promise.resolve()}}function pA(t,e,n,r={}){var i;const s=(t=_e(t,ih))._getSettings();if(s.host!=="firestore.googleapis.com"&&s.host!==e&&$a("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${n}`,ssl:!1})),r.mockUserToken){let o,a;if(typeof r.mockUserToken=="string")o=r.mockUserToken,a=St.MOCK_USER;else{o=Hk(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new A(I.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new St(u)}t._authCredentials=new W4(new xC(o,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new jr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new De(this.firestore,e,this._key)}}class jt{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new jt(this.firestore,e,this._query)}}class jr extends jt{constructor(e,n,r){super(e,n,vu(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new De(this.firestore,null,new L(e))}withConverter(e){return new jr(this.firestore,e,this._path)}}function mA(t,e,...n){if(t=Q(t),w1("collection","path",e),t instanceof ih){const r=ge.fromString(e,...n);return wI(r),new jr(t,null,r)}{if(!(t instanceof De||t instanceof jr))throw new A(I.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ge.fromString(e,...n));return wI(r),new jr(t.firestore,null,r)}}function Oq(t,e){if(t=_e(t,ih),w1("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new A(I.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new jt(t,null,function(n){return new Ii(ge.emptyPath(),n)}(e))}function Sf(t,e,...n){if(t=Q(t),arguments.length===1&&(e=RC.R()),w1("doc","path",e),t instanceof ih){const r=ge.fromString(e,...n);return vI(r),new De(t,null,new L(r))}{if(!(t instanceof De||t instanceof jr))throw new A(I.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ge.fromString(e,...n));return vI(r),new De(t.firestore,t instanceof jr?t.converter:null,new L(r))}}function gA(t,e){return t=Q(t),e=Q(e),(t instanceof De||t instanceof jr)&&(e instanceof De||e instanceof jr)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function yA(t,e){return t=Q(t),e=Q(e),t instanceof jt&&e instanceof jt&&t.firestore===e.firestore&&Jl(t._query,e._query)&&t.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EI(t,e=10240){let n=0;return{async read(){if(n<t.byteLength){const r={value:t.slice(n,n+e),done:!1};return n+=e,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.reject("unimplemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):st("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}Rc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nq{constructor(e,n){this.Pc=e,this.yt=n,this.metadata=new It,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then(r=>{r&&r.Ou()?this.metadata.resolve(r.ku.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r==null?void 0:r.ku)}`))},r=>this.metadata.reject(r))}close(){return this.Pc.cancel()}async getMetadata(){return this.metadata.promise}async mc(){return await this.getMetadata(),this.Vc()}async Vc(){const e=await this.Sc();if(e===null)return null;const n=this.vc.decode(e),r=Number(n);isNaN(r)&&this.Dc(`length string (${n}) is not valid number`);const i=await this.Cc(r);return new uq(JSON.parse(i),e.length+r)}xc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}async Sc(){for(;this.xc()<0&&!await this.Nc(););if(this.buffer.length===0)return null;const e=this.xc();e<0&&this.Dc("Reached the end of bundle when a length string is expected.");const n=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),n}async Cc(e){for(;this.buffer.length<e;)await this.Nc()&&this.Dc("Reached the end of bundle when more is expected.");const n=this.vc.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),n}Dc(e){throw this.Pc.cancel(),new Error(`Invalid bundle format: ${e}`)}async Nc(){const e=await this.Pc.read();if(!e.done){const n=new Uint8Array(this.buffer.length+e.value.length);n.set(this.buffer),n.set(e.value,this.buffer.length),this.buffer=n}return e.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dq{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new A(I.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const n=await async function(r,i){const s=B(r),o=gl(s.yt)+"/documents",a={documents:i.map(h=>ml(s.yt,h))},u=await s._o("BatchGetDocuments",o,a,i.length),c=new Map;u.forEach(h=>{const d=$B(s.yt,h);c.set(d.key.toString(),d)});const l=[];return i.forEach(h=>{const d=c.get(h.toString());Z(!!d),l.push(d)}),l}(this.datastore,e);return n.forEach(r=>this.recordVersion(r)),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new _u(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;const e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,r)=>{const i=L.fromPath(r);this.mutations.push(new zw(i,this.precondition(i)))}),await async function(n,r){const i=B(n),s=gl(i.yt)+"/documents",o={writes:r.map(a=>yl(i.yt,a))};await i.ao("Commit",s,o)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw z();n=te.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new A(I.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(te.min())?je.exists(!1):je.updateTime(n):je.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(te.min()))throw new A(I.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return je.updateTime(n)}return je.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fq{constructor(e,n,r,i,s){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=s,this.kc=r.maxAttempts,this.xo=new r1(this.asyncQueue,"transaction_retry")}run(){this.kc-=1,this.Oc()}Oc(){this.xo.Ro(async()=>{const e=new Dq(this.datastore),n=this.Mc(e);n&&n.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.Fc(i)}))}).catch(r=>{this.Fc(r)})})}Mc(e){try{const n=this.updateFunction(e);return!Yl(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Fc(e){this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(e)}$c(e){if(e.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!uP(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $q{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=St.UNAUTHENTICATED,this.clientId=RC.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{O("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(O("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new A(I.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new It;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=bu(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function vA(t,e){t.asyncQueue.verifyOperationInProgress(),O("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await qP(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t.offlineComponents=e}async function wA(t,e){t.asyncQueue.verifyOperationInProgress();const n=await _1(t);O("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>fI(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>fI(e.remoteStore,s)),t.onlineComponents=e}async function _1(t){return t.offlineComponents||(O("FirestoreClient","Using default OfflineComponentProvider"),await vA(t,new lA)),t.offlineComponents}async function Hp(t){return t.onlineComponents||(O("FirestoreClient","Using default OnlineComponentProvider"),await wA(t,new v1)),t.onlineComponents}function _A(t){return _1(t).then(e=>e.persistence)}function S1(t){return _1(t).then(e=>e.localStore)}function SA(t){return Hp(t).then(e=>e.remoteStore)}function E1(t){return Hp(t).then(e=>e.syncEngine)}function Lq(t){return Hp(t).then(e=>e.datastore)}async function Ka(t){const e=await Hp(t),n=e.eventManager;return n.onListen=fq.bind(null,e.syncEngine),n.onUnlisten=pq.bind(null,e.syncEngine),n}function Mq(t){return t.asyncQueue.enqueue(async()=>{const e=await _A(t),n=await SA(t);return e.setNetworkEnabled(!0),function(r){const i=B(r);return i._u.delete(0),rh(i)}(n)})}function Uq(t){return t.asyncQueue.enqueue(async()=>{const e=await _A(t),n=await SA(t);return e.setNetworkEnabled(!1),async function(r){const i=B(r);i._u.add(0),await Su(i),i.gu.set("Offline")}(n)})}function jq(t,e){const n=new It;return t.asyncQueue.enqueueAndForget(async()=>async function(r,i,s){try{const o=await function(a,u){const c=B(a);return c.persistence.runTransaction("read document","readonly",l=>c.localDocuments.getDocument(l,u))}(r,i);o.isFoundDocument()?s.resolve(o):o.isNoDocument()?s.resolve(null):s.reject(new A(I.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(o){const a=bu(o,`Failed to get document '${i} from cache`);s.reject(a)}}(await S1(t),e,n)),n.promise}function EA(t,e,n={}){const r=new It;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,o,a,u){const c=new zp({next:h=>{s.enqueueAndForget(()=>c1(i,l));const d=h.docs.has(o);!d&&h.fromCache?u.reject(new A(I.UNAVAILABLE,"Failed to get document because the client is offline.")):d&&h.fromCache&&a&&a.source==="server"?u.reject(new A(I.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(h)},error:h=>u.reject(h)}),l=new h1(vu(o.path),c,{includeMetadataChanges:!0,Nu:!0});return u1(i,l)}(await Ka(t),t.asyncQueue,e,n,r)),r.promise}function Vq(t,e){const n=new It;return t.asyncQueue.enqueueAndForget(async()=>async function(r,i,s){try{const o=await yf(r,i,!0),a=new oA(i,o.Hi),u=a.Wu(o.documents),c=a.applyChanges(u,!1);s.resolve(c.snapshot)}catch(o){const a=bu(o,`Failed to execute query '${i} against cache`);s.reject(a)}}(await S1(t),e,n)),n.promise}function IA(t,e,n={}){const r=new It;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,o,a,u){const c=new zp({next:h=>{s.enqueueAndForget(()=>c1(i,l)),h.fromCache&&a.source==="server"?u.reject(new A(I.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(h)},error:h=>u.reject(h)}),l=new h1(o,c,{includeMetadataChanges:!0,Nu:!0});return u1(i,l)}(await Ka(t),t.asyncQueue,e,n,r)),r.promise}function Bq(t,e){const n=new zp(e);return t.asyncQueue.enqueueAndForget(async()=>function(r,i){B(r).Ru.add(i),i.next()}(await Ka(t),n)),()=>{n.bc(),t.asyncQueue.enqueueAndForget(async()=>function(r,i){B(r).Ru.delete(i)}(await Ka(t),n))}}function qq(t,e,n,r){const i=function(s,o){let a;return a=typeof s=="string"?new TextEncoder().encode(s):s,function(u,c){return new Nq(u,c)}(function(u,c){if(u instanceof Uint8Array)return EI(u,c);if(u instanceof ArrayBuffer)return EI(new Uint8Array(u),c);if(u instanceof ReadableStream)return u.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(a),o)}(n,nh(e));t.asyncQueue.enqueueAndForget(async()=>{Pq(await E1(t),i,r)})}function zq(t,e){return t.asyncQueue.enqueue(async()=>function(n,r){const i=B(n);return i.persistence.runTransaction("Get named query","readonly",s=>i.Ns.getNamedQuery(s,r))}(await S1(t),e))}class Hq{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new r1(this,"async_queue_retry"),this.Wc=()=>{const n=pd();n&&O("AsyncQueue","Visibility state changed to "+n.visibilityState),this.xo.Po()};const e=pd();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.qc){this.qc=!0,this.Qc=e||!1;const n=pd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.qc)return new Promise(()=>{});const n=new It;return this.Hc(()=>this.qc&&this.Qc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}async Jc(){if(this.Lc.length!==0){try{await this.Lc[0](),this.Lc.shift(),this.xo.reset()}catch(e){if(!ks(e))throw e;O("AsyncQueue","Operation failed with retryable error: "+e)}this.Lc.length>0&&this.xo.Ro(()=>this.Jc())}}Hc(e){const n=this.Bc.then(()=>(this.Gc=!0,e().catch(r=>{this.Kc=r,this.Gc=!1;const i=function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),o}(r);throw st("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Gc=!1,r))));return this.Bc=n,n}enqueueAfterDelay(e,n,r){this.zc(),this.jc.indexOf(e)>-1&&(n=0);const i=a1.createAndSchedule(this,e,n,r,s=>this.Yc(s));return this.Uc.push(i),i}zc(){this.Kc&&z()}verifyOperationInProgress(){}async Xc(){let e;do e=this.Bc,await e;while(e!==this.Bc)}Zc(e){for(const n of this.Uc)if(n.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.Uc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Uc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const n=this.Uc.indexOf(e);this.Uc.splice(n,1)}}function Tv(t){return function(e,n){if(typeof e!="object"||e===null)return!1;const r=e;for(const i of n)if(i in r&&typeof r[i]=="function")return!0;return!1}(t,["next","error","complete"])}class Wq{constructor(){this._progressObserver={},this._taskCompletionResolver=new It,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,r){this._progressObserver={next:e,error:n,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kq=-1;class nt extends ih{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Hq,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||bA(this),this._firestoreClient.terminate()}}function Gq(t,e){const n=typeof t=="object"?t:Xk(),r=typeof t=="string"?t:e||"(default)",i=z0(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=H$("firestore");s&&pA(i,...s)}return i}function Rt(t){return t._firestoreClient||bA(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function bA(t){var e;const n=t._freezeSettings(),r=function(i,s,o,a){return new sB(i,s,o,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new $q(t._authCredentials,t._appCheckCredentials,t._queue,r)}function Qq(t,e){kA(t=_e(t,nt));const n=Rt(t),r=t._freezeSettings(),i=new v1;return TA(n,i,new hA(i,r.cacheSizeBytes,e==null?void 0:e.forceOwnership))}function Yq(t){kA(t=_e(t,nt));const e=Rt(t),n=t._freezeSettings(),r=new v1;return TA(e,r,new Aq(r,n.cacheSizeBytes))}function TA(t,e,n){const r=new It;return t.asyncQueue.enqueue(async()=>{try{await vA(t,n),await wA(t,e),r.resolve()}catch(i){const s=i;if(!function(o){return o.name==="FirebaseError"?o.code===I.FAILED_PRECONDITION||o.code===I.UNIMPLEMENTED:typeof DOMException<"u"&&o instanceof DOMException?o.code===22||o.code===20||o.code===11:!0}(s))throw s;$a("Error enabling offline persistence. Falling back to persistence disabled: "+s),r.reject(s)}}).then(()=>r.promise)}function Xq(t){if(t._initialized&&!t._terminated)throw new A(I.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new It;return t._queue.enqueueAndForgetEvenWhileRestricted(async()=>{try{await async function(n){if(!ur.C())return Promise.resolve();const r=n+"main";await ur.delete(r)}(e1(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}}),e.promise}function Jq(t){return function(e){const n=new It;return e.asyncQueue.enqueueAndForget(async()=>wq(await E1(e),n)),n.promise}(Rt(t=_e(t,nt)))}function Zq(t){return Mq(Rt(t=_e(t,nt)))}function ez(t){return Uq(Rt(t=_e(t,nt)))}function tz(t,e){const n=Rt(t=_e(t,nt)),r=new Wq;return qq(n,t._databaseId,e,r),r}function nz(t,e){return zq(Rt(t=_e(t,nt)),e).then(n=>n?new jt(t,null,n.query):null)}function kA(t){if(t._initialized||t._terminated)throw new A(I.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Hr(gt.fromBase64String(e))}catch(n){throw new A(I.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Hr(gt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new A(I.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ot(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wp{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new A(I.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new A(I.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ae(this._lat,e._lat)||ae(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rz=/^__.*__$/;class iz{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new bi(e,this.data,this.fieldMask,n,this.fieldTransforms):new wu(e,this.data,n,this.fieldTransforms)}}class xA{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new bi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function RA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw z()}}class Kp{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.yt=r,this.ignoreUndefinedProperties=i,s===void 0&&this.na(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new Kp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ia({path:r,oa:!1});return i.ua(e),i}ca(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ia({path:r,oa:!1});return i.na(),i}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return Ef(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(e.length===0)throw this.ha("Document fields must not be empty");if(RA(this.sa)&&rz.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class sz{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.yt=r||nh(e)}da(e,n,r,i=!1){return new Kp({sa:e,methodName:n,fa:r,path:ot.emptyPath(),oa:!1,la:i},this.databaseId,this.yt,this.ignoreUndefinedProperties)}}function No(t){const e=t._freezeSettings(),n=nh(t._databaseId);return new sz(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Gp(t,e,n,r,i,s={}){const o=t.da(s.merge||s.mergeFields?2:0,e,n,i);k1("Data must be an object, but it was:",o,r);const a=AA(r,o);let u,c;if(s.merge)u=new $n(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const l=[];for(const h of s.mergeFields){const d=kv(e,h,n);if(!o.contains(d))throw new A(I.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);NA(l,d)||l.push(d)}u=new $n(l),c=o.fieldTransforms.filter(h=>u.covers(h.field))}else u=null,c=o.fieldTransforms;return new iz(new Dt(a),u,c)}class sh extends Oo{_toFieldTransform(e){if(e.sa!==2)throw e.sa===1?e.ha(`${this._methodName}() can only appear at the top level of your update data`):e.ha(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof sh}}function CA(t,e,n){return new Kp({sa:3,fa:e.settings.fa,methodName:t._methodName,oa:n},e.databaseId,e.yt,e.ignoreUndefinedProperties)}class I1 extends Oo{_toFieldTransform(e){return new Zl(e.path,new ja)}isEqual(e){return e instanceof I1}}class oz extends Oo{constructor(e,n){super(e),this._a=n}_toFieldTransform(e){const n=CA(this,e,!0),r=this._a.map(s=>Do(s,n)),i=new wo(r);return new Zl(e.path,i)}isEqual(e){return this===e}}class az extends Oo{constructor(e,n){super(e),this._a=n}_toFieldTransform(e){const n=CA(this,e,!0),r=this._a.map(s=>Do(s,n)),i=new _o(r);return new Zl(e.path,i)}isEqual(e){return this===e}}class uz extends Oo{constructor(e,n){super(e),this.wa=n}_toFieldTransform(e){const n=new Va(e.yt,tP(e.yt,this.wa));return new Zl(e.path,n)}isEqual(e){return this===e}}function b1(t,e,n,r){const i=t.da(1,e,n);k1("Data must be an object, but it was:",i,r);const s=[],o=Dt.empty();Ao(r,(u,c)=>{const l=x1(e,u,n);c=Q(c);const h=i.ca(l);if(c instanceof sh)s.push(l);else{const d=Do(c,h);d!=null&&(s.push(l),o.set(l,d))}});const a=new $n(s);return new xA(o,a,i.fieldTransforms)}function T1(t,e,n,r,i,s){const o=t.da(1,e,n),a=[kv(e,r,n)],u=[i];if(s.length%2!=0)throw new A(I.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<s.length;d+=2)a.push(kv(e,s[d])),u.push(s[d+1]);const c=[],l=Dt.empty();for(let d=a.length-1;d>=0;--d)if(!NA(c,a[d])){const f=a[d];let p=u[d];p=Q(p);const m=o.ca(f);if(p instanceof sh)c.push(f);else{const w=Do(p,m);w!=null&&(c.push(f),l.set(f,w))}}const h=new $n(c);return new xA(l,h,o.fieldTransforms)}function PA(t,e,n,r=!1){return Do(n,t.da(r?4:3,e))}function Do(t,e){if(OA(t=Q(t)))return k1("Unsupported field value:",e,t),AA(t,e);if(t instanceof Oo)return function(n,r){if(!RA(r.sa))throw r.ha(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ha(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.oa&&e.sa!==4)throw e.ha("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=Do(o,r.aa(s));a==null&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if((n=Q(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return tP(r.yt,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=Ve.fromDate(n);return{timestampValue:Ba(r.yt,i)}}if(n instanceof Ve){const i=new Ve(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Ba(r.yt,i)}}if(n instanceof Wp)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Hr)return{bytesValue:mP(r.yt,n._byteString)};if(n instanceof De){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r.ha(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Hw(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.ha(`Unsupported field value: ${qp(n)}`)}(t,e)}function AA(t,e){const n={};return FC(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ao(t,(r,i)=>{const s=Do(i,e.ra(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function OA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ve||t instanceof Wp||t instanceof Hr||t instanceof De||t instanceof Oo)}function k1(t,e,n){if(!OA(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=qp(n);throw r==="an object"?e.ha(t+" a custom object"):e.ha(t+" "+r)}}function kv(t,e,n){if((e=Q(e))instanceof ms)return e._internalPath;if(typeof e=="string")return x1(t,e);throw Ef("Field path arguments must be of type string or ",t,!1,void 0,n)}const cz=new RegExp("[~\\*/\\[\\]]");function x1(t,e,n){if(e.search(cz)>=0)throw Ef(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ms(...e.split("."))._internalPath}catch{throw Ef(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Ef(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new A(I.INVALID_ARGUMENT,a+t+u)}function NA(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new De(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new lz(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Qp("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class lz extends wl{data(){return super.data()}}function Qp(t,e){return typeof e=="string"?x1(t,e):e instanceof ms?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DA(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new A(I.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class R1{}class oh extends R1{}function Ai(t,e,...n){let r=[];e instanceof R1&&r.push(e),r=r.concat(n),function(i){const s=i.filter(a=>a instanceof C1).length,o=i.filter(a=>a instanceof Yp).length;if(s>1||s>0&&o>0)throw new A(I.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Yp extends oh{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Yp(e,n,r)}_apply(e){const n=this._parse(e);return $A(e._query,n),new jt(e.firestore,e.converter,pv(e._query,n))}_parse(e){const n=No(e.firestore);return function(i,s,o,a,u,c,l){let h;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new A(I.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){bI(l,c);const d=[];for(const f of l)d.push(II(a,i,f));h={arrayValue:{values:d}}}else h=II(a,i,l)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||bI(l,c),h=PA(o,s,l,c==="in"||c==="not-in");return he.create(u,c,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function hz(t,e,n){const r=e,i=Qp("where",t);return Yp._create(i,r,n)}class C1 extends R1{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new C1(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:be.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(r,i){let s=r;const o=i.getFlattenedFilters();for(const a of o)$A(s,a),s=pv(s,a)}(e._query,n),new jt(e.firestore,e.converter,pv(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class P1 extends oh{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new P1(e,n)}_apply(e){const n=function(r,i,s){if(r.startAt!==null)throw new A(I.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new A(I.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const o=new Ea(i,s);return function(a,u){if(Vw(a)===null){const c=Fp(a);c!==null&&LA(a,c,u.field)}}(r,o),o}(e._query,this._field,this._direction);return new jt(e.firestore,e.converter,function(r,i){const s=r.explicitOrderBy.concat([i]);return new Ii(r.path,r.collectionGroup,s,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,n))}}function dz(t,e="asc"){const n=e,r=Qp("orderBy",t);return P1._create(r,n)}class Xp extends oh{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Xp(e,n,r)}_apply(e){return new jt(e.firestore,e.converter,ff(e._query,this._limit,this._limitType))}}function fz(t){return fA("limit",t),Xp._create("limit",t,"F")}function pz(t){return fA("limitToLast",t),Xp._create("limitToLast",t,"L")}class Jp extends oh{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new Jp(e,n,r)}_apply(e){const n=FA(e,this.type,this._docOrFields,this._inclusive);return new jt(e.firestore,e.converter,function(r,i){return new Ii(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)}(e._query,n))}}function mz(...t){return Jp._create("startAt",t,!0)}function gz(...t){return Jp._create("startAfter",t,!1)}class Zp extends oh{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new Zp(e,n,r)}_apply(e){const n=FA(e,this.type,this._docOrFields,this._inclusive);return new jt(e.firestore,e.converter,function(r,i){return new Ii(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)}(e._query,n))}}function yz(...t){return Zp._create("endBefore",t,!1)}function vz(...t){return Zp._create("endAt",t,!0)}function FA(t,e,n,r){if(n[0]=Q(n[0]),n[0]instanceof wl)return function(i,s,o,a,u){if(!a)throw new A(I.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${o}().`);const c=[];for(const l of ro(i))if(l.field.isKeyField())c.push(yo(s,a.key));else{const h=a.data.field(l.field);if(jw(h))throw new A(I.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+l.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(h===null){const d=l.field.canonicalString();throw new A(I.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${d}' (used as the orderBy) does not exist.`)}c.push(h)}return new fs(c,u)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=No(t.firestore);return function(s,o,a,u,c,l){const h=s.explicitOrderBy;if(c.length>h.length)throw new A(I.INVALID_ARGUMENT,`Too many arguments provided to ${u}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const d=[];for(let f=0;f<c.length;f++){const p=c[f];if(h[f].field.isKeyField()){if(typeof p!="string")throw new A(I.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${u}(), but got a ${typeof p}`);if(!Bw(s)&&p.indexOf("/")!==-1)throw new A(I.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${u}() must be a plain document ID, but '${p}' contains a slash.`);const m=s.path.child(ge.fromString(p));if(!L.isDocumentKey(m))throw new A(I.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${u}() must result in a valid document path, but '${m}' is not because it contains an odd number of segments.`);const w=new L(m);d.push(yo(o,w))}else{const m=PA(a,u,p);d.push(m)}}return new fs(d,l)}(t._query,t.firestore._databaseId,i,e,n,r)}}function II(t,e,n){if(typeof(n=Q(n))=="string"){if(n==="")throw new A(I.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Bw(e)&&n.indexOf("/")!==-1)throw new A(I.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ge.fromString(n));if(!L.isDocumentKey(r))throw new A(I.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return yo(t,new L(r))}if(n instanceof De)return yo(t,n._key);throw new A(I.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${qp(n)}.`)}function bI(t,e){if(!Array.isArray(t)||t.length===0)throw new A(I.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(t.length>10)throw new A(I.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function $A(t,e){if(e.isInequality()){const r=Fp(t),i=e.field;if(r!==null&&!r.isEqual(i))throw new A(I.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const s=Vw(t);s!==null&&LA(t,i,s)}const n=function(r,i){for(const s of r)for(const o of s.getFlattenedFilters())if(i.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new A(I.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new A(I.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function LA(t,e,n){if(!n.isEqual(e))throw new A(I.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class A1{convertValue(e,n="none"){switch(go(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ze(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(mo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw z()}}convertObject(e,n){const r={};return Ao(e.fields,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new Wp(Ze(e.latitude),Ze(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=LC(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(dl(e));default:return null}}convertTimestamp(e){const n=hs(e);return new Ve(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ge.fromString(e);Z(TP(r));const i=new ls(r.get(1),r.get(3)),s=new L(r.popFirst(5));return i.isEqual(n)||st(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function em(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class wz extends A1{constructor(e){super(),this.firestore=e}convertBytes(e){return new Hr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new De(this.firestore,null,n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class gi extends wl{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new xc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Qp("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class xc extends gi{data(e={}){return super.data(e)}}class gs{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Gs(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new xc(this._firestore,this._userDataWriter,r.key,r,new Gs(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new A(I.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>{const a=new xc(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Gs(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);return o.doc,{type:"added",doc:a,oldIndex:-1,newIndex:s++}})}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||o.type!==3).map(o=>{const a=new xc(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Gs(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,c=-1;return o.type!==0&&(u=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),c=s.indexOf(o.doc.key)),{type:_z(o.type),doc:a,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function _z(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return z()}}function MA(t,e){return t instanceof gi&&e instanceof gi?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(t._document===null?e._document===null:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof gs&&e instanceof gs&&t._firestore===e._firestore&&yA(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sz(t){t=_e(t,De);const e=_e(t.firestore,nt);return EA(Rt(e),t._key).then(n=>O1(e,t,n))}class Fo extends A1{constructor(e){super(),this.firestore=e}convertBytes(e){return new Hr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new De(this.firestore,null,n)}}function Ez(t){t=_e(t,De);const e=_e(t.firestore,nt),n=Rt(e),r=new Fo(e);return jq(n,t._key).then(i=>new gi(e,r,t._key,i,new Gs(i!==null&&i.hasLocalMutations,!0),t.converter))}function Iz(t){t=_e(t,De);const e=_e(t.firestore,nt);return EA(Rt(e),t._key,{source:"server"}).then(n=>O1(e,t,n))}function bz(t){t=_e(t,jt);const e=_e(t.firestore,nt),n=Rt(e),r=new Fo(e);return DA(t._query),IA(n,t._query).then(i=>new gs(e,r,t,i))}function Tz(t){t=_e(t,jt);const e=_e(t.firestore,nt),n=Rt(e),r=new Fo(e);return Vq(n,t._query).then(i=>new gs(e,r,t,i))}function kz(t){t=_e(t,jt);const e=_e(t.firestore,nt),n=Rt(e),r=new Fo(e);return IA(n,t._query,{source:"server"}).then(i=>new gs(e,r,t,i))}function TI(t,e,n){t=_e(t,De);const r=_e(t.firestore,nt),i=em(t.converter,e,n);return ah(r,[Gp(No(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,je.none())])}function kI(t,e,n,...r){t=_e(t,De);const i=_e(t.firestore,nt),s=No(i);let o;return o=typeof(e=Q(e))=="string"||e instanceof ms?T1(s,"updateDoc",t._key,e,n,r):b1(s,"updateDoc",t._key,e),ah(i,[o.toMutation(t._key,je.exists(!0))])}function xz(t){return ah(_e(t.firestore,nt),[new _u(t._key,je.none())])}function Rz(t,e){const n=_e(t.firestore,nt),r=Sf(t),i=em(t.converter,e);return ah(n,[Gp(No(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,je.exists(!1))]).then(()=>r)}function UA(t,...e){var n,r,i;t=Q(t);let s={includeMetadataChanges:!1},o=0;typeof e[o]!="object"||Tv(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(Tv(e[o])){const h=e[o];e[o]=(n=h.next)===null||n===void 0?void 0:n.bind(h),e[o+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),e[o+2]=(i=h.complete)===null||i===void 0?void 0:i.bind(h)}let u,c,l;if(t instanceof De)c=_e(t.firestore,nt),l=vu(t._key.path),u={next:h=>{e[o]&&e[o](O1(c,t,h))},error:e[o+1],complete:e[o+2]};else{const h=_e(t,jt);c=_e(h.firestore,nt),l=h._query;const d=new Fo(c);u={next:f=>{e[o]&&e[o](new gs(c,d,h,f))},error:e[o+1],complete:e[o+2]},DA(t._query)}return function(h,d,f,p){const m=new zp(p),w=new h1(d,m,f);return h.asyncQueue.enqueueAndForget(async()=>u1(await Ka(h),w)),()=>{m.bc(),h.asyncQueue.enqueueAndForget(async()=>c1(await Ka(h),w))}}(Rt(c),l,a,u)}function Cz(t,e){return Bq(Rt(t=_e(t,nt)),Tv(e)?e:{next:e})}function ah(t,e){return function(n,r){const i=new It;return n.asyncQueue.enqueueAndForget(async()=>mq(await E1(n),r,i)),i.promise}(Rt(t),e)}function O1(t,e,n){const r=n.docs.get(e._key),i=new Fo(t);return new gi(t,i,e._key,r,new Gs(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pz={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Az{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=No(e)}set(e,n,r){this._verifyNotCommitted();const i=ji(e,this._firestore),s=em(i.converter,n,r),o=Gp(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(o.toMutation(i._key,je.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const s=ji(e,this._firestore);let o;return o=typeof(n=Q(n))=="string"||n instanceof ms?T1(this._dataReader,"WriteBatch.update",s._key,n,r,i):b1(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(o.toMutation(s._key,je.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=ji(e,this._firestore);return this._mutations=this._mutations.concat(new _u(n._key,je.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new A(I.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function ji(t,e){if((t=Q(t)).firestore!==e)throw new A(I.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oz extends class{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=No(e)}get(e){const n=ji(e,this._firestore),r=new wz(this._firestore);return this._transaction.lookup([n._key]).then(i=>{if(!i||i.length!==1)return z();const s=i[0];if(s.isFoundDocument())return new wl(this._firestore,r,s.key,s,n.converter);if(s.isNoDocument())return new wl(this._firestore,r,n._key,null,n.converter);throw z()})}set(e,n,r){const i=ji(e,this._firestore),s=em(i.converter,n,r),o=Gp(this._dataReader,"Transaction.set",i._key,s,i.converter!==null,r);return this._transaction.set(i._key,o),this}update(e,n,r,...i){const s=ji(e,this._firestore);let o;return o=typeof(n=Q(n))=="string"||n instanceof ms?T1(this._dataReader,"Transaction.update",s._key,n,r,i):b1(this._dataReader,"Transaction.update",s._key,n),this._transaction.update(s._key,o),this}delete(e){const n=ji(e,this._firestore);return this._transaction.delete(n._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=ji(e,this._firestore),r=new Fo(this._firestore);return super.get(e).then(i=>new gi(this._firestore,r,n._key,i._document,new Gs(!1,!1),n.converter))}}function Nz(t,e,n){t=_e(t,nt);const r=Object.assign(Object.assign({},Pz),n);return function(i){if(i.maxAttempts<1)throw new A(I.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(i,s,o){const a=new It;return i.asyncQueue.enqueueAndForget(async()=>{const u=await Lq(i);new Fq(i.asyncQueue,u,o,s,a).run()}),a.promise}(Rt(t),i=>e(new Oz(t,i)),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dz(){return new sh("deleteField")}function ac(){return new I1("serverTimestamp")}function Fz(...t){return new oz("arrayUnion",t)}function $z(...t){return new az("arrayRemove",t)}function Lz(t){return new uz("increment",t)}(function(t,e=!0){(function(n){yu=n})(_s),fi(new tr("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new nt(new K4(n.getProvider("auth-internal")),new X4(n.getProvider("app-check-internal")),function(a,u){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new A(I.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ls(a.options.projectId,u)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),Jn(IE,"3.8.0",t),Jn(IE,"3.8.0","esm2017")})();const Mz="@firebase/firestore-compat",Uz="0.3.0";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N1(t,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new A("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xI(){if(typeof Uint8Array>"u")throw new A("unimplemented","Uint8Arrays are not available in this environment.")}function RI(){if(!oB())throw new A("unimplemented","Blobs are unavailable in Firestore in this environment.")}let If=class{constructor(e){this._delegate=e}static fromBase64String(e){return RI(),new If(Hr.fromBase64String(e))}static fromUint8Array(e){return xI(),new If(Hr.fromUint8Array(e))}toBase64(){return RI(),this._delegate.toBase64()}toUint8Array(){return xI(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xv(t){return jz(t,["next","error","complete"])}function jz(t,e){if(typeof t!="object"||t===null)return!1;const n=t;for(const r of e)if(r in n&&typeof n[r]=="function")return!0;return!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vz{enableIndexedDbPersistence(e,n){return Qq(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return Yq(e._delegate)}clearIndexedDbPersistence(e){return Xq(e._delegate)}}class jA{constructor(e,n,r){this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof ls||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&$a("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},n),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,n,r={}){pA(this._delegate,e,n,r)}enableNetwork(){return Zq(this._delegate)}disableNetwork(){return ez(this._delegate)}enablePersistence(e){let n=!1,r=!1;return e&&(n=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,dA("synchronizeTabs",n,"experimentalForceOwningTab",r)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return Jq(this._delegate)}onSnapshotsInSync(e){return Cz(this._delegate,e)}get app(){if(!this._appCompat)throw new A("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Ga(this,mA(this._delegate,e))}catch(n){throw an(n,"collection()","Firestore.collection()")}}doc(e){try{return new Yn(this,Sf(this._delegate,e))}catch(n){throw an(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new rn(this,Oq(this._delegate,e))}catch(n){throw an(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return Nz(this._delegate,n=>e(new VA(this,n)))}batch(){return Rt(this._delegate),new BA(new Az(this._delegate,e=>ah(this._delegate,e)))}loadBundle(e){return tz(this._delegate,e)}namedQuery(e){return nz(this._delegate,e).then(n=>n?new rn(this,n):null)}}class tm extends A1{constructor(e){super(),this.firestore=e}convertBytes(e){return new If(new Hr(e))}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return Yn.forKey(n,this.firestore,null)}}function Bz(t){q4(t)}class VA{constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new tm(e)}get(e){const n=Qs(e);return this._delegate.get(n).then(r=>new _l(this._firestore,new gi(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,n.converter)))}set(e,n,r){const i=Qs(e);return r?(N1("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const s=Qs(e);return arguments.length===2?this._delegate.update(s,n):this._delegate.update(s,n,r,...i),this}delete(e){const n=Qs(e);return this._delegate.delete(n),this}}class BA{constructor(e){this._delegate=e}set(e,n,r){const i=Qs(e);return r?(N1("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const s=Qs(e);return arguments.length===2?this._delegate.update(s,n):this._delegate.update(s,n,r,...i),this}delete(e){const n=Qs(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}}class bo{constructor(e,n,r){this._firestore=e,this._userDataWriter=n,this._delegate=r}fromFirestore(e,n){const r=new xc(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Sl(this._firestore,r),n??{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){const r=bo.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let s=i.get(n);return s||(s=new bo(e,new tm(e),n),i.set(n,s)),s}}bo.INSTANCES=new WeakMap;class Yn{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new tm(e)}static forPath(e,n,r){if(e.length%2!==0)throw new A("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Yn(n,new De(n._delegate,r,new L(e)))}static forKey(e,n,r){return new Yn(n,new De(n._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Ga(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Ga(this.firestore,mA(this._delegate,e))}catch(n){throw an(n,"collection()","DocumentReference.collection()")}}isEqual(e){return e=Q(e),e instanceof De?gA(this._delegate,e):!1}set(e,n){n=N1("DocumentReference.set",n);try{return n?TI(this._delegate,e,n):TI(this._delegate,e)}catch(r){throw an(r,"setDoc()","DocumentReference.set()")}}update(e,n,...r){try{return arguments.length===1?kI(this._delegate,e):kI(this._delegate,e,n,...r)}catch(i){throw an(i,"updateDoc()","DocumentReference.update()")}}delete(){return xz(this._delegate)}onSnapshot(...e){const n=qA(e),r=zA(e,i=>new _l(this.firestore,new gi(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return UA(this._delegate,n,r)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=Ez(this._delegate):(e==null?void 0:e.source)==="server"?n=Iz(this._delegate):n=Sz(this._delegate),n.then(r=>new _l(this.firestore,new gi(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Yn(this.firestore,e?this._delegate.withConverter(bo.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function an(t,e,n){return t.message=t.message.replace(e,n),t}function qA(t){for(const e of t)if(typeof e=="object"&&!xv(e))return e;return{}}function zA(t,e){var n,r;let i;return xv(t[0])?i=t[0]:xv(t[1])?i=t[1]:typeof t[0]=="function"?i={next:t[0],error:t[1],complete:t[2]}:i={next:t[1],error:t[2],complete:t[3]},{next:s=>{i.next&&i.next(e(s))},error:(n=i.error)===null||n===void 0?void 0:n.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}class _l{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new Yn(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return MA(this._delegate,e._delegate)}}class Sl extends _l{data(e){const n=this._delegate.data(e);return z4(n!==void 0),n}}class rn{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new tm(e)}where(e,n,r){try{return new rn(this.firestore,Ai(this._delegate,hz(e,n,r)))}catch(i){throw an(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new rn(this.firestore,Ai(this._delegate,dz(e,n)))}catch(r){throw an(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new rn(this.firestore,Ai(this._delegate,fz(e)))}catch(n){throw an(n,"limit()","Query.limit()")}}limitToLast(e){try{return new rn(this.firestore,Ai(this._delegate,pz(e)))}catch(n){throw an(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new rn(this.firestore,Ai(this._delegate,mz(...e)))}catch(n){throw an(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new rn(this.firestore,Ai(this._delegate,gz(...e)))}catch(n){throw an(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new rn(this.firestore,Ai(this._delegate,yz(...e)))}catch(n){throw an(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new rn(this.firestore,Ai(this._delegate,vz(...e)))}catch(n){throw an(n,"endAt()","Query.endAt()")}}isEqual(e){return yA(this._delegate,e._delegate)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=Tz(this._delegate):(e==null?void 0:e.source)==="server"?n=kz(this._delegate):n=bz(this._delegate),n.then(r=>new Rv(this.firestore,new gs(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const n=qA(e),r=zA(e,i=>new Rv(this.firestore,new gs(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return UA(this._delegate,n,r)}withConverter(e){return new rn(this.firestore,e?this._delegate.withConverter(bo.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class qz{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new Sl(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Rv{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new rn(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Sl(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new qz(this._firestore,n))}forEach(e,n){this._delegate.forEach(r=>{e.call(n,new Sl(this._firestore,r))})}isEqual(e){return MA(this._delegate,e._delegate)}}class Ga extends rn{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Yn(this.firestore,e):null}doc(e){try{return e===void 0?new Yn(this.firestore,Sf(this._delegate)):new Yn(this.firestore,Sf(this._delegate,e))}catch(n){throw an(n,"doc()","CollectionReference.doc()")}}add(e){return Rz(this._delegate,e).then(n=>new Yn(this.firestore,n))}isEqual(e){return gA(this._delegate,e._delegate)}withConverter(e){return new Ga(this.firestore,e?this._delegate.withConverter(bo.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Qs(t){return _e(t,De)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D1{constructor(...e){this._delegate=new ms(...e)}static documentId(){return new D1(ot.keyField().canonicalString())}isEqual(e){return e=Q(e),e instanceof ms?this._delegate._internalPath.isEqual(e._internalPath):!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(e){this._delegate=e}static serverTimestamp(){const e=ac();return e._methodName="FieldValue.serverTimestamp",new Vs(e)}static delete(){const e=Dz();return e._methodName="FieldValue.delete",new Vs(e)}static arrayUnion(...e){const n=Fz(...e);return n._methodName="FieldValue.arrayUnion",new Vs(n)}static arrayRemove(...e){const n=$z(...e);return n._methodName="FieldValue.arrayRemove",new Vs(n)}static increment(e){const n=Lz(e);return n._methodName="FieldValue.increment",new Vs(n)}isEqual(e){return this._delegate.isEqual(e._delegate)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zz={Firestore:jA,GeoPoint:Wp,Timestamp:Ve,Blob:If,Transaction:VA,WriteBatch:BA,DocumentReference:Yn,DocumentSnapshot:_l,Query:rn,QueryDocumentSnapshot:Sl,QuerySnapshot:Rv,CollectionReference:Ga,FieldPath:D1,FieldValue:Vs,setLogLevel:Bz,CACHE_SIZE_UNLIMITED:Kq};function Hz(t,e){t.INTERNAL.registerComponent(new tr("firestore-compat",n=>{const r=n.getProvider("app-compat").getImmediate(),i=n.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},zz)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wz(t){Hz(t,(e,n)=>new jA(e,n,new Vz)),t.registerVersion(Mz,Uz)}Wz(mr);const Kz={apiKey:"AIzaSyAhefSFWNCr5lhGsA8ZYH9cZnuhyTTW5uI",authDomain:"tracking-15244.firebaseapp.com",projectId:"tracking-15244",storageBucket:"tracking-15244.appspot.com",messagingSenderId:"720411987487",appId:"1:720411987487:web:ac12bc2389458b0d4e8f2a",measurementId:"G-VHVPPSG6N9"},Gz=mr.initializeApp(Kz),Vr=mr.auth();mr.storage();const Qr=mr.firestore();mr.firestore();Gq(Gz);function hr(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function we(){return we=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},we.apply(this,arguments)}var ee={},Qz={get exports(){return ee},set exports(t){ee=t}},Yz="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Xz=Yz,Jz=Xz;function HA(){}function WA(){}WA.resetWarningCache=HA;var Zz=function(){function t(r,i,s,o,a,u){if(u!==Jz){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:WA,resetWarningCache:HA};return n.PropTypes=n,n};Qz.exports=Zz();function KA(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=KA(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function e6(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=KA(t))&&(r&&(r+=" "),r+=e);return r}function Xo(t){return t!==null&&typeof t=="object"&&t.constructor===Object}function GA(t){if(!Xo(t))return t;const e={};return Object.keys(t).forEach(n=>{e[n]=GA(t[n])}),e}function ai(t,e,n={clone:!0}){const r=n.clone?we({},t):t;return Xo(t)&&Xo(e)&&Object.keys(e).forEach(i=>{i!=="__proto__"&&(Xo(e[i])&&i in t&&Xo(t[i])?r[i]=ai(t[i],e[i],n):n.clone?r[i]=Xo(e[i])?GA(e[i]):e[i]:r[i]=e[i])}),r}function Qa(t){let e="https://mui.com/production-error/?code="+t;for(let n=1;n<arguments.length;n+=1)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+t+"; visit "+e+" for the full message."}function ui(t){if(typeof t!="string")throw new Error(Qa(7));return t.charAt(0).toUpperCase()+t.slice(1)}function QA(t,e){const n=we({},e);return Object.keys(t).forEach(r=>{if(r.toString().match(/^(components|slots)$/))n[r]=we({},t[r],n[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const i=t[r]||{},s=e[r];n[r]={},!s||!Object.keys(s)?n[r]=i:!i||!Object.keys(i)?n[r]=s:(n[r]=we({},s),Object.keys(i).forEach(o=>{n[r][o]=QA(i[o],s[o])}))}else n[r]===void 0&&(n[r]=t[r])}),n}function t6(t,e,n){const r={};return Object.keys(t).forEach(i=>{r[i]=t[i].reduce((s,o)=>(o&&(s.push(e(o)),n&&n[o]&&s.push(n[o])),s),[]).join(" ")}),r}const CI=t=>t,n6=()=>{let t=CI;return{configure(e){t=e},generate(e){return t(e)},reset(){t=CI}}},r6=n6(),i6=r6,s6={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",required:"required",selected:"selected"};function YA(t,e,n="Mui"){const r=s6[e];return r?`${n}-${r}`:`${i6.generate(t)}-${e}`}function o6(t,e,n="Mui"){const r={};return e.forEach(i=>{r[i]=YA(t,i,n)}),r}function XA(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var a6=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,u6=XA(function(t){return a6.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91});function c6(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function l6(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var h6=function(){function t(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(l6(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=c6(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},t}(),Wt="-ms-",bf="-moz-",Se="-webkit-",JA="comm",F1="rule",$1="decl",d6="@import",ZA="@keyframes",f6=Math.abs,nm=String.fromCharCode,p6=Object.assign;function m6(t,e){return Nt(t,0)^45?(((e<<2^Nt(t,0))<<2^Nt(t,1))<<2^Nt(t,2))<<2^Nt(t,3):0}function eO(t){return t.trim()}function g6(t,e){return(t=e.exec(t))?t[0]:t}function Ee(t,e,n){return t.replace(e,n)}function Cv(t,e){return t.indexOf(e)}function Nt(t,e){return t.charCodeAt(e)|0}function El(t,e,n){return t.slice(e,n)}function Er(t){return t.length}function L1(t){return t.length}function Wh(t,e){return e.push(t),t}function y6(t,e){return t.map(e).join("")}var rm=1,Ya=1,tO=0,kn=0,ct=0,Tu="";function im(t,e,n,r,i,s,o){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:rm,column:Ya,length:o,return:""}}function Wu(t,e){return p6(im("",null,null,"",null,null,0),t,{length:-t.length},e)}function v6(){return ct}function w6(){return ct=kn>0?Nt(Tu,--kn):0,Ya--,ct===10&&(Ya=1,rm--),ct}function Ln(){return ct=kn<tO?Nt(Tu,kn++):0,Ya++,ct===10&&(Ya=1,rm++),ct}function Br(){return Nt(Tu,kn)}function md(){return kn}function uh(t,e){return El(Tu,t,e)}function Il(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function nO(t){return rm=Ya=1,tO=Er(Tu=t),kn=0,[]}function rO(t){return Tu="",t}function gd(t){return eO(uh(kn-1,Pv(t===91?t+2:t===40?t+1:t)))}function _6(t){for(;(ct=Br())&&ct<33;)Ln();return Il(t)>2||Il(ct)>3?"":" "}function S6(t,e){for(;--e&&Ln()&&!(ct<48||ct>102||ct>57&&ct<65||ct>70&&ct<97););return uh(t,md()+(e<6&&Br()==32&&Ln()==32))}function Pv(t){for(;Ln();)switch(ct){case t:return kn;case 34:case 39:t!==34&&t!==39&&Pv(ct);break;case 40:t===41&&Pv(t);break;case 92:Ln();break}return kn}function E6(t,e){for(;Ln()&&t+ct!==47+10;)if(t+ct===42+42&&Br()===47)break;return"/*"+uh(e,kn-1)+"*"+nm(t===47?t:Ln())}function I6(t){for(;!Il(Br());)Ln();return uh(t,kn)}function b6(t){return rO(yd("",null,null,null,[""],t=nO(t),0,[0],t))}function yd(t,e,n,r,i,s,o,a,u){for(var c=0,l=0,h=o,d=0,f=0,p=0,m=1,w=1,y=1,g=0,v="",_=i,k=s,x=r,R=v;w;)switch(p=g,g=Ln()){case 40:if(p!=108&&Nt(R,h-1)==58){Cv(R+=Ee(gd(g),"&","&\f"),"&\f")!=-1&&(y=-1);break}case 34:case 39:case 91:R+=gd(g);break;case 9:case 10:case 13:case 32:R+=_6(p);break;case 92:R+=S6(md()-1,7);continue;case 47:switch(Br()){case 42:case 47:Wh(T6(E6(Ln(),md()),e,n),u);break;default:R+="/"}break;case 123*m:a[c++]=Er(R)*y;case 125*m:case 59:case 0:switch(g){case 0:case 125:w=0;case 59+l:f>0&&Er(R)-h&&Wh(f>32?AI(R+";",r,n,h-1):AI(Ee(R," ","")+";",r,n,h-2),u);break;case 59:R+=";";default:if(Wh(x=PI(R,e,n,c,l,i,a,v,_=[],k=[],h),s),g===123)if(l===0)yd(R,e,x,x,_,s,h,a,k);else switch(d===99&&Nt(R,3)===110?100:d){case 100:case 109:case 115:yd(t,x,x,r&&Wh(PI(t,x,x,0,0,i,a,v,i,_=[],h),k),i,k,h,a,r?_:k);break;default:yd(R,x,x,x,[""],k,0,a,k)}}c=l=f=0,m=y=1,v=R="",h=o;break;case 58:h=1+Er(R),f=p;default:if(m<1){if(g==123)--m;else if(g==125&&m++==0&&w6()==125)continue}switch(R+=nm(g),g*m){case 38:y=l>0?1:(R+="\f",-1);break;case 44:a[c++]=(Er(R)-1)*y,y=1;break;case 64:Br()===45&&(R+=gd(Ln())),d=Br(),l=h=Er(v=R+=I6(md())),g++;break;case 45:p===45&&Er(R)==2&&(m=0)}}return s}function PI(t,e,n,r,i,s,o,a,u,c,l){for(var h=i-1,d=i===0?s:[""],f=L1(d),p=0,m=0,w=0;p<r;++p)for(var y=0,g=El(t,h+1,h=f6(m=o[p])),v=t;y<f;++y)(v=eO(m>0?d[y]+" "+g:Ee(g,/&\f/g,d[y])))&&(u[w++]=v);return im(t,e,n,i===0?F1:a,u,c,l)}function T6(t,e,n){return im(t,e,n,JA,nm(v6()),El(t,2,-2),0)}function AI(t,e,n,r){return im(t,e,n,$1,El(t,0,r),El(t,r+1,-1),r)}function ba(t,e){for(var n="",r=L1(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function k6(t,e,n,r){switch(t.type){case d6:case $1:return t.return=t.return||t.value;case JA:return"";case ZA:return t.return=t.value+"{"+ba(t.children,r)+"}";case F1:t.value=t.props.join(",")}return Er(n=ba(t.children,r))?t.return=t.value+"{"+n+"}":""}function x6(t){var e=L1(t);return function(n,r,i,s){for(var o="",a=0;a<e;a++)o+=t[a](n,r,i,s)||"";return o}}function R6(t){return function(e){e.root||(e=e.return)&&t(e)}}var C6=function(e,n,r){for(var i=0,s=0;i=s,s=Br(),i===38&&s===12&&(n[r]=1),!Il(s);)Ln();return uh(e,kn)},P6=function(e,n){var r=-1,i=44;do switch(Il(i)){case 0:i===38&&Br()===12&&(n[r]=1),e[r]+=C6(kn-1,n,r);break;case 2:e[r]+=gd(i);break;case 4:if(i===44){e[++r]=Br()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=nm(i)}while(i=Ln());return e},A6=function(e,n){return rO(P6(nO(e),n))},OI=new WeakMap,O6=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!OI.get(r))&&!i){OI.set(e,!0);for(var s=[],o=A6(n,s),a=r.props,u=0,c=0;u<o.length;u++)for(var l=0;l<a.length;l++,c++)e.props[c]=s[u]?o[u].replace(/&\f/g,a[l]):a[l]+" "+o[u]}}},N6=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function iO(t,e){switch(m6(t,e)){case 5103:return Se+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Se+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Se+t+bf+t+Wt+t+t;case 6828:case 4268:return Se+t+Wt+t+t;case 6165:return Se+t+Wt+"flex-"+t+t;case 5187:return Se+t+Ee(t,/(\w+).+(:[^]+)/,Se+"box-$1$2"+Wt+"flex-$1$2")+t;case 5443:return Se+t+Wt+"flex-item-"+Ee(t,/flex-|-self/,"")+t;case 4675:return Se+t+Wt+"flex-line-pack"+Ee(t,/align-content|flex-|-self/,"")+t;case 5548:return Se+t+Wt+Ee(t,"shrink","negative")+t;case 5292:return Se+t+Wt+Ee(t,"basis","preferred-size")+t;case 6060:return Se+"box-"+Ee(t,"-grow","")+Se+t+Wt+Ee(t,"grow","positive")+t;case 4554:return Se+Ee(t,/([^-])(transform)/g,"$1"+Se+"$2")+t;case 6187:return Ee(Ee(Ee(t,/(zoom-|grab)/,Se+"$1"),/(image-set)/,Se+"$1"),t,"")+t;case 5495:case 3959:return Ee(t,/(image-set\([^]*)/,Se+"$1$`$1");case 4968:return Ee(Ee(t,/(.+:)(flex-)?(.*)/,Se+"box-pack:$3"+Wt+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Se+t+t;case 4095:case 3583:case 4068:case 2532:return Ee(t,/(.+)-inline(.+)/,Se+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Er(t)-1-e>6)switch(Nt(t,e+1)){case 109:if(Nt(t,e+4)!==45)break;case 102:return Ee(t,/(.+:)(.+)-([^]+)/,"$1"+Se+"$2-$3$1"+bf+(Nt(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~Cv(t,"stretch")?iO(Ee(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(Nt(t,e+1)!==115)break;case 6444:switch(Nt(t,Er(t)-3-(~Cv(t,"!important")&&10))){case 107:return Ee(t,":",":"+Se)+t;case 101:return Ee(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Se+(Nt(t,14)===45?"inline-":"")+"box$3$1"+Se+"$2$3$1"+Wt+"$2box$3")+t}break;case 5936:switch(Nt(t,e+11)){case 114:return Se+t+Wt+Ee(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Se+t+Wt+Ee(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Se+t+Wt+Ee(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Se+t+Wt+t+t}return t}var D6=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case $1:e.return=iO(e.value,e.length);break;case ZA:return ba([Wu(e,{value:Ee(e.value,"@","@"+Se)})],i);case F1:if(e.length)return y6(e.props,function(s){switch(g6(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return ba([Wu(e,{props:[Ee(s,/:(read-\w+)/,":"+bf+"$1")]})],i);case"::placeholder":return ba([Wu(e,{props:[Ee(s,/:(plac\w+)/,":"+Se+"input-$1")]}),Wu(e,{props:[Ee(s,/:(plac\w+)/,":"+bf+"$1")]}),Wu(e,{props:[Ee(s,/:(plac\w+)/,Wt+"input-$1")]})],i)}return""})}},F6=[D6],$6=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(m){var w=m.getAttribute("data-emotion");w.indexOf(" ")!==-1&&(document.head.appendChild(m),m.setAttribute("data-s",""))})}var i=e.stylisPlugins||F6,s={},o,a=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(m){for(var w=m.getAttribute("data-emotion").split(" "),y=1;y<w.length;y++)s[w[y]]=!0;a.push(m)});var u,c=[O6,N6];{var l,h=[k6,R6(function(m){l.insert(m)})],d=x6(c.concat(i,h)),f=function(w){return ba(b6(w),d)};u=function(w,y,g,v){l=g,f(w?w+"{"+y.styles+"}":y.styles),v&&(p.inserted[y.name]=!0)}}var p={key:n,sheet:new h6({key:n,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:u};return p.sheet.hydrate(a),p},Av={},L6={get exports(){return Av},set exports(t){Av=t}},ke={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ct=typeof Symbol=="function"&&Symbol.for,M1=Ct?Symbol.for("react.element"):60103,U1=Ct?Symbol.for("react.portal"):60106,sm=Ct?Symbol.for("react.fragment"):60107,om=Ct?Symbol.for("react.strict_mode"):60108,am=Ct?Symbol.for("react.profiler"):60114,um=Ct?Symbol.for("react.provider"):60109,cm=Ct?Symbol.for("react.context"):60110,j1=Ct?Symbol.for("react.async_mode"):60111,lm=Ct?Symbol.for("react.concurrent_mode"):60111,hm=Ct?Symbol.for("react.forward_ref"):60112,dm=Ct?Symbol.for("react.suspense"):60113,M6=Ct?Symbol.for("react.suspense_list"):60120,fm=Ct?Symbol.for("react.memo"):60115,pm=Ct?Symbol.for("react.lazy"):60116,U6=Ct?Symbol.for("react.block"):60121,j6=Ct?Symbol.for("react.fundamental"):60117,V6=Ct?Symbol.for("react.responder"):60118,B6=Ct?Symbol.for("react.scope"):60119;function qn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case M1:switch(t=t.type,t){case j1:case lm:case sm:case am:case om:case dm:return t;default:switch(t=t&&t.$$typeof,t){case cm:case hm:case pm:case fm:case um:return t;default:return e}}case U1:return e}}}function sO(t){return qn(t)===lm}ke.AsyncMode=j1;ke.ConcurrentMode=lm;ke.ContextConsumer=cm;ke.ContextProvider=um;ke.Element=M1;ke.ForwardRef=hm;ke.Fragment=sm;ke.Lazy=pm;ke.Memo=fm;ke.Portal=U1;ke.Profiler=am;ke.StrictMode=om;ke.Suspense=dm;ke.isAsyncMode=function(t){return sO(t)||qn(t)===j1};ke.isConcurrentMode=sO;ke.isContextConsumer=function(t){return qn(t)===cm};ke.isContextProvider=function(t){return qn(t)===um};ke.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===M1};ke.isForwardRef=function(t){return qn(t)===hm};ke.isFragment=function(t){return qn(t)===sm};ke.isLazy=function(t){return qn(t)===pm};ke.isMemo=function(t){return qn(t)===fm};ke.isPortal=function(t){return qn(t)===U1};ke.isProfiler=function(t){return qn(t)===am};ke.isStrictMode=function(t){return qn(t)===om};ke.isSuspense=function(t){return qn(t)===dm};ke.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===sm||t===lm||t===am||t===om||t===dm||t===M6||typeof t=="object"&&t!==null&&(t.$$typeof===pm||t.$$typeof===fm||t.$$typeof===um||t.$$typeof===cm||t.$$typeof===hm||t.$$typeof===j6||t.$$typeof===V6||t.$$typeof===B6||t.$$typeof===U6)};ke.typeOf=qn;(function(t){t.exports=ke})(L6);var oO=Av,q6={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},z6={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},aO={};aO[oO.ForwardRef]=q6;aO[oO.Memo]=z6;var H6=!0;function W6(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):r+=i+" "}),r}var uO=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||H6===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},K6=function(e,n,r){uO(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var s=n;do e.insert(n===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function G6(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var Q6={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Y6=/[A-Z]|^ms/g,X6=/_EMO_([^_]+?)_([^]*?)_EMO_/g,cO=function(e){return e.charCodeAt(1)===45},NI=function(e){return e!=null&&typeof e!="boolean"},xg=XA(function(t){return cO(t)?t:t.replace(Y6,"-$&").toLowerCase()}),DI=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(X6,function(r,i,s){return Ir={name:i,styles:s,next:Ir},i})}return Q6[e]!==1&&!cO(e)&&typeof n=="number"&&n!==0?n+"px":n};function bl(t,e,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return Ir={name:n.name,styles:n.styles,next:Ir},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)Ir={name:r.name,styles:r.styles,next:Ir},r=r.next;var i=n.styles+";";return i}return J6(t,e,n)}case"function":{if(t!==void 0){var s=Ir,o=n(t);return Ir=s,bl(t,e,o)}break}}if(e==null)return n;var a=e[n];return a!==void 0?a:n}function J6(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=bl(t,e,n[i])+";";else for(var s in n){var o=n[s];if(typeof o!="object")e!=null&&e[o]!==void 0?r+=s+"{"+e[o]+"}":NI(o)&&(r+=xg(s)+":"+DI(s,o)+";");else if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var a=0;a<o.length;a++)NI(o[a])&&(r+=xg(s)+":"+DI(s,o[a])+";");else{var u=bl(t,e,o);switch(s){case"animation":case"animationName":{r+=xg(s)+":"+u+";";break}default:r+=s+"{"+u+"}"}}}return r}var FI=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Ir,lO=function(e,n,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var i=!0,s="";Ir=void 0;var o=e[0];o==null||o.raw===void 0?(i=!1,s+=bl(r,n,o)):s+=o[0];for(var a=1;a<e.length;a++)s+=bl(r,n,e[a]),i&&(s+=o[a]);FI.lastIndex=0;for(var u="",c;(c=FI.exec(s))!==null;)u+="-"+c[1];var l=G6(s)+u;return{name:l,styles:s,next:Ir}},Z6=function(e){return e()},eH=Oc["useInsertionEffect"]?Oc["useInsertionEffect"]:!1,tH=eH||Z6,hO=T.createContext(typeof HTMLElement<"u"?$6({key:"css"}):null);hO.Provider;var nH=function(e){return T.forwardRef(function(n,r){var i=T.useContext(hO);return e(n,i,r)})},rH=T.createContext({});function V1(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return lO(e)}var dO=function(){var e=V1.apply(void 0,arguments),n="animation-"+e.name;return{name:n,styles:"@keyframes "+n+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},iH=u6,sH=function(e){return e!=="theme"},$I=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?iH:sH},LI=function(e,n,r){var i;if(n){var s=n.shouldForwardProp;i=e.__emotion_forwardProp&&s?function(o){return e.__emotion_forwardProp(o)&&s(o)}:s}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},oH=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return uO(n,r,i),tH(function(){return K6(n,r,i)}),null},aH=function t(e,n){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,s,o;n!==void 0&&(s=n.label,o=n.target);var a=LI(e,n,r),u=a||$I(i),c=!u("as");return function(){var l=arguments,h=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(s!==void 0&&h.push("label:"+s+";"),l[0]==null||l[0].raw===void 0)h.push.apply(h,l);else{h.push(l[0][0]);for(var d=l.length,f=1;f<d;f++)h.push(l[f],l[0][f])}var p=nH(function(m,w,y){var g=c&&m.as||i,v="",_=[],k=m;if(m.theme==null){k={};for(var x in m)k[x]=m[x];k.theme=T.useContext(rH)}typeof m.className=="string"?v=W6(w.registered,_,m.className):m.className!=null&&(v=m.className+" ");var R=lO(h.concat(_),w.registered,k);v+=w.key+"-"+R.name,o!==void 0&&(v+=" "+o);var U=c&&a===void 0?$I(g):u,G={};for(var Y in m)c&&Y==="as"||U(Y)&&(G[Y]=m[Y]);return G.className=v,G.ref=y,T.createElement(T.Fragment,null,T.createElement(oH,{cache:w,serialized:R,isStringTag:typeof g=="string"}),T.createElement(g,G))});return p.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",p.defaultProps=e.defaultProps,p.__emotion_real=p,p.__emotion_base=i,p.__emotion_styles=h,p.__emotion_forwardProp=a,Object.defineProperty(p,"toString",{value:function(){return"."+o}}),p.withComponent=function(m,w){return t(m,we({},n,w,{shouldForwardProp:LI(p,w,!0)})).apply(void 0,h)},p}},uH=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],Ov=aH.bind();uH.forEach(function(t){Ov[t]=Ov(t)});const cH=Ov;/** @license MUI v5.11.0
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function lH(t,e){return cH(t,e)}const hH=(t,e)=>{Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))};function Rc(t,e){return e?ai(t,e,{clone:!1}):t}const B1={xs:0,sm:600,md:900,lg:1200,xl:1536},MI={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${B1[t]}px)`};function yi(t,e,n){const r=t.theme||{};if(Array.isArray(e)){const s=r.breakpoints||MI;return e.reduce((o,a,u)=>(o[s.up(s.keys[u])]=n(e[u]),o),{})}if(typeof e=="object"){const s=r.breakpoints||MI;return Object.keys(e).reduce((o,a)=>{if(Object.keys(s.values||B1).indexOf(a)!==-1){const u=s.up(a);o[u]=n(e[a],a)}else{const u=a;o[u]=e[u]}return o},{})}return n(e)}function dH(t={}){var e;return((e=t.keys)==null?void 0:e.reduce((r,i)=>{const s=t.up(i);return r[s]={},r},{}))||{}}function fH(t,e){return t.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},e)}function mm(t,e,n=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&n){const r=`vars.${e}`.split(".").reduce((i,s)=>i&&i[s]?i[s]:null,t);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,t)}function Tf(t,e,n,r=n){let i;return typeof t=="function"?i=t(n):Array.isArray(t)?i=t[n]||r:i=mm(t,n)||r,e&&(i=e(i,r,t)),i}function Ie(t){const{prop:e,cssProperty:n=t.prop,themeKey:r,transform:i}=t,s=o=>{if(o[e]==null)return null;const a=o[e],u=o.theme,c=mm(u,r)||{};return yi(o,a,h=>{let d=Tf(c,i,h);return h===d&&typeof h=="string"&&(d=Tf(c,i,`${e}${h==="default"?"":ui(h)}`,h)),n===!1?d:{[n]:d}})};return s.propTypes={},s.filterProps=[e],s}function gm(...t){const e=t.reduce((r,i)=>(i.filterProps.forEach(s=>{r[s]=i}),r),{}),n=r=>Object.keys(r).reduce((i,s)=>e[s]?Rc(i,e[s](r)):i,{});return n.propTypes={},n.filterProps=t.reduce((r,i)=>r.concat(i.filterProps),[]),n}function pH(t){const e={};return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}const mH={m:"margin",p:"padding"},gH={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},UI={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},yH=pH(t=>{if(t.length>2)if(UI[t])t=UI[t];else return[t];const[e,n]=t.split(""),r=mH[e],i=gH[n]||"";return Array.isArray(i)?i.map(s=>r+s):[r+i]}),q1=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],z1=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...q1,...z1];function ch(t,e,n,r){var i;const s=(i=mm(t,e,!1))!=null?i:n;return typeof s=="number"?o=>typeof o=="string"?o:s*o:Array.isArray(s)?o=>typeof o=="string"?o:s[o]:typeof s=="function"?s:()=>{}}function fO(t){return ch(t,"spacing",8)}function lh(t,e){if(typeof e=="string"||e==null)return e;const n=Math.abs(e),r=t(n);return e>=0?r:typeof r=="number"?-r:`-${r}`}function vH(t,e){return n=>t.reduce((r,i)=>(r[i]=lh(e,n),r),{})}function wH(t,e,n,r){if(e.indexOf(n)===-1)return null;const i=yH(n),s=vH(i,r),o=t[n];return yi(t,o,s)}function pO(t,e){const n=fO(t.theme);return Object.keys(t).map(r=>wH(t,e,r,n)).reduce(Rc,{})}function Ye(t){return pO(t,q1)}Ye.propTypes={};Ye.filterProps=q1;function Xe(t){return pO(t,z1)}Xe.propTypes={};Xe.filterProps=z1;function Ar(t){return typeof t!="number"?t:`${t}px solid`}const _H=Ie({prop:"border",themeKey:"borders",transform:Ar}),SH=Ie({prop:"borderTop",themeKey:"borders",transform:Ar}),EH=Ie({prop:"borderRight",themeKey:"borders",transform:Ar}),IH=Ie({prop:"borderBottom",themeKey:"borders",transform:Ar}),bH=Ie({prop:"borderLeft",themeKey:"borders",transform:Ar}),TH=Ie({prop:"borderColor",themeKey:"palette"}),kH=Ie({prop:"borderTopColor",themeKey:"palette"}),xH=Ie({prop:"borderRightColor",themeKey:"palette"}),RH=Ie({prop:"borderBottomColor",themeKey:"palette"}),CH=Ie({prop:"borderLeftColor",themeKey:"palette"}),ym=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=ch(t.theme,"shape.borderRadius",4),n=r=>({borderRadius:lh(e,r)});return yi(t,t.borderRadius,n)}return null};ym.propTypes={};ym.filterProps=["borderRadius"];gm(_H,SH,EH,IH,bH,TH,kH,xH,RH,CH,ym);const vm=t=>{if(t.gap!==void 0&&t.gap!==null){const e=ch(t.theme,"spacing",8),n=r=>({gap:lh(e,r)});return yi(t,t.gap,n)}return null};vm.propTypes={};vm.filterProps=["gap"];const wm=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=ch(t.theme,"spacing",8),n=r=>({columnGap:lh(e,r)});return yi(t,t.columnGap,n)}return null};wm.propTypes={};wm.filterProps=["columnGap"];const _m=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=ch(t.theme,"spacing",8),n=r=>({rowGap:lh(e,r)});return yi(t,t.rowGap,n)}return null};_m.propTypes={};_m.filterProps=["rowGap"];const PH=Ie({prop:"gridColumn"}),AH=Ie({prop:"gridRow"}),OH=Ie({prop:"gridAutoFlow"}),NH=Ie({prop:"gridAutoColumns"}),DH=Ie({prop:"gridAutoRows"}),FH=Ie({prop:"gridTemplateColumns"}),$H=Ie({prop:"gridTemplateRows"}),LH=Ie({prop:"gridTemplateAreas"}),MH=Ie({prop:"gridArea"});gm(vm,wm,_m,PH,AH,OH,NH,DH,FH,$H,LH,MH);function Ta(t,e){return e==="grey"?e:t}const UH=Ie({prop:"color",themeKey:"palette",transform:Ta}),jH=Ie({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Ta}),VH=Ie({prop:"backgroundColor",themeKey:"palette",transform:Ta});gm(UH,jH,VH);function An(t){return t<=1&&t!==0?`${t*100}%`:t}const BH=Ie({prop:"width",transform:An}),H1=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=n=>{var r,i,s;return{maxWidth:((r=t.theme)==null||(i=r.breakpoints)==null||(s=i.values)==null?void 0:s[n])||B1[n]||An(n)}};return yi(t,t.maxWidth,e)}return null};H1.filterProps=["maxWidth"];const qH=Ie({prop:"minWidth",transform:An}),zH=Ie({prop:"height",transform:An}),HH=Ie({prop:"maxHeight",transform:An}),WH=Ie({prop:"minHeight",transform:An});Ie({prop:"size",cssProperty:"width",transform:An});Ie({prop:"size",cssProperty:"height",transform:An});const KH=Ie({prop:"boxSizing"});gm(BH,H1,qH,zH,HH,WH,KH);const GH={border:{themeKey:"borders",transform:Ar},borderTop:{themeKey:"borders",transform:Ar},borderRight:{themeKey:"borders",transform:Ar},borderBottom:{themeKey:"borders",transform:Ar},borderLeft:{themeKey:"borders",transform:Ar},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:ym},color:{themeKey:"palette",transform:Ta},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Ta},backgroundColor:{themeKey:"palette",transform:Ta},p:{style:Xe},pt:{style:Xe},pr:{style:Xe},pb:{style:Xe},pl:{style:Xe},px:{style:Xe},py:{style:Xe},padding:{style:Xe},paddingTop:{style:Xe},paddingRight:{style:Xe},paddingBottom:{style:Xe},paddingLeft:{style:Xe},paddingX:{style:Xe},paddingY:{style:Xe},paddingInline:{style:Xe},paddingInlineStart:{style:Xe},paddingInlineEnd:{style:Xe},paddingBlock:{style:Xe},paddingBlockStart:{style:Xe},paddingBlockEnd:{style:Xe},m:{style:Ye},mt:{style:Ye},mr:{style:Ye},mb:{style:Ye},ml:{style:Ye},mx:{style:Ye},my:{style:Ye},margin:{style:Ye},marginTop:{style:Ye},marginRight:{style:Ye},marginBottom:{style:Ye},marginLeft:{style:Ye},marginX:{style:Ye},marginY:{style:Ye},marginInline:{style:Ye},marginInlineStart:{style:Ye},marginInlineEnd:{style:Ye},marginBlock:{style:Ye},marginBlockStart:{style:Ye},marginBlockEnd:{style:Ye},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:vm},rowGap:{style:_m},columnGap:{style:wm},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:An},maxWidth:{style:H1},minWidth:{transform:An},height:{transform:An},maxHeight:{transform:An},minHeight:{transform:An},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}},W1=GH;function QH(...t){const e=t.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(e);return t.every(r=>n.size===Object.keys(r).length)}function YH(t,e){return typeof t=="function"?t(e):t}function XH(){function t(n,r,i,s){const o={[n]:r,theme:i},a=s[n];if(!a)return{[n]:r};const{cssProperty:u=n,themeKey:c,transform:l,style:h}=a;if(r==null)return null;const d=mm(i,c)||{};return h?h(o):yi(o,r,p=>{let m=Tf(d,l,p);return p===m&&typeof p=="string"&&(m=Tf(d,l,`${n}${p==="default"?"":ui(p)}`,p)),u===!1?m:{[u]:m}})}function e(n){var r;const{sx:i,theme:s={}}=n||{};if(!i)return null;const o=(r=s.unstable_sxConfig)!=null?r:W1;function a(u){let c=u;if(typeof u=="function")c=u(s);else if(typeof u!="object")return u;if(!c)return null;const l=dH(s.breakpoints),h=Object.keys(l);let d=l;return Object.keys(c).forEach(f=>{const p=YH(c[f],s);if(p!=null)if(typeof p=="object")if(o[f])d=Rc(d,t(f,p,s,o));else{const m=yi({theme:s},p,w=>({[f]:w}));QH(m,p)?d[f]=e({sx:p,theme:s}):d=Rc(d,m)}else d=Rc(d,t(f,p,s,o))}),fH(h,d)}return Array.isArray(i)?i.map(a):a(i)}return e}const mO=XH();mO.filterProps=["sx"];const K1=mO,JH=["values","unit","step"],ZH=t=>{const e=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return e.sort((n,r)=>n.val-r.val),e.reduce((n,r)=>we({},n,{[r.key]:r.val}),{})};function e8(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5}=t,i=hr(t,JH),s=ZH(e),o=Object.keys(s);function a(d){return`@media (min-width:${typeof e[d]=="number"?e[d]:d}${n})`}function u(d){return`@media (max-width:${(typeof e[d]=="number"?e[d]:d)-r/100}${n})`}function c(d,f){const p=o.indexOf(f);return`@media (min-width:${typeof e[d]=="number"?e[d]:d}${n}) and (max-width:${(p!==-1&&typeof e[o[p]]=="number"?e[o[p]]:f)-r/100}${n})`}function l(d){return o.indexOf(d)+1<o.length?c(d,o[o.indexOf(d)+1]):a(d)}function h(d){const f=o.indexOf(d);return f===0?a(o[1]):f===o.length-1?u(o[f]):c(d,o[o.indexOf(d)+1]).replace("@media","@media not all and")}return we({keys:o,values:s,up:a,down:u,between:c,only:l,not:h,unit:n},i)}const t8={borderRadius:4},n8=t8;function r8(t=8){if(t.mui)return t;const e=fO({spacing:t}),n=(...r)=>(r.length===0?[1]:r).map(s=>{const o=e(s);return typeof o=="number"?`${o}px`:o}).join(" ");return n.mui=!0,n}const i8=["breakpoints","palette","spacing","shape"];function G1(t={},...e){const{breakpoints:n={},palette:r={},spacing:i,shape:s={}}=t,o=hr(t,i8),a=e8(n),u=r8(i);let c=ai({breakpoints:a,direction:"ltr",components:{},palette:we({mode:"light"},r),spacing:u,shape:we({},n8,s)},o);return c=e.reduce((l,h)=>ai(l,h),c),c.unstable_sxConfig=we({},W1,o==null?void 0:o.unstable_sxConfig),c.unstable_sx=function(h){return K1({sx:h,theme:this})},c}const s8=T.createContext(null),o8=s8;function a8(){return T.useContext(o8)}function u8(t){return Object.keys(t).length===0}function c8(t=null){const e=a8();return!e||u8(e)?t:e}const l8=G1();function h8(t=l8){return c8(t)}const d8=["variant"];function jI(t){return t.length===0}function gO(t){const{variant:e}=t,n=hr(t,d8);let r=e||"";return Object.keys(n).sort().forEach(i=>{i==="color"?r+=jI(r)?t[i]:ui(t[i]):r+=`${jI(r)?i:ui(i)}${ui(t[i].toString())}`}),r}const f8=["name","slot","skipVariantsResolver","skipSx","overridesResolver"],p8=["theme"],m8=["theme"];function Ku(t){return Object.keys(t).length===0}function g8(t){return typeof t=="string"&&t.charCodeAt(0)>96}const y8=(t,e)=>e.components&&e.components[t]&&e.components[t].styleOverrides?e.components[t].styleOverrides:null,v8=(t,e)=>{let n=[];e&&e.components&&e.components[t]&&e.components[t].variants&&(n=e.components[t].variants);const r={};return n.forEach(i=>{const s=gO(i.props);r[s]=i.style}),r},w8=(t,e,n,r)=>{var i,s;const{ownerState:o={}}=t,a=[],u=n==null||(i=n.components)==null||(s=i[r])==null?void 0:s.variants;return u&&u.forEach(c=>{let l=!0;Object.keys(c.props).forEach(h=>{o[h]!==c.props[h]&&t[h]!==c.props[h]&&(l=!1)}),l&&a.push(e[gO(c.props)])}),a};function vd(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const _8=G1();function S8(t={}){const{defaultTheme:e=_8,rootShouldForwardProp:n=vd,slotShouldForwardProp:r=vd}=t,i=s=>{const o=Ku(s.theme)?e:s.theme;return K1(we({},s,{theme:o}))};return i.__mui_systemSx=!0,(s,o={})=>{hH(s,v=>v.filter(_=>!(_!=null&&_.__mui_systemSx)));const{name:a,slot:u,skipVariantsResolver:c,skipSx:l,overridesResolver:h}=o,d=hr(o,f8),f=c!==void 0?c:u&&u!=="Root"||!1,p=l||!1;let m,w=vd;u==="Root"?w=n:u?w=r:g8(s)&&(w=void 0);const y=lH(s,we({shouldForwardProp:w,label:m},d)),g=(v,..._)=>{const k=_?_.map(G=>typeof G=="function"&&G.__emotion_real!==G?Y=>{let{theme:Re}=Y,vt=hr(Y,p8);return G(we({theme:Ku(Re)?e:Re},vt))}:G):[];let x=v;a&&h&&k.push(G=>{const Y=Ku(G.theme)?e:G.theme,Re=y8(a,Y);if(Re){const vt={};return Object.entries(Re).forEach(([fn,zn])=>{vt[fn]=typeof zn=="function"?zn(we({},G,{theme:Y})):zn}),h(G,vt)}return null}),a&&!f&&k.push(G=>{const Y=Ku(G.theme)?e:G.theme;return w8(G,v8(a,Y),Y,a)}),p||k.push(i);const R=k.length-_.length;if(Array.isArray(v)&&R>0){const G=new Array(R).fill("");x=[...v,...G],x.raw=[...v.raw,...G]}else typeof v=="function"&&v.__emotion_real!==v&&(x=G=>{let{theme:Y}=G,Re=hr(G,m8);return v(we({theme:Ku(Y)?e:Y},Re))});return y(x,...k)};return y.withConfig&&(g.withConfig=y.withConfig),g}}function E8(t){const{theme:e,name:n,props:r}=t;return!e||!e.components||!e.components[n]||!e.components[n].defaultProps?r:QA(e.components[n].defaultProps,r)}function I8({props:t,name:e,defaultTheme:n}){const r=h8(n);return E8({theme:r,name:e,props:t})}function yO(t,e=0,n=1){return Math.min(Math.max(e,t),n)}function b8(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function Xa(t){if(t.type)return t;if(t.charAt(0)==="#")return Xa(b8(t));const e=t.indexOf("("),n=t.substring(0,e);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error(Qa(9,t));let r=t.substring(e+1,t.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error(Qa(10,i))}else r=r.split(",");return r=r.map(s=>parseFloat(s)),{type:n,values:r,colorSpace:i}}function Q1(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.indexOf("rgb")!==-1?r=r.map((i,s)=>s<3?parseInt(i,10):i):e.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.indexOf("color")!==-1?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function T8(t){t=Xa(t);const{values:e}=t,n=e[0],r=e[1]/100,i=e[2]/100,s=r*Math.min(i,1-i),o=(c,l=(c+n/30)%12)=>i-s*Math.max(Math.min(l-3,9-l,1),-1);let a="rgb";const u=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return t.type==="hsla"&&(a+="a",u.push(e[3])),Q1({type:a,values:u})}function VI(t){t=Xa(t);let e=t.type==="hsl"||t.type==="hsla"?Xa(T8(t)).values:t.values;return e=e.map(n=>(t.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function k8(t,e){const n=VI(t),r=VI(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function x8(t,e){if(t=Xa(t),e=yO(e),t.type.indexOf("hsl")!==-1)t.values[2]*=1-e;else if(t.type.indexOf("rgb")!==-1||t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]*=1-e;return Q1(t)}function R8(t,e){if(t=Xa(t),e=yO(e),t.type.indexOf("hsl")!==-1)t.values[2]+=(100-t.values[2])*e;else if(t.type.indexOf("rgb")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return Q1(t)}function C8(t,e){return we({toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}}},e)}const P8={black:"#000",white:"#fff"},Tl=P8,A8={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},O8=A8,N8={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},Bo=N8,D8={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},qo=D8,F8={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},Gu=F8,$8={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},zo=$8,L8={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},Ho=L8,M8={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},Wo=M8,U8=["mode","contrastThreshold","tonalOffset"],BI={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Tl.white,default:Tl.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},Rg={text:{primary:Tl.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Tl.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function qI(t,e,n,r){const i=r.light||r,s=r.dark||r*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=R8(t.main,i):e==="dark"&&(t.dark=x8(t.main,s)))}function j8(t="light"){return t==="dark"?{main:zo[200],light:zo[50],dark:zo[400]}:{main:zo[700],light:zo[400],dark:zo[800]}}function V8(t="light"){return t==="dark"?{main:Bo[200],light:Bo[50],dark:Bo[400]}:{main:Bo[500],light:Bo[300],dark:Bo[700]}}function B8(t="light"){return t==="dark"?{main:qo[500],light:qo[300],dark:qo[700]}:{main:qo[700],light:qo[400],dark:qo[800]}}function q8(t="light"){return t==="dark"?{main:Ho[400],light:Ho[300],dark:Ho[700]}:{main:Ho[700],light:Ho[500],dark:Ho[900]}}function z8(t="light"){return t==="dark"?{main:Wo[400],light:Wo[300],dark:Wo[700]}:{main:Wo[800],light:Wo[500],dark:Wo[900]}}function H8(t="light"){return t==="dark"?{main:Gu[400],light:Gu[300],dark:Gu[700]}:{main:"#ed6c02",light:Gu[500],dark:Gu[900]}}function W8(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:r=.2}=t,i=hr(t,U8),s=t.primary||j8(e),o=t.secondary||V8(e),a=t.error||B8(e),u=t.info||q8(e),c=t.success||z8(e),l=t.warning||H8(e);function h(m){return k8(m,Rg.text.primary)>=n?Rg.text.primary:BI.text.primary}const d=({color:m,name:w,mainShade:y=500,lightShade:g=300,darkShade:v=700})=>{if(m=we({},m),!m.main&&m[y]&&(m.main=m[y]),!m.hasOwnProperty("main"))throw new Error(Qa(11,w?` (${w})`:"",y));if(typeof m.main!="string")throw new Error(Qa(12,w?` (${w})`:"",JSON.stringify(m.main)));return qI(m,"light",g,r),qI(m,"dark",v,r),m.contrastText||(m.contrastText=h(m.main)),m},f={dark:Rg,light:BI};return ai(we({common:we({},Tl),mode:e,primary:d({color:s,name:"primary"}),secondary:d({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:d({color:a,name:"error"}),warning:d({color:l,name:"warning"}),info:d({color:u,name:"info"}),success:d({color:c,name:"success"}),grey:O8,contrastThreshold:n,getContrastText:h,augmentColor:d,tonalOffset:r},f[e]),i)}const K8=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function G8(t){return Math.round(t*1e5)/1e5}const zI={textTransform:"uppercase"},HI='"Roboto", "Helvetica", "Arial", sans-serif';function Q8(t,e){const n=typeof e=="function"?e(t):e,{fontFamily:r=HI,fontSize:i=14,fontWeightLight:s=300,fontWeightRegular:o=400,fontWeightMedium:a=500,fontWeightBold:u=700,htmlFontSize:c=16,allVariants:l,pxToRem:h}=n,d=hr(n,K8),f=i/14,p=h||(y=>`${y/c*f}rem`),m=(y,g,v,_,k)=>we({fontFamily:r,fontWeight:y,fontSize:p(g),lineHeight:v},r===HI?{letterSpacing:`${G8(_/g)}em`}:{},k,l),w={h1:m(s,96,1.167,-1.5),h2:m(s,60,1.2,-.5),h3:m(o,48,1.167,0),h4:m(o,34,1.235,.25),h5:m(o,24,1.334,0),h6:m(a,20,1.6,.15),subtitle1:m(o,16,1.75,.15),subtitle2:m(a,14,1.57,.1),body1:m(o,16,1.5,.15),body2:m(o,14,1.43,.15),button:m(a,14,1.75,.4,zI),caption:m(o,12,1.66,.4),overline:m(o,12,2.66,1,zI)};return ai(we({htmlFontSize:c,pxToRem:p,fontFamily:r,fontSize:i,fontWeightLight:s,fontWeightRegular:o,fontWeightMedium:a,fontWeightBold:u},w),d,{clone:!1})}const Y8=.2,X8=.14,J8=.12;function Le(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${Y8})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${X8})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${J8})`].join(",")}const Z8=["none",Le(0,2,1,-1,0,1,1,0,0,1,3,0),Le(0,3,1,-2,0,2,2,0,0,1,5,0),Le(0,3,3,-2,0,3,4,0,0,1,8,0),Le(0,2,4,-1,0,4,5,0,0,1,10,0),Le(0,3,5,-1,0,5,8,0,0,1,14,0),Le(0,3,5,-1,0,6,10,0,0,1,18,0),Le(0,4,5,-2,0,7,10,1,0,2,16,1),Le(0,5,5,-3,0,8,10,1,0,3,14,2),Le(0,5,6,-3,0,9,12,1,0,3,16,2),Le(0,6,6,-3,0,10,14,1,0,4,18,3),Le(0,6,7,-4,0,11,15,1,0,4,20,3),Le(0,7,8,-4,0,12,17,2,0,5,22,4),Le(0,7,8,-4,0,13,19,2,0,5,24,4),Le(0,7,9,-4,0,14,21,2,0,5,26,4),Le(0,8,9,-5,0,15,22,2,0,6,28,5),Le(0,8,10,-5,0,16,24,2,0,6,30,5),Le(0,8,11,-5,0,17,26,2,0,6,32,5),Le(0,9,11,-5,0,18,28,2,0,7,34,6),Le(0,9,12,-6,0,19,29,2,0,7,36,6),Le(0,10,13,-6,0,20,31,3,0,8,38,7),Le(0,10,13,-6,0,21,33,3,0,8,40,7),Le(0,10,14,-6,0,22,35,3,0,8,42,7),Le(0,11,14,-7,0,23,36,3,0,9,44,8),Le(0,11,15,-7,0,24,38,3,0,9,46,8)],eW=Z8,tW=["duration","easing","delay"],nW={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},rW={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function WI(t){return`${Math.round(t)}ms`}function iW(t){if(!t)return 0;const e=t/36;return Math.round((4+15*e**.25+e/5)*10)}function sW(t){const e=we({},nW,t.easing),n=we({},rW,t.duration);return we({getAutoHeightDuration:iW,create:(i=["all"],s={})=>{const{duration:o=n.standard,easing:a=e.easeInOut,delay:u=0}=s;return hr(s,tW),(Array.isArray(i)?i:[i]).map(c=>`${c} ${typeof o=="string"?o:WI(o)} ${a} ${typeof u=="string"?u:WI(u)}`).join(",")}},t,{easing:e,duration:n})}const oW={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},aW=oW,uW=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function cW(t={},...e){const{mixins:n={},palette:r={},transitions:i={},typography:s={}}=t,o=hr(t,uW);if(t.vars)throw new Error(Qa(18));const a=W8(r),u=G1(t);let c=ai(u,{mixins:C8(u.breakpoints,n),palette:a,shadows:eW.slice(),typography:Q8(a,s),transitions:sW(i),zIndex:we({},aW)});return c=ai(c,o),c=e.reduce((l,h)=>ai(l,h),c),c.unstable_sxConfig=we({},W1,o==null?void 0:o.unstable_sxConfig),c.unstable_sx=function(h){return K1({sx:h,theme:this})},c}const lW=cW(),vO=lW;function hW({props:t,name:e}){return I8({props:t,name:e,defaultTheme:vO})}const dW=t=>vd(t)&&t!=="classes",fW=S8({defaultTheme:vO,rootShouldForwardProp:dW}),Y1=fW;function pW(t){return YA("MuiCircularProgress",t)}o6("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const mW=["className","color","disableShrink","size","style","thickness","value","variant"];let Sm=t=>t,KI,GI,QI,YI;const Oi=44,gW=dO(KI||(KI=Sm`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`)),yW=dO(GI||(GI=Sm`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`)),vW=t=>{const{classes:e,variant:n,color:r,disableShrink:i}=t,s={root:["root",n,`color${ui(r)}`],svg:["svg"],circle:["circle",`circle${ui(n)}`,i&&"circleDisableShrink"]};return t6(s,pW,e)},wW=Y1("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`color${ui(n.color)}`]]}})(({ownerState:t,theme:e})=>we({display:"inline-block"},t.variant==="determinate"&&{transition:e.transitions.create("transform")},t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].main}),({ownerState:t})=>t.variant==="indeterminate"&&V1(QI||(QI=Sm`
      animation: ${0} 1.4s linear infinite;
    `),gW)),_W=Y1("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(t,e)=>e.svg})({display:"block"}),SW=Y1("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.circle,e[`circle${ui(n.variant)}`],n.disableShrink&&e.circleDisableShrink]}})(({ownerState:t,theme:e})=>we({stroke:"currentColor"},t.variant==="determinate"&&{transition:e.transitions.create("stroke-dashoffset")},t.variant==="indeterminate"&&{strokeDasharray:"80px, 200px",strokeDashoffset:0}),({ownerState:t})=>t.variant==="indeterminate"&&!t.disableShrink&&V1(YI||(YI=Sm`
      animation: ${0} 1.4s ease-in-out infinite;
    `),yW)),EW=T.forwardRef(function(e,n){const r=hW({props:e,name:"MuiCircularProgress"}),{className:i,color:s="primary",disableShrink:o=!1,size:a=40,style:u,thickness:c=3.6,value:l=0,variant:h="indeterminate"}=r,d=hr(r,mW),f=we({},r,{color:s,disableShrink:o,size:a,thickness:c,value:l,variant:h}),p=vW(f),m={},w={},y={};if(h==="determinate"){const g=2*Math.PI*((Oi-c)/2);m.strokeDasharray=g.toFixed(3),y["aria-valuenow"]=Math.round(l),m.strokeDashoffset=`${((100-l)/100*g).toFixed(3)}px`,w.transform="rotate(-90deg)"}return $(wW,we({className:e6(p.root,i),style:we({width:a,height:a},w,u),ownerState:f,ref:n,role:"progressbar"},y,d,{children:$(_W,{className:p.svg,ownerState:f,viewBox:`${Oi/2} ${Oi/2} ${Oi} ${Oi}`,children:$(SW,{className:p.circle,style:m,ownerState:f,cx:Oi,cy:Oi,r:(Oi-c)/2,fill:"none",strokeWidth:c})})}))}),wO=EW,IW=({user:t})=>{const e=tp(),n=()=>{Vr.signOut().then(()=>{e("/")})},r="admin",i="mellory",s="Miquel",o="elliot",a="mitchel",u="valerie",c="imanuel";return t===r?(console.log(t),re(io,{children:[t&&$(io,{children:re("div",{className:"navlink navlinklogout",onClick:n,children:[$("h1",{className:"links",children:"Logout"}),$("div",{children:re("h1",{className:"links",children:["Logged in as ",t]})})]})}),re("div",{className:"driver-list",children:[$(sn,{className:"links",to:"/login",children:" login"}),$(sn,{className:"links",to:"/filter",children:" Driver bonnen "})]})]})):o===t?re("div",{className:"center",children:[" ",$(sn,{className:"center-text",to:"/driver",children:" Elliot"})," "]}):u===t?re("div",{className:"center",children:[$(sn,{className:"center-text",to:"/driver",children:" Valerie"})," "]}):a===t?re("div",{className:"center",children:[$(sn,{className:"center-text",to:"/driver",children:" Mitchel"})," "]}):s===t?re("div",{className:"center",children:[$(sn,{className:"center-text",to:"/driver",children:" Miquel"})," "]}):t===i?re("div",{className:"center",children:[" ",$(sn,{className:"center-text",to:"/driver",children:" Mellory"})," "]}):c===t?re("div",{className:"center",children:[$(sn,{className:"center-text",to:"/driver",children:" Imanuel"})," "]}):re("div",{className:"center",children:[" ",$(wO,{}),"  "]})},Wi="https://balanss.github.io/fcmsur/assets/home-3ff46e87.png",bW=()=>{tp();function t(){const[r,i]=T.useState(null);return T.useEffect(()=>{Vr.onAuthStateChanged(s=>{s&&i(s.uid)})},[]),r}t();function e(){const[r,i]=T.useState(null);return T.useEffect(()=>{Vr.onAuthStateChanged(s=>{s?Qr.collection("users").doc(s.uid).get().then(o=>{i(o.data().FullName)}):i(null)})},[]),r}const n=e();return re(io,{children:[re("div",{className:"img-div",children:[" ",$("img",{className:"img-logo",src:Wi})," "]}),$(IW,{user:n})]})},_O=()=>re("div",{className:"error",children:[" ",$("h1",{children:" 404 Error"}),"  ",$(sn,{to:"/",children:"home"})," "]}),XI=t=>{const[e,n]=T.useState(!0);return T.useEffect(()=>{n(navigator.onLine)},[]),window.addEventListener("online",()=>{n(!0)}),window.addEventListener("offline",()=>{n(!1)}),e?t.children:re("div",{className:"nonet",children:[" ",$("h1",{children:"Geen internet!! AUB restart het systeem/refresh je browser"})," "]})};function TW(){const[t,e]=T.useState(localStorage.getItem("isClock")==="true"),[n,r]=T.useState(!0),[i,s]=T.useState(!0),[o,a]=T.useState(!0),[u,c]=T.useState(localStorage.getItem("isActive")==="true"),[l,h]=T.useState(!0);T.useState(!0);const[d,f]=T.useState("Has Clocked Out"),[p,m]=T.useState("Took A Break"),[w,y]=T.useState("start met ride");T.useState("-----------------");const[g,v]=T.useState("dropoff");T.useState("finish");const[_,k]=T.useState(1),[x,R]=T.useState("checkin");T.useState("error");const[U,G]=T.useState(""),[Y,Re]=T.useState(!1),[vt,fn]=T.useState(!1),[zn,Cs]=T.useState(!1);T.useState("");const gr=E=>{E.preventDefault(),Qr.collection(qe).add({timestamp:ac(),date:new Date().toString(),start:w,count:"bon no : "+_})},q=E=>{E.preventDefault(),Qr.collection(qe).add({timestamp:ac(),date:new Date().toString(),dropoff:g,count:"bon no : "+_}),r({display:"none"}),s({display:"none"}),k(b=>b=b+1),G(""),console.log(_)};T.useEffect(()=>{k(JSON.parse(window.localStorage.getItem("count")))},[]),T.useEffect(()=>{window.localStorage.setItem("count",_)},[_]),T.useEffect(()=>{window.localStorage.setItem("isClock",t)},[t]),T.useEffect(()=>{window.localStorage.setItem("isActive",u)},[u]);const P=E=>{E.preventDefault(),Qr.collection(qe).add({timestamp:ac(),date:new Date().toString(),clockout:d}),c(b=>!b),h(b=>!b),e(b=>!b),r({display:"none"}),s({display:"none"}),a({display:"none"}),k(b=>1),G(""),Cs(!1),fn(!1),Re(!1)},j=E=>{E.preventDefault(),Qr.collection(qe).add({timestamp:ac(),date:new Date().toString(),pause:p}),r({display:"none"}),s({display:"none"}),a({display:"none"})},M=E=>{h(b=>!b),e(b=>!b),c(b=>!b),E.preventDefault(),Qr.collection(qe).add({date:new Date().toString(),checkIn:x})},V=()=>{r(E=>!E),G("Nu begonnen met een rit"),setTimeout(()=>{Re(!0)},500)},X=()=>{s(E=>!E),G("klaar met de klant"),Re(!1)};function fe(){const[E,b]=T.useState(null);return T.useEffect(()=>{Vr.onAuthStateChanged(C=>{C&&b(C.uid)})},[]),E}fe();function Be(){const[E,b]=T.useState(null);return T.useEffect(()=>{Vr.onAuthStateChanged(C=>{C?Qr.collection("users").doc(C.uid).get().then(F=>{b(F.data().FullName)}):b(null)})},[]),E}const qe=Be();console.log(qe);const Hn="ADoqg64vbwY73WzlgVS3rvhCC0s2";return qe?$(io,{children:re(XI,{children:[$("div",{className:"driver",children:re("h3",{className:"title",children:[qe," ",$("img",{className:"logo-small",src:Wi,alt:Wi})]})}),$("div",{}),$("div",{className:"checkin",style:{display:t?"none":"block"},children:$("button",{className:" btn-green",onClick:M,children:"Start met de dag"})}),re("div",{className:"form-group",style:{display:u?"block":"none"},children:[re("h1",{className:"status",children:[" ",U," "]}),re("form",{onSubmit:gr,children:[$("label",{children:" begin met rit "}),$("button",{className:" btn-blue",onClick:V,disabled:Y,children:"Druk hier"}),$("input",{className:" form-input",type:"checkbox",defaultChecked:!0,style:{display:n?"none":"block"}})]}),re("form",{onSubmit:q,children:[$("label",{children:" dropoff by klant "}),$("button",{className:" btn-blue",onClick:X,disabled:vt,children:"Druk hier"}),$("input",{className:" form-input",type:"checkbox",defaultChecked:!0,style:{display:i?"none":"block"}})]})]}),$("div",{className:"checkout",children:$("button",{className:"btn-red",onClick:P,children:"Uitclocken voor de dag"})}),$("div",{className:"checkout",children:$("button",{className:"btn-red",onClick:j,children:"Break"})})]})}):qe===Hn?$(io,{children:re(XI,{children:[re("div",{className:"link-div",children:[$(sn,{className:"link",to:"/jenerciojurgens",children:"Jenercio Jurgens"}),$(sn,{className:"link",to:"/",children:"Home"}),$(sn,{className:"link",to:"/elliotfelanyo",children:"elliot Felayno"}),$(sn,{className:"link",to:"/miquelWelsh",children:"Miquel Welsh"}),$(sn,{className:"link",to:"/mitchelraafenberg",children:"Mitchel Raafenberg"}),re("p",{className:"logged",children:[" Logged in as ",qe," "]})]}),$("div",{className:"driver",children:re("h3",{className:"title",children:[qe," ",$("img",{className:"logo-small",src:Wi,alt:Wi})]})}),$("div",{}),$("div",{className:"checkin",style:{display:t?"none":"block"},children:$("button",{className:" btn-green",onClick:M,children:"Start met de dag"})}),re("div",{className:"form-group",style:{display:u?"block":"none"},children:[re("h1",{className:"status",children:[" ",U," "]}),re("form",{onSubmit:gr,children:[$("label",{children:" begin met rit "}),$("button",{className:" btn-blue",onClick:V,disabled:Y,children:"Druk hier"}),$("input",{className:" form-input",type:"checkbox",defaultChecked:!0,style:{display:n?"none":"block"}})]}),re("form",{onSubmit:q,children:[$("label",{children:" dropoff by klant "}),$("button",{className:" btn-blue",onClick:X,disabled:vt,children:"Druk hier"}),$("input",{className:" form-input",type:"checkbox",defaultChecked:!0,style:{display:i?"none":"block"}})]})]}),$("div",{className:"checkout",children:$("button",{className:"btn-red",onClick:P,children:"Uitclocken voor de dag"})}),$("div",{className:"checkout",children:$("button",{className:"btn-red",onClick:j,children:"Break"})})]})}):qe?$(_O,{}):$(wO,{})}function kW(){const[t,e]=T.useState(""),[n,r]=T.useState(""),i=tp(),[s,o]=T.useState(""),[a,u]=T.useState("");function c(){const[d,f]=T.useState(null);return T.useEffect(()=>{Vr.onAuthStateChanged(p=>{p&&f(p.uid)})},[]),d}c();function l(){const[d,f]=T.useState(null);return T.useEffect(()=>{Vr.onAuthStateChanged(p=>{p?Qr.collection("users").doc(p.uid).get().then(m=>{f(m.data().FullName)}):f(null)})},[]),d}return l(),re(io,{children:[re("div",{className:"img-div",children:[" ",$("img",{className:"img-logo",src:Wi})," "]}),re("form",{className:"login-form",onSubmit:d=>{d.preventDefault(),Vr.signInWithEmailAndPassword(t,n).then(()=>{u("sucess!!"),e(""),r(""),o(""),setTimeout(()=>{u(""),i("/")},2e3)}).catch(f=>o(f.message))},children:[$("h3",{children:" Inloggen "}),re("div",{className:"same",children:[" ",$("input",{type:"email",placeholder:"Email",onChange:d=>e(d.target.value),value:t})," "]}),re("div",{className:"same",children:[" ",$("input",{type:"text",placeholder:"Password",onChange:d=>r(d.target.value),value:n,required:!0})," "]}),$("button",{className:"btn-login",children:" inloggen"})]})]})}var Nv={},xW={get exports(){return Nv},set exports(t){Nv=t}};/*! algoliasearch-lite.umd.js | 4.14.3 | © Algolia, inc. | https://github.com/algolia/algoliasearch-client-javascript */(function(t,e){(function(n,r){t.exports=r()})(tN,function(){function n(E,b,C){return b in E?Object.defineProperty(E,b,{value:C,enumerable:!0,configurable:!0,writable:!0}):E[b]=C,E}function r(E,b){var C=Object.keys(E);if(Object.getOwnPropertySymbols){var F=Object.getOwnPropertySymbols(E);b&&(F=F.filter(function(H){return Object.getOwnPropertyDescriptor(E,H).enumerable})),C.push.apply(C,F)}return C}function i(E){for(var b=1;b<arguments.length;b++){var C=arguments[b]!=null?arguments[b]:{};b%2?r(Object(C),!0).forEach(function(F){n(E,F,C[F])}):Object.getOwnPropertyDescriptors?Object.defineProperties(E,Object.getOwnPropertyDescriptors(C)):r(Object(C)).forEach(function(F){Object.defineProperty(E,F,Object.getOwnPropertyDescriptor(C,F))})}return E}function s(E,b){if(E==null)return{};var C,F,H=function(ie,se){if(ie==null)return{};var Fe,rt,Pt={},xn=Object.keys(ie);for(rt=0;rt<xn.length;rt++)Fe=xn[rt],se.indexOf(Fe)>=0||(Pt[Fe]=ie[Fe]);return Pt}(E,b);if(Object.getOwnPropertySymbols){var ne=Object.getOwnPropertySymbols(E);for(F=0;F<ne.length;F++)C=ne[F],b.indexOf(C)>=0||Object.prototype.propertyIsEnumerable.call(E,C)&&(H[C]=E[C])}return H}function o(E,b){return function(C){if(Array.isArray(C))return C}(E)||function(C,F){if(Symbol.iterator in Object(C)||Object.prototype.toString.call(C)==="[object Arguments]"){var H=[],ne=!0,ie=!1,se=void 0;try{for(var Fe,rt=C[Symbol.iterator]();!(ne=(Fe=rt.next()).done)&&(H.push(Fe.value),!F||H.length!==F);ne=!0);}catch(Pt){ie=!0,se=Pt}finally{try{ne||rt.return==null||rt.return()}finally{if(ie)throw se}}return H}}(E,b)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function a(E){return function(b){if(Array.isArray(b)){for(var C=0,F=new Array(b.length);C<b.length;C++)F[C]=b[C];return F}}(E)||function(b){if(Symbol.iterator in Object(b)||Object.prototype.toString.call(b)==="[object Arguments]")return Array.from(b)}(E)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function u(E){var b,C="algoliasearch-client-js-".concat(E.key),F=function(){return b===void 0&&(b=E.localStorage||window.localStorage),b},H=function(){return JSON.parse(F().getItem(C)||"{}")};return{get:function(ne,ie){var se=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{miss:function(){return Promise.resolve()}};return Promise.resolve().then(function(){var Fe=JSON.stringify(ne),rt=H()[Fe];return Promise.all([rt||ie(),rt!==void 0])}).then(function(Fe){var rt=o(Fe,2),Pt=rt[0],xn=rt[1];return Promise.all([Pt,xn||se.miss(Pt)])}).then(function(Fe){return o(Fe,1)[0]})},set:function(ne,ie){return Promise.resolve().then(function(){var se=H();return se[JSON.stringify(ne)]=ie,F().setItem(C,JSON.stringify(se)),ie})},delete:function(ne){return Promise.resolve().then(function(){var ie=H();delete ie[JSON.stringify(ne)],F().setItem(C,JSON.stringify(ie))})},clear:function(){return Promise.resolve().then(function(){F().removeItem(C)})}}}function c(E){var b=a(E.caches),C=b.shift();return C===void 0?{get:function(F,H){var ne=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{miss:function(){return Promise.resolve()}},ie=H();return ie.then(function(se){return Promise.all([se,ne.miss(se)])}).then(function(se){return o(se,1)[0]})},set:function(F,H){return Promise.resolve(H)},delete:function(F){return Promise.resolve()},clear:function(){return Promise.resolve()}}:{get:function(F,H){var ne=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{miss:function(){return Promise.resolve()}};return C.get(F,H,ne).catch(function(){return c({caches:b}).get(F,H,ne)})},set:function(F,H){return C.set(F,H).catch(function(){return c({caches:b}).set(F,H)})},delete:function(F){return C.delete(F).catch(function(){return c({caches:b}).delete(F)})},clear:function(){return C.clear().catch(function(){return c({caches:b}).clear()})}}}function l(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{serializable:!0},b={};return{get:function(C,F){var H=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{miss:function(){return Promise.resolve()}},ne=JSON.stringify(C);if(ne in b)return Promise.resolve(E.serializable?JSON.parse(b[ne]):b[ne]);var ie=F(),se=H&&H.miss||function(){return Promise.resolve()};return ie.then(function(Fe){return se(Fe)}).then(function(){return ie})},set:function(C,F){return b[JSON.stringify(C)]=E.serializable?JSON.stringify(F):F,Promise.resolve(F)},delete:function(C){return delete b[JSON.stringify(C)],Promise.resolve()},clear:function(){return b={},Promise.resolve()}}}function h(E){for(var b=E.length-1;b>0;b--){var C=Math.floor(Math.random()*(b+1)),F=E[b];E[b]=E[C],E[C]=F}return E}function d(E,b){return b&&Object.keys(b).forEach(function(C){E[C]=b[C](E)}),E}function f(E){for(var b=arguments.length,C=new Array(b>1?b-1:0),F=1;F<b;F++)C[F-1]=arguments[F];var H=0;return E.replace(/%s/g,function(){return encodeURIComponent(C[H++])})}var p={WithinQueryParameters:0,WithinHeaders:1};function m(E,b){var C=E||{},F=C.data||{};return Object.keys(C).forEach(function(H){["timeout","headers","queryParameters","data","cacheable"].indexOf(H)===-1&&(F[H]=C[H])}),{data:Object.entries(F).length>0?F:void 0,timeout:C.timeout||b,headers:C.headers||{},queryParameters:C.queryParameters||{},cacheable:C.cacheable}}var w={Read:1,Write:2,Any:3},y=1,g=2,v=3;function _(E){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:y;return i(i({},E),{},{status:b,lastUpdate:Date.now()})}function k(E){return typeof E=="string"?{protocol:"https",url:E,accept:w.Any}:{protocol:E.protocol||"https",url:E.url,accept:E.accept||w.Any}}var x="GET",R="POST";function U(E,b){return Promise.all(b.map(function(C){return E.get(C,function(){return Promise.resolve(_(C))})})).then(function(C){var F=C.filter(function(ie){return function(se){return se.status===y||Date.now()-se.lastUpdate>12e4}(ie)}),H=C.filter(function(ie){return function(se){return se.status===v&&Date.now()-se.lastUpdate<=12e4}(ie)}),ne=[].concat(a(F),a(H));return{getTimeout:function(ie,se){return(H.length===0&&ie===0?1:H.length+3+ie)*se},statelessHosts:ne.length>0?ne.map(function(ie){return k(ie)}):b}})}function G(E,b,C,F){var H=[],ne=function(Bt,yr){if(!(Bt.method===x||Bt.data===void 0&&yr.data===void 0)){var $e=Array.isArray(Bt.data)?Bt.data:i(i({},Bt.data),yr.data);return JSON.stringify($e)}}(C,F),ie=function(Bt,yr){var $e=i(i({},Bt.headers),yr.headers),qt={};return Object.keys($e).forEach(function(Wr){var rr=$e[Wr];qt[Wr.toLowerCase()]=rr}),qt}(E,F),se=C.method,Fe=C.method!==x?{}:i(i({},C.data),F.data),rt=i(i(i({"x-algolia-agent":E.userAgent.value},E.queryParameters),Fe),F.queryParameters),Pt=0,xn=function Bt(yr,$e){var qt=yr.pop();if(qt===void 0)throw{name:"RetryError",message:"Unreachable hosts - your application id may be incorrect. If the error persists, contact support@algolia.com.",transporterStackTrace:fn(H)};var Wr={data:ne,headers:ie,method:se,url:Re(qt,C.path,rt),connectTimeout:$e(Pt,E.timeouts.connect),responseTimeout:$e(Pt,F.timeout)},rr=function(ht){var Ce={request:Wr,response:ht,host:qt,triesLeft:yr.length};return H.push(Ce),Ce},ph={onSuccess:function(ht){return function(Ce){try{return JSON.parse(Ce.content)}catch(vr){throw function(ki,$o){return{name:"DeserializationError",message:ki,response:$o}}(vr.message,Ce)}}(ht)},onRetry:function(ht){var Ce=rr(ht);return ht.isTimedOut&&Pt++,Promise.all([E.logger.info("Retryable failure",zn(Ce)),E.hostsCache.set(qt,_(qt,ht.isTimedOut?v:g))]).then(function(){return Bt(yr,$e)})},onFail:function(ht){throw rr(ht),function(Ce,vr){var ki=Ce.content,$o=Ce.status,ku=ki;try{ku=JSON.parse(ki).message}catch{}return function(mh,xm,ZO){return{name:"ApiError",message:mh,status:xm,transporterStackTrace:ZO}}(ku,$o,vr)}(ht,fn(H))}};return E.requester.send(Wr).then(function(ht){return function(Ce,vr){return function(ki){var $o=ki.status;return ki.isTimedOut||function(ku){var mh=ku.isTimedOut,xm=ku.status;return!mh&&~~xm==0}(ki)||~~($o/100)!=2&&~~($o/100)!=4}(Ce)?vr.onRetry(Ce):~~(Ce.status/100)==2?vr.onSuccess(Ce):vr.onFail(Ce)}(ht,ph)})};return U(E.hostsCache,b).then(function(Bt){return xn(a(Bt.statelessHosts).reverse(),Bt.getTimeout)})}function Y(E){var b={value:"Algolia for JavaScript (".concat(E,")"),add:function(C){var F="; ".concat(C.segment).concat(C.version!==void 0?" (".concat(C.version,")"):"");return b.value.indexOf(F)===-1&&(b.value="".concat(b.value).concat(F)),b}};return b}function Re(E,b,C){var F=vt(C),H="".concat(E.protocol,"://").concat(E.url,"/").concat(b.charAt(0)==="/"?b.substr(1):b);return F.length&&(H+="?".concat(F)),H}function vt(E){return Object.keys(E).map(function(b){return f("%s=%s",b,(C=E[b],Object.prototype.toString.call(C)==="[object Object]"||Object.prototype.toString.call(C)==="[object Array]"?JSON.stringify(E[b]):E[b]));var C}).join("&")}function fn(E){return E.map(function(b){return zn(b)})}function zn(E){var b=E.request.headers["x-algolia-api-key"]?{"x-algolia-api-key":"*****"}:{};return i(i({},E),{},{request:i(i({},E.request),{},{headers:i(i({},E.request.headers),b)})})}var Cs=function(E){var b=E.appId,C=function(H,ne,ie){var se={"x-algolia-api-key":ie,"x-algolia-application-id":ne};return{headers:function(){return H===p.WithinHeaders?se:{}},queryParameters:function(){return H===p.WithinQueryParameters?se:{}}}}(E.authMode!==void 0?E.authMode:p.WithinHeaders,b,E.apiKey),F=function(H){var ne=H.hostsCache,ie=H.logger,se=H.requester,Fe=H.requestsCache,rt=H.responsesCache,Pt=H.timeouts,xn=H.userAgent,Bt=H.hosts,yr=H.queryParameters,$e={hostsCache:ne,logger:ie,requester:se,requestsCache:Fe,responsesCache:rt,timeouts:Pt,userAgent:xn,headers:H.headers,queryParameters:yr,hosts:Bt.map(function(qt){return k(qt)}),read:function(qt,Wr){var rr=m(Wr,$e.timeouts.read),ph=function(){return G($e,$e.hosts.filter(function(Ce){return(Ce.accept&w.Read)!=0}),qt,rr)};if((rr.cacheable!==void 0?rr.cacheable:qt.cacheable)!==!0)return ph();var ht={request:qt,mappedRequestOptions:rr,transporter:{queryParameters:$e.queryParameters,headers:$e.headers}};return $e.responsesCache.get(ht,function(){return $e.requestsCache.get(ht,function(){return $e.requestsCache.set(ht,ph()).then(function(Ce){return Promise.all([$e.requestsCache.delete(ht),Ce])},function(Ce){return Promise.all([$e.requestsCache.delete(ht),Promise.reject(Ce)])}).then(function(Ce){var vr=o(Ce,2);return vr[0],vr[1]})})},{miss:function(Ce){return $e.responsesCache.set(ht,Ce)}})},write:function(qt,Wr){return G($e,$e.hosts.filter(function(rr){return(rr.accept&w.Write)!=0}),qt,m(Wr,$e.timeouts.write))}};return $e}(i(i({hosts:[{url:"".concat(b,"-dsn.algolia.net"),accept:w.Read},{url:"".concat(b,".algolia.net"),accept:w.Write}].concat(h([{url:"".concat(b,"-1.algolianet.com")},{url:"".concat(b,"-2.algolianet.com")},{url:"".concat(b,"-3.algolianet.com")}]))},E),{},{headers:i(i(i({},C.headers()),{"content-type":"application/x-www-form-urlencoded"}),E.headers),queryParameters:i(i({},C.queryParameters()),E.queryParameters)}));return d({transporter:F,appId:b,addAlgoliaAgent:function(H,ne){F.userAgent.add({segment:H,version:ne})},clearCache:function(){return Promise.all([F.requestsCache.clear(),F.responsesCache.clear()]).then(function(){})}},E.methods)},gr=function(E){return function(b,C){return b.method===x?E.transporter.read(b,C):E.transporter.write(b,C)}},q=function(E){return function(b){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},F={transporter:E.transporter,appId:E.appId,indexName:b};return d(F,C.methods)}},P=function(E){return function(b,C){var F=b.map(function(H){return i(i({},H),{},{params:vt(H.params||{})})});return E.transporter.read({method:R,path:"1/indexes/*/queries",data:{requests:F},cacheable:!0},C)}},j=function(E){return function(b,C){return Promise.all(b.map(function(F){var H=F.params,ne=H.facetName,ie=H.facetQuery,se=s(H,["facetName","facetQuery"]);return q(E)(F.indexName,{methods:{searchForFacetValues:X}}).searchForFacetValues(ne,ie,i(i({},C),se))}))}},M=function(E){return function(b,C,F){return E.transporter.read({method:R,path:f("1/answers/%s/prediction",E.indexName),data:{query:b,queryLanguages:C},cacheable:!0},F)}},V=function(E){return function(b,C){return E.transporter.read({method:R,path:f("1/indexes/%s/query",E.indexName),data:{query:b},cacheable:!0},C)}},X=function(E){return function(b,C,F){return E.transporter.read({method:R,path:f("1/indexes/%s/facets/%s/query",E.indexName,b),data:{facetQuery:C},cacheable:!0},F)}},fe=1,Be=2,qe=3;function Hn(E,b,C){var F,H={appId:E,apiKey:b,timeouts:{connect:1,read:2,write:30},requester:{send:function(ne){return new Promise(function(ie){var se=new XMLHttpRequest;se.open(ne.method,ne.url,!0),Object.keys(ne.headers).forEach(function(xn){return se.setRequestHeader(xn,ne.headers[xn])});var Fe,rt=function(xn,Bt){return setTimeout(function(){se.abort(),ie({status:0,content:Bt,isTimedOut:!0})},1e3*xn)},Pt=rt(ne.connectTimeout,"Connection timeout");se.onreadystatechange=function(){se.readyState>se.OPENED&&Fe===void 0&&(clearTimeout(Pt),Fe=rt(ne.responseTimeout,"Socket timeout"))},se.onerror=function(){se.status===0&&(clearTimeout(Pt),clearTimeout(Fe),ie({content:se.responseText||"Network request failed",status:se.status,isTimedOut:!1}))},se.onload=function(){clearTimeout(Pt),clearTimeout(Fe),ie({content:se.responseText,status:se.status,isTimedOut:!1})},se.send(ne.data)})}},logger:(F=qe,{debug:function(ne,ie){return fe>=F&&console.debug(ne,ie),Promise.resolve()},info:function(ne,ie){return Be>=F&&console.info(ne,ie),Promise.resolve()},error:function(ne,ie){return console.error(ne,ie),Promise.resolve()}}),responsesCache:l(),requestsCache:l({serializable:!1}),hostsCache:c({caches:[u({key:"".concat("4.14.3","-").concat(E)}),l()]}),userAgent:Y("4.14.3").add({segment:"Browser",version:"lite"}),authMode:p.WithinQueryParameters};return Cs(i(i(i({},H),C),{},{methods:{search:P,searchForFacetValues:j,multipleQueries:P,multipleSearchForFacetValues:j,customRequest:gr,initIndex:function(ne){return function(ie){return q(ne)(ie,{methods:{search:V,searchForFacetValues:X,findAnswers:M}})}}}}))}return Hn.version="4.14.3",Hn})})(xW);const RW=Nv;var CW=typeof Element<"u",PW=typeof Map=="function",AW=typeof Set=="function",OW=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function wd(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;var n,r,i;if(Array.isArray(t)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(!wd(t[r],e[r]))return!1;return!0}var s;if(PW&&t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(s=t.entries();!(r=s.next()).done;)if(!e.has(r.value[0]))return!1;for(s=t.entries();!(r=s.next()).done;)if(!wd(r.value[1],e.get(r.value[0])))return!1;return!0}if(AW&&t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(s=t.entries();!(r=s.next()).done;)if(!e.has(r.value[0]))return!1;return!0}if(OW&&ArrayBuffer.isView(t)&&ArrayBuffer.isView(e)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(t[r]!==e[r])return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===e.toString();if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(e,i[r]))return!1;if(CW&&t instanceof Element)return!1;for(r=n;r--!==0;)if(!((i[r]==="_owner"||i[r]==="__v"||i[r]==="__o")&&t.$$typeof)&&!wd(t[i[r]],e[i[r]]))return!1;return!0}return t!==t&&e!==e}var SO=function(e,n){try{return wd(e,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};function JI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JI(Object(n),!0).forEach(function(r){NW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function NW(t,e,n){return e=DW(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DW(t){var e=FW(t,"string");return Ja(e)==="symbol"?e:String(e)}function FW(t,e){if(Ja(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ja(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ja(t){return Ja=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ja(t)}var ZI=function(e,n){if(e===n)return!0;var r=Object.keys(e),i=Object.keys(n);if(r.length!==i.length)return!1;for(var s=Object.prototype.hasOwnProperty,o=0;o<r.length;o++)if(!s.call(n,r[o])||e[r[o]]!==n[r[o]])return!1;return!0},$W=function(e){return e.displayName||e.name||"UnknownComponent"},LW=Promise.resolve(),MW=function(e){LW.then(e)},UW=function(e){return Ja(e)==="object"&&e!==null&&!Array.isArray(e)},jW=function t(e){return Object.keys(e).forEach(function(n){var r=e[n];UW(r)&&(qW(r)?t(r):delete e[n])}),e};function VW(t,e,n){return t.map(function(r,i){return kf(kf({},r),{},{__position:e*n+i+1})})}function BW(t,e){return e?t.map(function(n){return kf(kf({},n),{},{__queryID:e})}):t}function qW(t){return t&&Object.keys(t).length>0}function xf(t,e){if(t==null)return{};for(var n={},r=Object.keys(t),i=0;i<r.length;i++){var s=r[i];e.indexOf(s)>=0||(n[s]=t[s])}return n}var EO=T.createContext({onInternalStateUpdate:function(){},createHrefForState:function(){return"#"},onSearchForFacetValues:function(){},onSearchStateChange:function(){},onSearchParameters:function(){},store:{},widgetsManager:{},mainTargetedIndex:""}),zW=EO.Consumer,HW=EO.Provider,IO=T.createContext(void 0),WW=IO.Consumer;IO.Provider;var KW=["contextValue"];function Za(t){return Za=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Za(t)}function Rf(){return Rf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rf.apply(this,arguments)}function GW(t,e){if(t==null)return{};var n=QW(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function QW(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function eb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eb(Object(n),!0).forEach(function(r){tn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eb(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function YW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nb(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,bO(r.key),r)}}function XW(t,e,n){return e&&nb(t.prototype,e),n&&nb(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function JW(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Dv(t,e)}function Dv(t,e){return Dv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Dv(t,e)}function ZW(t){var e=tK();return function(){var r=Cf(t),i;if(e){var s=Cf(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return eK(this,i)}}function eK(t,e){if(e&&(Za(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pn(t)}function pn(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tK(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Cf(t){return Cf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Cf(t)}function tn(t,e,n){return e=bO(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bO(t){var e=nK(t,"string");return Za(e)==="symbol"?e:String(e)}function nK(t,e){if(Za(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Za(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rK(t){if(!t.displayName)throw new Error("`createConnector` requires you to provide a `displayName` property.");var e=typeof t.getSearchParameters=="function"||typeof t.getMetadata=="function"||typeof t.transitionState=="function";return function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=function(s){JW(a,s);var o=ZW(a);function a(u){var c;return YW(this,a),c=o.call(this,u),tn(pn(c),"unsubscribe",void 0),tn(pn(c),"unregisterWidget",void 0),tn(pn(c),"cleanupTimerRef",null),tn(pn(c),"isUnmounting",!1),tn(pn(c),"state",{providedProps:c.getProvidedProps(c.props)}),tn(pn(c),"refine",function(){for(var l,h=arguments.length,d=new Array(h),f=0;f<h;f++)d[f]=arguments[f];c.props.contextValue.onInternalStateUpdate((l=t.refine).call.apply(l,[pn(c),c.props,c.props.contextValue.store.getState().widgets].concat(d)))}),tn(pn(c),"createURL",function(){for(var l,h=arguments.length,d=new Array(h),f=0;f<h;f++)d[f]=arguments[f];return c.props.contextValue.createHrefForState((l=t.refine).call.apply(l,[pn(c),c.props,c.props.contextValue.store.getState().widgets].concat(d)))}),tn(pn(c),"searchForFacetValues",function(){for(var l,h=arguments.length,d=new Array(h),f=0;f<h;f++)d[f]=arguments[f];c.props.contextValue.onSearchForFacetValues((l=t.searchForFacetValues).call.apply(l,[pn(c),c.props,c.props.contextValue.store.getState().widgets].concat(d)))}),t.getSearchParameters&&c.props.contextValue.onSearchParameters(t.getSearchParameters.bind(pn(c)),{ais:c.props.contextValue,multiIndexContext:c.props.indexContextValue},c.props,t.getMetadata&&t.getMetadata.bind(pn(c)),t.displayName),c}return XW(a,[{key:"componentDidMount",value:function(){var c=this;this.cleanupTimerRef&&(clearTimeout(this.cleanupTimerRef),this.cleanupTimerRef=null),this.unsubscribe=this.props.contextValue.store.subscribe(function(){c.isUnmounting||c.setState({providedProps:c.getProvidedProps(c.props)})}),e&&(this.unregisterWidget=this.props.contextValue.widgetsManager.registerWidget(this))}},{key:"shouldComponentUpdate",value:function(c,l){if(typeof t.shouldComponentUpdate=="function")return t.shouldComponentUpdate.call(this,this.props,c,this.state,l);var h=ZI(this.props,c);return this.state.providedProps===null||l.providedProps===null?this.state.providedProps===l.providedProps?!h:!0:!h||!ZI(this.state.providedProps,l.providedProps)}},{key:"componentDidUpdate",value:function(c){SO(c,this.props)||(this.setState({providedProps:this.getProvidedProps(this.props)}),e&&(this.props.contextValue.widgetsManager.update(),typeof t.transitionState=="function"&&this.props.contextValue.onSearchStateChange(t.transitionState.call(this,this.props,this.props.contextValue.store.getState().widgets,this.props.contextValue.store.getState().widgets))))}},{key:"componentWillUnmount",value:function(){var c=this;this.cleanupTimerRef=setTimeout(function(){if(c.isUnmounting=!0,c.unsubscribe&&c.unsubscribe(),c.unregisterWidget&&(c.unregisterWidget(),typeof t.cleanUp=="function")){var l=t.cleanUp.call(c,c.props,c.props.contextValue.store.getState().widgets);c.props.contextValue.store.setState(tb(tb({},c.props.contextValue.store.getState()),{},{widgets:l})),c.props.contextValue.onSearchStateChange(jW(l))}})}},{key:"getProvidedProps",value:function(c){var l=this.props.contextValue.store.getState(),h=l.widgets,d=l.results,f=l.resultsFacetValues,p=l.searching,m=l.searchingForFacetValues,w=l.isSearchStalled,y=l.metadata,g=l.error,v={results:d,searching:p,searchingForFacetValues:m,isSearchStalled:w,error:g};return t.getProvidedProps.call(this,c,h,v,y,f)}},{key:"getSearchParameters",value:function(c){return typeof t.getSearchParameters=="function"?t.getSearchParameters.call(this,c,this.props,this.props.contextValue.store.getState().widgets):null}},{key:"getMetadata",value:function(c){return typeof t.getMetadata=="function"?t.getMetadata.call(this,this.props,c):{}}},{key:"transitionState",value:function(c,l){return typeof t.transitionState=="function"?t.transitionState.call(this,this.props,c,l):l}},{key:"render",value:function(){var c=this.props;c.contextValue;var l=GW(c,KW),h=this.state.providedProps;if(h===null)return null;var d=typeof t.refine=="function"?{refine:this.refine,createURL:this.createURL}:{},f=typeof t.searchForFacetValues=="function"?{searchForItems:this.searchForFacetValues}:{};return me.createElement(n,Rf({},l,h,d,f))}}]),a}(T.Component);return tn(i,"displayName","".concat(t.displayName,"(").concat($W(n),")")),tn(i,"$$type",t.$$type),tn(i,"$$widgetType",r.$$widgetType),tn(i,"propTypes",t.propTypes),tn(i,"defaultProps",t.defaultProps),tn(i,"_connectorDesc",t),i}}var iK=function(e){return function(n,r){var i=rK(e)(n,r),s=function(a){return me.createElement(zW,null,function(u){return me.createElement(WW,null,function(c){return me.createElement(i,Rf({contextValue:u,indexContextValue:c},a))})})};return s}};const X1=iK;var sK={highlightPreTag:"<ais-highlight-0000000000>",highlightPostTag:"</ais-highlight-0000000000>"};const oK="6.38.3";function eu(t){return eu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eu(t)}function Fv(){return Fv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fv.apply(this,arguments)}function aK(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rb(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,kO(r.key),r)}}function uK(t,e,n){return e&&rb(t.prototype,e),n&&rb(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function cK(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$v(t,e)}function $v(t,e){return $v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},$v(t,e)}function lK(t){var e=dK();return function(){var r=Pf(t),i;if(e){var s=Pf(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return hK(this,i)}}function hK(t,e){if(e&&(eu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return TO(t)}function TO(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dK(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Pf(t){return Pf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Pf(t)}function fK(t,e,n){return e=kO(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kO(t){var e=pK(t,"string");return eu(e)==="symbol"?e:String(e)}function pK(t,e){if(eu(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(eu(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var mK=function(e){return function(n,r,i){var s=n[r];if(s)for(var o=0,a=Object.keys(s);o<a.length;o++){var u=a[o];if(e.indexOf(u)===-1)return new Error("Unknown `".concat(r,"` key `").concat(u,"`. Check the render method ")+"of `".concat(i,"`."))}}};function xO(t){return function(e){var n=function(i){cK(o,i);var s=lK(o);function o(){var a;aK(this,o);for(var u=arguments.length,c=new Array(u),l=0;l<u;l++)c[l]=arguments[l];return a=s.call.apply(s,[this].concat(c)),fK(TO(a),"translate",function(h){var d=a.props.translations,f=d&&d.hasOwnProperty(h)?d[h]:t[h];if(typeof f=="function"){for(var p=arguments.length,m=new Array(p>1?p-1:0),w=1;w<p;w++)m[w-1]=arguments[w];return f.apply(void 0,m)}return f}),a}return uK(o,[{key:"render",value:function(){return me.createElement(e,Fv({translate:this.translate},this.props))}}]),o}(T.Component),r=e.displayName||e.name||"UnknownComponent";return n.displayName="Translatable(".concat(r,")"),n.propTypes={translations:mK(Object.keys(t))},n}}function kl(t){return kl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kl(t)}function ib(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ce(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ib(Object(n),!0).forEach(function(r){On(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ib(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function On(t,e,n){return e=gK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gK(t){var e=yK(t,"string");return kl(e)==="symbol"?e:String(e)}function yK(t,e){if(kl(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(kl(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hh(t){return dh(t)?t.multiIndexContext.targetedIndex:t.ais.mainTargetedIndex}function vK(t,e){if(t.results){if(t.results.hits)return t.results;var n=hh(e);if(t.results[n])return t.results[n]}return null}function dh(t){return t&&t.multiIndexContext}function RO(t,e,n,r,i){if(dh(n)){var s=hh(n);return i?SK(t,e,s,r,i):wK(t,e,s,r)}else return t.indices&&r&&Object.keys(t.indices).forEach(function(o){t=RO(t,{page:1},{multiIndexContext:{targetedIndex:o}},!0,i)}),i?EK(t,e,r,i):_K(t,e,r)}function wK(t,e,n,r){var i=r?{page:1}:void 0,s=t.indices&&t.indices[n]?ce(ce({},t.indices),{},On({},n,ce(ce(ce({},t.indices[n]),e),i))):ce(ce({},t.indices),{},On({},n,ce(ce({},e),i)));return ce(ce({},t),{},{indices:s})}function _K(t,e,n){var r=n?{page:1}:void 0;return ce(ce(ce({},t),e),r)}function SK(t,e,n,r,i){var s,o=r?{page:1}:void 0,a=t.indices&&t.indices[n]?ce(ce({},t.indices),{},On({},n,ce(ce({},t.indices[n]),{},(s={},On(s,i,ce(ce({},t.indices[n][i]),e)),On(s,"page",1),s)))):ce(ce({},t.indices),{},On({},n,ce(On({},i,e),o)));return ce(ce({},t),{},{indices:a})}function EK(t,e,n,r){var i=n?{page:1}:void 0;return ce(ce({},t),{},On({},r,ce(ce({},t[r]),e)),i)}function CO(t){var e=t.match(/^([^.]*)\.(.*)/),n=e&&e[1],r=e&&e[2];return{namespace:n,attributeName:r}}function IK(t){var e=t.multiIndex,n=t.indexId,r=t.namespace,i=t.attributeName,s=t.id,o=t.searchState;return e&&r?o.indices&&o.indices[n]&&o.indices[n][r]&&Object.hasOwnProperty.call(o.indices[n][r],i):e?o.indices&&o.indices[n]&&Object.hasOwnProperty.call(o.indices[n],s):r?o[r]&&Object.hasOwnProperty.call(o[r],i):Object.hasOwnProperty.call(o,s)}function bK(t){var e=t.multiIndex,n=t.indexId,r=t.namespace,i=t.attributeName,s=t.id,o=t.searchState;return e&&r?o.indices[n][r][i]:e?o.indices[n][s]:r?o[r][i]:o[s]}function TK(t,e,n,r,i){var s=hh(n),o=CO(r),a=o.namespace,u=o.attributeName,c=dh(n),l={multiIndex:c,indexId:s,namespace:a,attributeName:u,id:r,searchState:e},h=IK(l);return h?bK(l):t.defaultRefinement?t.defaultRefinement:i}function kK(t,e,n){var r=hh(e),i=CO(n),s=i.namespace,o=i.attributeName;return dh(e)&&Boolean(t.indices)?RK({attribute:o,searchState:t,indexId:r,id:n,namespace:s}):xK({attribute:o,searchState:t,id:n,namespace:s})}function xK(t){var e=t.searchState,n=t.id,r=t.namespace,i=t.attribute;return r?ce(ce({},e),{},On({},r,xf(e[r],[i]))):xf(e,[n])}function RK(t){var e=t.searchState,n=t.indexId,r=t.id,i=t.namespace,s=t.attribute,o=e.indices[n];return i&&o?ce(ce({},e),{},{indices:ce(ce({},e.indices),{},On({},n,ce(ce({},o),{},On({},i,xf(o[i],[s])))))}):o?ce(ce({},e),{},{indices:ce(ce({},e.indices),{},On({},n,xf(o,[r])))}):e}function CK(t){return typeof t=="object"&&t!==null?J1(Array.isArray(t)?[]:{},t):t}function Af(t){return typeof t=="function"||Array.isArray(t)||Object.prototype.toString.call(t)==="[object Object]"}function J1(t,e){if(t===e)return t;for(var n in e)if(!(!Object.prototype.hasOwnProperty.call(e,n)||n==="__proto__"||n==="constructor")){var r=e[n],i=t[n];typeof i<"u"&&typeof r>"u"||(Af(i)&&Af(r)?t[n]=J1(i,r):t[n]=CK(r))}return t}function PK(t){Af(t)||(t={});for(var e=1,n=arguments.length;e<n;e++){var r=arguments[e];Af(r)&&J1(t,r)}return t}var Em=PK,Z1=function(){var e=Array.prototype.slice.call(arguments);return e.reduceRight(function(n,r){return Object.keys(Object(r)).forEach(function(i){r[i]!==void 0&&(n[i]!==void 0&&delete n[i],n[i]=r[i])}),n},{})};function AK(t,e){return t.filter(function(n,r){return e.indexOf(n)>-1&&t.indexOf(n)===r})}var OK=AK,Im=function(e,n){if(Array.isArray(e)){for(var r=0;r<e.length;r++)if(n(e[r]))return e[r]}};function PO(t){if(typeof t=="number")return t;if(typeof t=="string")return parseFloat(t);if(Array.isArray(t))return t.map(PO);throw new Error("The value should be a number, a parsable string or an array of those.")}var NK=PO;function DK(t,e){if(t===null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var e_=DK;function FK(t){return t&&Object.keys(t).length>0}var t_=FK,$K=function(e){return e===null?!1:/^[a-zA-Z0-9_-]{1,64}$/.test(e)},LK=Z1,MK=e_,UK=t_,Fs={addRefinement:function(e,n,r){if(Fs.isRefined(e,n,r))return e;var i=""+r,s=e[n]?e[n].concat(i):[i],o={};return o[n]=s,LK({},o,e)},removeRefinement:function(e,n,r){if(r===void 0)return Fs.clearRefinement(e,function(s,o){return n===o});var i=""+r;return Fs.clearRefinement(e,function(s,o){return n===o&&i===s})},toggleRefinement:function(e,n,r){if(r===void 0)throw new Error("toggleRefinement should be used with a value");return Fs.isRefined(e,n,r)?Fs.removeRefinement(e,n,r):Fs.addRefinement(e,n,r)},clearRefinement:function(e,n,r){if(n===void 0)return UK(e)?{}:e;if(typeof n=="string")return MK(e,[n]);if(typeof n=="function"){var i=!1,s=Object.keys(e).reduce(function(o,a){var u=e[a]||[],c=u.filter(function(l){return!n(l,a,r)});return c.length!==u.length&&(i=!0),o[a]=c,o},{});return i?s:e}},isRefined:function(e,n,r){var i=!!e[n]&&e[n].length>0;if(r===void 0||!i)return i;var s=""+r;return e[n].indexOf(s)!==-1}},jK=Fs,Lv=Em,Cg=Z1,sb=OK,AO=Im,Pg=NK,ob=e_,Mv=t_,VK=$K,Qe=jK;function n_(t,e){return Array.isArray(t)&&Array.isArray(e)?t.length===e.length&&t.every(function(n,r){return n_(e[r],n)}):t===e}function BK(t,e){return AO(t,function(n){return n_(n,e)})}function Sn(t){var e=t?Sn._parseNumbers(t):{};e.userToken!==void 0&&!VK(e.userToken)&&console.warn("[algoliasearch-helper] The `userToken` parameter is invalid. This can lead to wrong analytics.\n  - Format: [a-zA-Z0-9_-]{1,64}"),this.facets=e.facets||[],this.disjunctiveFacets=e.disjunctiveFacets||[],this.hierarchicalFacets=e.hierarchicalFacets||[],this.facetsRefinements=e.facetsRefinements||{},this.facetsExcludes=e.facetsExcludes||{},this.disjunctiveFacetsRefinements=e.disjunctiveFacetsRefinements||{},this.numericRefinements=e.numericRefinements||{},this.tagRefinements=e.tagRefinements||[],this.hierarchicalFacetsRefinements=e.hierarchicalFacetsRefinements||{};var n=this;Object.keys(e).forEach(function(r){var i=Sn.PARAMETERS.indexOf(r)!==-1,s=e[r]!==void 0;!i&&s&&(n[r]=e[r])})}Sn.PARAMETERS=Object.keys(new Sn);Sn._parseNumbers=function(t){if(t instanceof Sn)return t;var e={},n=["aroundPrecision","aroundRadius","getRankingInfo","minWordSizefor2Typos","minWordSizefor1Typo","page","maxValuesPerFacet","distinct","minimumAroundRadius","hitsPerPage","minProximity"];if(n.forEach(function(i){var s=t[i];if(typeof s=="string"){var o=parseFloat(s);e[i]=isNaN(o)?s:o}}),Array.isArray(t.insideBoundingBox)&&(e.insideBoundingBox=t.insideBoundingBox.map(function(i){return Array.isArray(i)?i.map(function(s){return parseFloat(s)}):i})),t.numericRefinements){var r={};Object.keys(t.numericRefinements).forEach(function(i){var s=t.numericRefinements[i]||{};r[i]={},Object.keys(s).forEach(function(o){var a=s[o],u=a.map(function(c){return Array.isArray(c)?c.map(function(l){return typeof l=="string"?parseFloat(l):l}):typeof c=="string"?parseFloat(c):c});r[i][o]=u})}),e.numericRefinements=r}return Lv({},t,e)};Sn.make=function(e){var n=new Sn(e),r=e.hierarchicalFacets||[];return r.forEach(function(i){if(i.rootPath){var s=n.getHierarchicalRefinement(i.name);s.length>0&&s[0].indexOf(i.rootPath)!==0&&(n=n.clearRefinements(i.name)),s=n.getHierarchicalRefinement(i.name),s.length===0&&(n=n.toggleHierarchicalFacetRefinement(i.name,i.rootPath))}}),n};Sn.validate=function(t,e){var n=e||{};return t.tagFilters&&n.tagRefinements&&n.tagRefinements.length>0?new Error("[Tags] Cannot switch from the managed tag API to the advanced API. It is probably an error, if it is really what you want, you should first clear the tags with clearTags method."):t.tagRefinements.length>0&&n.tagFilters?new Error("[Tags] Cannot switch from the advanced tag API to the managed API. It is probably an error, if it is not, you should first clear the tags with clearTags method."):t.numericFilters&&n.numericRefinements&&Mv(n.numericRefinements)?new Error("[Numeric filters] Can't switch from the advanced to the managed API. It is probably an error, if this is really what you want, you have to first clear the numeric filters."):Mv(t.numericRefinements)&&n.numericFilters?new Error("[Numeric filters] Can't switch from the managed API to the advanced. It is probably an error, if this is really what you want, you have to first clear the numeric filters."):null};Sn.prototype={constructor:Sn,clearRefinements:function(e){var n={numericRefinements:this._clearNumericRefinements(e),facetsRefinements:Qe.clearRefinement(this.facetsRefinements,e,"conjunctiveFacet"),facetsExcludes:Qe.clearRefinement(this.facetsExcludes,e,"exclude"),disjunctiveFacetsRefinements:Qe.clearRefinement(this.disjunctiveFacetsRefinements,e,"disjunctiveFacet"),hierarchicalFacetsRefinements:Qe.clearRefinement(this.hierarchicalFacetsRefinements,e,"hierarchicalFacet")};return n.numericRefinements===this.numericRefinements&&n.facetsRefinements===this.facetsRefinements&&n.facetsExcludes===this.facetsExcludes&&n.disjunctiveFacetsRefinements===this.disjunctiveFacetsRefinements&&n.hierarchicalFacetsRefinements===this.hierarchicalFacetsRefinements?this:this.setQueryParameters(n)},clearTags:function(){return this.tagFilters===void 0&&this.tagRefinements.length===0?this:this.setQueryParameters({tagFilters:void 0,tagRefinements:[]})},setIndex:function(e){return e===this.index?this:this.setQueryParameters({index:e})},setQuery:function(e){return e===this.query?this:this.setQueryParameters({query:e})},setPage:function(e){return e===this.page?this:this.setQueryParameters({page:e})},setFacets:function(e){return this.setQueryParameters({facets:e})},setDisjunctiveFacets:function(e){return this.setQueryParameters({disjunctiveFacets:e})},setHitsPerPage:function(e){return this.hitsPerPage===e?this:this.setQueryParameters({hitsPerPage:e})},setTypoTolerance:function(e){return this.typoTolerance===e?this:this.setQueryParameters({typoTolerance:e})},addNumericRefinement:function(t,e,n){var r=Pg(n);if(this.isNumericRefined(t,e,r))return this;var i=Lv({},this.numericRefinements);return i[t]=Lv({},i[t]),i[t][e]?(i[t][e]=i[t][e].slice(),i[t][e].push(r)):i[t][e]=[r],this.setQueryParameters({numericRefinements:i})},getConjunctiveRefinements:function(t){return this.isConjunctiveFacet(t)?this.facetsRefinements[t]||[]:[]},getDisjunctiveRefinements:function(t){return this.isDisjunctiveFacet(t)?this.disjunctiveFacetsRefinements[t]||[]:[]},getHierarchicalRefinement:function(t){return this.hierarchicalFacetsRefinements[t]||[]},getExcludeRefinements:function(t){return this.isConjunctiveFacet(t)?this.facetsExcludes[t]||[]:[]},removeNumericRefinement:function(t,e,n){return n!==void 0?this.isNumericRefined(t,e,n)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements(function(r,i){return i===t&&r.op===e&&n_(r.val,Pg(n))})}):this:e!==void 0?this.isNumericRefined(t,e)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements(function(r,i){return i===t&&r.op===e})}):this:this.isNumericRefined(t)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements(function(r,i){return i===t})}):this},getNumericRefinements:function(t){return this.numericRefinements[t]||{}},getNumericRefinement:function(t,e){return this.numericRefinements[t]&&this.numericRefinements[t][e]},_clearNumericRefinements:function(e){if(e===void 0)return Mv(this.numericRefinements)?{}:this.numericRefinements;if(typeof e=="string")return ob(this.numericRefinements,[e]);if(typeof e=="function"){var n=!1,r=this.numericRefinements,i=Object.keys(r).reduce(function(s,o){var a=r[o],u={};return a=a||{},Object.keys(a).forEach(function(c){var l=a[c]||[],h=[];l.forEach(function(d){var f=e({val:d,op:c},o,"numeric");f||h.push(d)}),h.length!==l.length&&(n=!0),u[c]=h}),s[o]=u,s},{});return n?i:this.numericRefinements}},addFacet:function(e){return this.isConjunctiveFacet(e)?this:this.setQueryParameters({facets:this.facets.concat([e])})},addDisjunctiveFacet:function(e){return this.isDisjunctiveFacet(e)?this:this.setQueryParameters({disjunctiveFacets:this.disjunctiveFacets.concat([e])})},addHierarchicalFacet:function(e){if(this.isHierarchicalFacet(e.name))throw new Error("Cannot declare two hierarchical facets with the same name: `"+e.name+"`");return this.setQueryParameters({hierarchicalFacets:this.hierarchicalFacets.concat([e])})},addFacetRefinement:function(e,n){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return Qe.isRefined(this.facetsRefinements,e,n)?this:this.setQueryParameters({facetsRefinements:Qe.addRefinement(this.facetsRefinements,e,n)})},addExcludeRefinement:function(e,n){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return Qe.isRefined(this.facetsExcludes,e,n)?this:this.setQueryParameters({facetsExcludes:Qe.addRefinement(this.facetsExcludes,e,n)})},addDisjunctiveFacetRefinement:function(e,n){if(!this.isDisjunctiveFacet(e))throw new Error(e+" is not defined in the disjunctiveFacets attribute of the helper configuration");return Qe.isRefined(this.disjunctiveFacetsRefinements,e,n)?this:this.setQueryParameters({disjunctiveFacetsRefinements:Qe.addRefinement(this.disjunctiveFacetsRefinements,e,n)})},addTagRefinement:function(e){if(this.isTagRefined(e))return this;var n={tagRefinements:this.tagRefinements.concat(e)};return this.setQueryParameters(n)},removeFacet:function(e){return this.isConjunctiveFacet(e)?this.clearRefinements(e).setQueryParameters({facets:this.facets.filter(function(n){return n!==e})}):this},removeDisjunctiveFacet:function(e){return this.isDisjunctiveFacet(e)?this.clearRefinements(e).setQueryParameters({disjunctiveFacets:this.disjunctiveFacets.filter(function(n){return n!==e})}):this},removeHierarchicalFacet:function(e){return this.isHierarchicalFacet(e)?this.clearRefinements(e).setQueryParameters({hierarchicalFacets:this.hierarchicalFacets.filter(function(n){return n.name!==e})}):this},removeFacetRefinement:function(e,n){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return Qe.isRefined(this.facetsRefinements,e,n)?this.setQueryParameters({facetsRefinements:Qe.removeRefinement(this.facetsRefinements,e,n)}):this},removeExcludeRefinement:function(e,n){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return Qe.isRefined(this.facetsExcludes,e,n)?this.setQueryParameters({facetsExcludes:Qe.removeRefinement(this.facetsExcludes,e,n)}):this},removeDisjunctiveFacetRefinement:function(e,n){if(!this.isDisjunctiveFacet(e))throw new Error(e+" is not defined in the disjunctiveFacets attribute of the helper configuration");return Qe.isRefined(this.disjunctiveFacetsRefinements,e,n)?this.setQueryParameters({disjunctiveFacetsRefinements:Qe.removeRefinement(this.disjunctiveFacetsRefinements,e,n)}):this},removeTagRefinement:function(e){if(!this.isTagRefined(e))return this;var n={tagRefinements:this.tagRefinements.filter(function(r){return r!==e})};return this.setQueryParameters(n)},toggleRefinement:function(e,n){return this.toggleFacetRefinement(e,n)},toggleFacetRefinement:function(e,n){if(this.isHierarchicalFacet(e))return this.toggleHierarchicalFacetRefinement(e,n);if(this.isConjunctiveFacet(e))return this.toggleConjunctiveFacetRefinement(e,n);if(this.isDisjunctiveFacet(e))return this.toggleDisjunctiveFacetRefinement(e,n);throw new Error("Cannot refine the undeclared facet "+e+"; it should be added to the helper options facets, disjunctiveFacets or hierarchicalFacets")},toggleConjunctiveFacetRefinement:function(e,n){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return this.setQueryParameters({facetsRefinements:Qe.toggleRefinement(this.facetsRefinements,e,n)})},toggleExcludeFacetRefinement:function(e,n){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return this.setQueryParameters({facetsExcludes:Qe.toggleRefinement(this.facetsExcludes,e,n)})},toggleDisjunctiveFacetRefinement:function(e,n){if(!this.isDisjunctiveFacet(e))throw new Error(e+" is not defined in the disjunctiveFacets attribute of the helper configuration");return this.setQueryParameters({disjunctiveFacetsRefinements:Qe.toggleRefinement(this.disjunctiveFacetsRefinements,e,n)})},toggleHierarchicalFacetRefinement:function(e,n){if(!this.isHierarchicalFacet(e))throw new Error(e+" is not defined in the hierarchicalFacets attribute of the helper configuration");var r=this._getHierarchicalFacetSeparator(this.getHierarchicalFacetByName(e)),i={},s=this.hierarchicalFacetsRefinements[e]!==void 0&&this.hierarchicalFacetsRefinements[e].length>0&&(this.hierarchicalFacetsRefinements[e][0]===n||this.hierarchicalFacetsRefinements[e][0].indexOf(n+r)===0);return s?n.indexOf(r)===-1?i[e]=[]:i[e]=[n.slice(0,n.lastIndexOf(r))]:i[e]=[n],this.setQueryParameters({hierarchicalFacetsRefinements:Cg({},i,this.hierarchicalFacetsRefinements)})},addHierarchicalFacetRefinement:function(t,e){if(this.isHierarchicalFacetRefined(t))throw new Error(t+" is already refined.");if(!this.isHierarchicalFacet(t))throw new Error(t+" is not defined in the hierarchicalFacets attribute of the helper configuration.");var n={};return n[t]=[e],this.setQueryParameters({hierarchicalFacetsRefinements:Cg({},n,this.hierarchicalFacetsRefinements)})},removeHierarchicalFacetRefinement:function(t){if(!this.isHierarchicalFacetRefined(t))return this;var e={};return e[t]=[],this.setQueryParameters({hierarchicalFacetsRefinements:Cg({},e,this.hierarchicalFacetsRefinements)})},toggleTagRefinement:function(e){return this.isTagRefined(e)?this.removeTagRefinement(e):this.addTagRefinement(e)},isDisjunctiveFacet:function(t){return this.disjunctiveFacets.indexOf(t)>-1},isHierarchicalFacet:function(t){return this.getHierarchicalFacetByName(t)!==void 0},isConjunctiveFacet:function(t){return this.facets.indexOf(t)>-1},isFacetRefined:function(e,n){return this.isConjunctiveFacet(e)?Qe.isRefined(this.facetsRefinements,e,n):!1},isExcludeRefined:function(e,n){return this.isConjunctiveFacet(e)?Qe.isRefined(this.facetsExcludes,e,n):!1},isDisjunctiveFacetRefined:function(e,n){return this.isDisjunctiveFacet(e)?Qe.isRefined(this.disjunctiveFacetsRefinements,e,n):!1},isHierarchicalFacetRefined:function(e,n){if(!this.isHierarchicalFacet(e))return!1;var r=this.getHierarchicalRefinement(e);return n?r.indexOf(n)!==-1:r.length>0},isNumericRefined:function(e,n,r){if(r===void 0&&n===void 0)return!!this.numericRefinements[e];var i=this.numericRefinements[e]&&this.numericRefinements[e][n]!==void 0;if(r===void 0||!i)return i;var s=Pg(r),o=BK(this.numericRefinements[e][n],s)!==void 0;return i&&o},isTagRefined:function(e){return this.tagRefinements.indexOf(e)!==-1},getRefinedDisjunctiveFacets:function(){var e=this,n=sb(Object.keys(this.numericRefinements).filter(function(r){return Object.keys(e.numericRefinements[r]).length>0}),this.disjunctiveFacets);return Object.keys(this.disjunctiveFacetsRefinements).filter(function(r){return e.disjunctiveFacetsRefinements[r].length>0}).concat(n).concat(this.getRefinedHierarchicalFacets())},getRefinedHierarchicalFacets:function(){var e=this;return sb(this.hierarchicalFacets.map(function(n){return n.name}),Object.keys(this.hierarchicalFacetsRefinements).filter(function(n){return e.hierarchicalFacetsRefinements[n].length>0}))},getUnrefinedDisjunctiveFacets:function(){var t=this.getRefinedDisjunctiveFacets();return this.disjunctiveFacets.filter(function(e){return t.indexOf(e)===-1})},managedParameters:["index","facets","disjunctiveFacets","facetsRefinements","hierarchicalFacets","facetsExcludes","disjunctiveFacetsRefinements","numericRefinements","tagRefinements","hierarchicalFacetsRefinements"],getQueryParams:function(){var e=this.managedParameters,n={},r=this;return Object.keys(this).forEach(function(i){var s=r[i];e.indexOf(i)===-1&&s!==void 0&&(n[i]=s)}),n},setQueryParameter:function(e,n){if(this[e]===n)return this;var r={};return r[e]=n,this.setQueryParameters(r)},setQueryParameters:function(e){if(!e)return this;var n=Sn.validate(this,e);if(n)throw n;var r=this,i=Sn._parseNumbers(e),s=Object.keys(this).reduce(function(a,u){return a[u]=r[u],a},{}),o=Object.keys(i).reduce(function(a,u){var c=a[u]!==void 0,l=i[u]!==void 0;return c&&!l?ob(a,[u]):(l&&(a[u]=i[u]),a)},s);return new this.constructor(o)},resetPage:function(){return this.page===void 0?this:this.setPage(0)},_getHierarchicalFacetSortBy:function(t){return t.sortBy||["isRefined:desc","name:asc"]},_getHierarchicalFacetSeparator:function(t){return t.separator||" > "},_getHierarchicalRootPath:function(t){return t.rootPath||null},_getHierarchicalShowParentLevel:function(t){return typeof t.showParentLevel=="boolean"?t.showParentLevel:!0},getHierarchicalFacetByName:function(t){return AO(this.hierarchicalFacets,function(e){return e.name===t})},getHierarchicalFacetBreadcrumb:function(t){if(!this.isHierarchicalFacet(t))return[];var e=this.getHierarchicalRefinement(t)[0];if(!e)return[];var n=this._getHierarchicalFacetSeparator(this.getHierarchicalFacetByName(t)),r=e.split(n);return r.map(function(i){return i.trim()})},toString:function(){return JSON.stringify(this,null,2)}};var OO=Sn;function qK(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=e!==void 0,s=e===null;if(!s&&t>e||r&&i||!n)return 1;if(!r&&t<e||s&&n||!i)return-1}return 0}function zK(t,e,n){if(!Array.isArray(t))return[];Array.isArray(n)||(n=[]);var r=t.map(function(i,s){return{criteria:e.map(function(o){return i[o]}),index:s,value:i}});return r.sort(function(s,o){for(var a=-1;++a<s.criteria.length;){var u=qK(s.criteria[a],o.criteria[a]);if(u)return a>=n.length?u:n[a]==="desc"?-u:u}return s.index-o.index}),r.map(function(i){return i.value})}var NO=zK,HK=function(e){return Array.isArray(e)?e.filter(Boolean):[]},WK=function(e,n){if(!Array.isArray(e))return-1;for(var r=0;r<e.length;r++)if(n(e[r]))return r;return-1},KK=Im,DO=function(e,n){var r=(n||[]).map(function(i){return i.split(":")});return e.reduce(function(s,o){var a=o.split(":"),u=KK(r,function(c){return c[0]===a[0]});return a.length>1||!u?(s[0].push(a[0]),s[1].push(a[1]),s):(s[0].push(u[0]),s[1].push(u[1]),s)},[[],[]])};function GK(t){return typeof t!="string"?t:String(t).replace(/^-/,"\\-")}function QK(t){return typeof t!="string"?t:t.replace(/^\\-/,"-")}var r_={escapeFacetValue:GK,unescapeFacetValue:QK},YK=nG,XK=NO,JK=Im,ZK=DO,FO=r_,eG=FO.escapeFacetValue,tG=FO.unescapeFacetValue;function nG(t){return function(n,r){var i=t.hierarchicalFacets[r],s=t.hierarchicalFacetsRefinements[i.name]&&t.hierarchicalFacetsRefinements[i.name][0]||"",o=t._getHierarchicalFacetSeparator(i),a=t._getHierarchicalRootPath(i),u=t._getHierarchicalShowParentLevel(i),c=ZK(t._getHierarchicalFacetSortBy(i)),l=n.every(function(f){return f.exhaustive}),h=rG(c,o,a,u,s),d=n;return a&&(d=n.slice(a.split(o).length)),d.reduce(h,{name:t.hierarchicalFacets[r].name,count:null,isRefined:!0,path:null,escapedValue:null,exhaustive:l,data:null})}}function rG(t,e,n,r,i){return function(o,a,u){var c=o;if(u>0){var l=0;for(c=o;l<u;){var h=c&&Array.isArray(c.data)?c.data:[];c=JK(h,function(f){return f.isRefined}),l++}}if(c){var d=Object.keys(a.data).map(function(f){return[f,a.data[f]]}).filter(function(f){var p=f[0];return iG(p,c.path||n,i,e,n,r)});c.data=XK(d.map(function(f){var p=f[0],m=f[1];return sG(m,p,e,tG(i),a.exhaustive)}),t[0],t[1])}return o}}function iG(t,e,n,r,i,s){return i&&(t.indexOf(i)!==0||i===t)?!1:!i&&t.indexOf(r)===-1||i&&t.split(r).length-i.split(r).length===1||t.indexOf(r)===-1&&n.indexOf(r)===-1||n.indexOf(t)===0||t.indexOf(e+r)===0&&(s||t.indexOf(n)===0)}function sG(t,e,n,r,i){var s=e.split(n);return{name:s[s.length-1].trim(),path:e,escapedValue:eG(e),count:t,isRefined:r===e||r.indexOf(e+n)===0,exhaustive:i,data:null}}var oG=Em,Of=Z1,$O=NO,Ag=HK,dr=Im,Qu=WK,aG=DO,LO=r_,ab=LO.escapeFacetValue,uG=LO.unescapeFacetValue,cG=YK;function ub(t){var e={};return t.forEach(function(n,r){e[n]=r}),e}function Og(t,e,n){e&&e[n]&&(t.stats=e[n])}function lG(t,e){return dr(t,function(r){var i=r.attributes||[];return i.indexOf(e)>-1})}function is(t,e,n){var r=e[0];this._rawResults=e;var i=this;Object.keys(r).forEach(function(l){i[l]=r[l]}),Object.keys(n||{}).forEach(function(l){i[l]=n[l]}),this.processingTimeMS=e.reduce(function(l,h){return h.processingTimeMS===void 0?l:l+h.processingTimeMS},0),this.disjunctiveFacets=[],this.hierarchicalFacets=t.hierarchicalFacets.map(function(){return[]}),this.facets=[];var s=t.getRefinedDisjunctiveFacets(),o=ub(t.facets),a=ub(t.disjunctiveFacets),u=1,c=r.facets||{};Object.keys(c).forEach(function(l){var h=c[l],d=lG(t.hierarchicalFacets,l);if(d){var f=d.attributes.indexOf(l),p=Qu(t.hierarchicalFacets,function(g){return g.name===d.name});i.hierarchicalFacets[p][f]={attribute:l,data:h,exhaustive:r.exhaustiveFacetsCount}}else{var m=t.disjunctiveFacets.indexOf(l)!==-1,w=t.facets.indexOf(l)!==-1,y;m&&(y=a[l],i.disjunctiveFacets[y]={name:l,data:h,exhaustive:r.exhaustiveFacetsCount},Og(i.disjunctiveFacets[y],r.facets_stats,l)),w&&(y=o[l],i.facets[y]={name:l,data:h,exhaustive:r.exhaustiveFacetsCount},Og(i.facets[y],r.facets_stats,l))}}),this.hierarchicalFacets=Ag(this.hierarchicalFacets),s.forEach(function(l){var h=e[u],d=h&&h.facets?h.facets:{},f=t.getHierarchicalFacetByName(l);Object.keys(d).forEach(function(p){var m=d[p],w;if(f){w=Qu(t.hierarchicalFacets,function(v){return v.name===f.name});var y=Qu(i.hierarchicalFacets[w],function(v){return v.attribute===p});if(y===-1)return;i.hierarchicalFacets[w][y].data=oG({},i.hierarchicalFacets[w][y].data,m)}else{w=a[p];var g=r.facets&&r.facets[p]||{};i.disjunctiveFacets[w]={name:p,data:Of({},m,g),exhaustive:h.exhaustiveFacetsCount},Og(i.disjunctiveFacets[w],h.facets_stats,p),t.disjunctiveFacetsRefinements[p]&&t.disjunctiveFacetsRefinements[p].forEach(function(v){!i.disjunctiveFacets[w].data[v]&&t.disjunctiveFacetsRefinements[p].indexOf(uG(v))>-1&&(i.disjunctiveFacets[w].data[v]=0)})}}),u++}),t.getRefinedHierarchicalFacets().forEach(function(l){var h=t.getHierarchicalFacetByName(l),d=t._getHierarchicalFacetSeparator(h),f=t.getHierarchicalRefinement(l);f.length===0||f[0].split(d).length<2||e.slice(u).forEach(function(p){var m=p&&p.facets?p.facets:{};Object.keys(m).forEach(function(w){var y=m[w],g=Qu(t.hierarchicalFacets,function(x){return x.name===h.name}),v=Qu(i.hierarchicalFacets[g],function(x){return x.attribute===w});if(v!==-1){var _={};if(f.length>0){var k=f[0].split(d)[0];_[k]=i.hierarchicalFacets[g][v].data[k]}i.hierarchicalFacets[g][v].data=Of(_,y,i.hierarchicalFacets[g][v].data)}}),u++})}),Object.keys(t.facetsExcludes).forEach(function(l){var h=t.facetsExcludes[l],d=o[l];i.facets[d]={name:l,data:r.facets[l],exhaustive:r.exhaustiveFacetsCount},h.forEach(function(f){i.facets[d]=i.facets[d]||{name:l},i.facets[d].data=i.facets[d].data||{},i.facets[d].data[f]=0})}),this.hierarchicalFacets=this.hierarchicalFacets.map(cG(t)),this.facets=Ag(this.facets),this.disjunctiveFacets=Ag(this.disjunctiveFacets),this._state=t}is.prototype.getFacetByName=function(t){function e(n){return n.name===t}return dr(this.facets,e)||dr(this.disjunctiveFacets,e)||dr(this.hierarchicalFacets,e)};function hG(t,e){function n(s){return s.name===e}if(t._state.isConjunctiveFacet(e)){var r=dr(t.facets,n);return r?Object.keys(r.data).map(function(s){var o=ab(s);return{name:s,escapedValue:o,count:r.data[s],isRefined:t._state.isFacetRefined(e,o),isExcluded:t._state.isExcludeRefined(e,s)}}):[]}else if(t._state.isDisjunctiveFacet(e)){var i=dr(t.disjunctiveFacets,n);return i?Object.keys(i.data).map(function(s){var o=ab(s);return{name:s,escapedValue:o,count:i.data[s],isRefined:t._state.isDisjunctiveFacetRefined(e,o)}}):[]}else if(t._state.isHierarchicalFacet(e))return dr(t.hierarchicalFacets,n)}function MO(t,e,n,r){if(r=r||0,Array.isArray(e))return t(e,n[r]);if(!e.data||e.data.length===0)return e;var i=e.data.map(function(a){return MO(t,a,n,r+1)}),s=t(i,n[r]),o=Of({data:s},e);return o}is.DEFAULT_SORT=["isRefined:desc","count:desc","name:asc"];function dG(t,e){return e.sort(t)}function fG(t,e){var n=[],r=[],i=e.order||[],s=i.reduce(function(u,c,l){return u[c]=l,u},{});t.forEach(function(u){var c=u.path||u.name;s[c]!==void 0?n[s[c]]=u:r.push(u)}),n=n.filter(function(u){return u});var o=e.sortRemainingBy,a;return o==="hidden"?n:(o==="alpha"?a=[["path","name"],["asc","asc"]]:a=[["count"],["desc"]],n.concat($O(r,a[0],a[1])))}function pG(t,e){return t.renderingContent&&t.renderingContent.facetOrdering&&t.renderingContent.facetOrdering.values&&t.renderingContent.facetOrdering.values[e]}is.prototype.getFacetValues=function(t,e){var n=hG(this,t);if(n){var r=Of({},e,{sortBy:is.DEFAULT_SORT,facetOrdering:!(e&&e.sortBy)}),i=this,s;if(Array.isArray(n))s=[t];else{var o=i._state.getHierarchicalFacetByName(n.name);s=o.attributes}return MO(function(a,u){if(r.facetOrdering){var c=pG(i,u);if(Boolean(c))return fG(a,c)}if(Array.isArray(r.sortBy)){var l=aG(r.sortBy,is.DEFAULT_SORT);return $O(a,l[0],l[1])}else if(typeof r.sortBy=="function")return dG(r.sortBy,a);throw new Error("options.sortBy is optional but if defined it must be either an array of string (predicates) or a sorting function")},n,s)}};is.prototype.getFacetStats=function(t){if(this._state.isConjunctiveFacet(t))return cb(this.facets,t);if(this._state.isDisjunctiveFacet(t))return cb(this.disjunctiveFacets,t)};function cb(t,e){var n=dr(t,function(r){return r.name===e});return n&&n.stats}is.prototype.getRefinements=function(){var t=this._state,e=this,n=[];return Object.keys(t.facetsRefinements).forEach(function(r){t.facetsRefinements[r].forEach(function(i){n.push(Ng(t,"facet",r,i,e.facets))})}),Object.keys(t.facetsExcludes).forEach(function(r){t.facetsExcludes[r].forEach(function(i){n.push(Ng(t,"exclude",r,i,e.facets))})}),Object.keys(t.disjunctiveFacetsRefinements).forEach(function(r){t.disjunctiveFacetsRefinements[r].forEach(function(i){n.push(Ng(t,"disjunctive",r,i,e.disjunctiveFacets))})}),Object.keys(t.hierarchicalFacetsRefinements).forEach(function(r){t.hierarchicalFacetsRefinements[r].forEach(function(i){n.push(mG(t,r,i,e.hierarchicalFacets))})}),Object.keys(t.numericRefinements).forEach(function(r){var i=t.numericRefinements[r];Object.keys(i).forEach(function(s){i[s].forEach(function(o){n.push({type:"numeric",attributeName:r,name:o,numericValue:o,operator:s})})})}),t.tagRefinements.forEach(function(r){n.push({type:"tag",attributeName:"_tags",name:r})}),n};function Ng(t,e,n,r,i){var s=dr(i,function(u){return u.name===n}),o=s&&s.data&&s.data[r]?s.data[r]:0,a=s&&s.exhaustive||!1;return{type:e,attributeName:n,name:r,count:o,exhaustive:a}}function mG(t,e,n,r){var i=t.getHierarchicalFacetByName(e),s=t._getHierarchicalFacetSeparator(i),o=n.split(s),a=dr(r,function(d){return d.name===e}),u=o.reduce(function(d,f){var p=d&&dr(d.data,function(m){return m.name===f});return p!==void 0?p:d},a),c=u&&u.count||0,l=u&&u.exhaustive||!1,h=u&&u.path||"";return{type:"hierarchical",attributeName:e,name:h,count:c,exhaustive:l}}var UO=is;function Zt(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}var jO=Zt;Zt.prototype._events=void 0;Zt.prototype._maxListeners=void 0;Zt.defaultMaxListeners=10;Zt.prototype.setMaxListeners=function(t){if(!gG(t)||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this};Zt.prototype.emit=function(t){var e,n,r,i,s,o;if(this._events||(this._events={}),t==="error"&&(!this._events.error||xl(this._events.error)&&!this._events.error.length)){if(e=arguments[1],e instanceof Error)throw e;var a=new Error('Uncaught, unspecified "error" event. ('+e+")");throw a.context=e,a}if(n=this._events[t],VO(n))return!1;if(vi(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:i=Array.prototype.slice.call(arguments,1),n.apply(this,i)}else if(xl(n))for(i=Array.prototype.slice.call(arguments,1),o=n.slice(),r=o.length,s=0;s<r;s++)o[s].apply(this,i);return!0};Zt.prototype.addListener=function(t,e){var n;if(!vi(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,vi(e.listener)?e.listener:e),this._events[t]?xl(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,xl(this._events[t])&&!this._events[t].warned&&(VO(this._maxListeners)?n=Zt.defaultMaxListeners:n=this._maxListeners,n&&n>0&&this._events[t].length>n&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),typeof console.trace=="function"&&console.trace())),this};Zt.prototype.on=Zt.prototype.addListener;Zt.prototype.once=function(t,e){if(!vi(e))throw TypeError("listener must be a function");var n=!1;function r(){this.removeListener(t,r),n||(n=!0,e.apply(this,arguments))}return r.listener=e,this.on(t,r),this};Zt.prototype.removeListener=function(t,e){var n,r,i,s;if(!vi(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(n=this._events[t],i=n.length,r=-1,n===e||vi(n.listener)&&n.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(xl(n)){for(s=i;s-- >0;)if(n[s]===e||n[s].listener&&n[s].listener===e){r=s;break}if(r<0)return this;n.length===1?(n.length=0,delete this._events[t]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this};Zt.prototype.removeAllListeners=function(t){var e,n;if(!this._events)return this;if(!this._events.removeListener)return arguments.length===0?this._events={}:this._events[t]&&delete this._events[t],this;if(arguments.length===0){for(e in this._events)e!=="removeListener"&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[t],vi(n))this.removeListener(t,n);else if(n)for(;n.length;)this.removeListener(t,n[n.length-1]);return delete this._events[t],this};Zt.prototype.listeners=function(t){var e;return!this._events||!this._events[t]?e=[]:vi(this._events[t])?e=[this._events[t]]:e=this._events[t].slice(),e};Zt.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(vi(e))return 1;if(e)return e.length}return 0};Zt.listenerCount=function(t,e){return t.listenerCount(e)};function vi(t){return typeof t=="function"}function gG(t){return typeof t=="number"}function xl(t){return typeof t=="object"&&t!==null}function VO(t){return t===void 0}function yG(t,e){t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}var BO=yG,vG=jO,wG=BO;function bm(t,e){this.main=t,this.fn=e,this.lastResults=null}wG(bm,vG);bm.prototype.detach=function(){this.removeAllListeners(),this.main.detachDerivedHelper(this)};bm.prototype.getModifiedState=function(t){return this.fn(t)};var _G=bm,Dg=Em;function Fg(t){return Object.keys(t).sort(function(e,n){return e.localeCompare(n)}).reduce(function(e,n){return e[n]=t[n],e},{})}var Rn={_getQueries:function(e,n){var r=[];return r.push({indexName:e,params:Rn._getHitsSearchParams(n)}),n.getRefinedDisjunctiveFacets().forEach(function(i){r.push({indexName:e,params:Rn._getDisjunctiveFacetSearchParams(n,i)})}),n.getRefinedHierarchicalFacets().forEach(function(i){var s=n.getHierarchicalFacetByName(i),o=n.getHierarchicalRefinement(i),a=n._getHierarchicalFacetSeparator(s);if(o.length>0&&o[0].split(a).length>1){var u=o[0].split(a).slice(0,-1).reduce(function(l,h,d){return l.concat({attribute:s.attributes[d],value:d===0?h:[l[l.length-1].value,h].join(a)})},[]);u.forEach(function(c,l){var h=Rn._getDisjunctiveFacetSearchParams(n,c.attribute,l===0);function d(m){return s.attributes.some(function(w){return w===m.split(":")[0]})}var f=(h.facetFilters||[]).reduce(function(m,w){if(Array.isArray(w)){var y=w.filter(function(g){return!d(g)});y.length>0&&m.push(y)}return typeof w=="string"&&!d(w)&&m.push(w),m},[]),p=u[l-1];l>0?h.facetFilters=f.concat(p.attribute+":"+p.value):h.facetFilters=f.length>0?f:void 0,r.push({indexName:e,params:h})})}}),r},_getHitsSearchParams:function(t){var e=t.facets.concat(t.disjunctiveFacets).concat(Rn._getHitsHierarchicalFacetsAttributes(t)),n=Rn._getFacetFilters(t),r=Rn._getNumericFilters(t),i=Rn._getTagFilters(t),s={facets:e.indexOf("*")>-1?["*"]:e,tagFilters:i};return n.length>0&&(s.facetFilters=n),r.length>0&&(s.numericFilters=r),Fg(Dg({},t.getQueryParams(),s))},_getDisjunctiveFacetSearchParams:function(t,e,n){var r=Rn._getFacetFilters(t,e,n),i=Rn._getNumericFilters(t,e),s=Rn._getTagFilters(t),o={hitsPerPage:0,page:0,analytics:!1,clickAnalytics:!1};s.length>0&&(o.tagFilters=s);var a=t.getHierarchicalFacetByName(e);return a?o.facets=Rn._getDisjunctiveHierarchicalFacetAttribute(t,a,n):o.facets=e,i.length>0&&(o.numericFilters=i),r.length>0&&(o.facetFilters=r),Fg(Dg({},t.getQueryParams(),o))},_getNumericFilters:function(t,e){if(t.numericFilters)return t.numericFilters;var n=[];return Object.keys(t.numericRefinements).forEach(function(r){var i=t.numericRefinements[r]||{};Object.keys(i).forEach(function(s){var o=i[s]||[];e!==r&&o.forEach(function(a){if(Array.isArray(a)){var u=a.map(function(c){return r+s+c});n.push(u)}else n.push(r+s+a)})})}),n},_getTagFilters:function(t){return t.tagFilters?t.tagFilters:t.tagRefinements.join(",")},_getFacetFilters:function(t,e,n){var r=[],i=t.facetsRefinements||{};Object.keys(i).forEach(function(u){var c=i[u]||[];c.forEach(function(l){r.push(u+":"+l)})});var s=t.facetsExcludes||{};Object.keys(s).forEach(function(u){var c=s[u]||[];c.forEach(function(l){r.push(u+":-"+l)})});var o=t.disjunctiveFacetsRefinements||{};Object.keys(o).forEach(function(u){var c=o[u]||[];if(!(u===e||!c||c.length===0)){var l=[];c.forEach(function(h){l.push(u+":"+h)}),r.push(l)}});var a=t.hierarchicalFacetsRefinements||{};return Object.keys(a).forEach(function(u){var c=a[u]||[],l=c[0];if(l!==void 0){var h=t.getHierarchicalFacetByName(u),d=t._getHierarchicalFacetSeparator(h),f=t._getHierarchicalRootPath(h),p,m;if(e===u){if(l.indexOf(d)===-1||!f&&n===!0||f&&f.split(d).length===l.split(d).length)return;f?(m=f.split(d).length-1,l=f):(m=l.split(d).length-2,l=l.slice(0,l.lastIndexOf(d))),p=h.attributes[m]}else m=l.split(d).length-1,p=h.attributes[m];p&&r.push([p+":"+l])}}),r},_getHitsHierarchicalFacetsAttributes:function(t){var e=[];return t.hierarchicalFacets.reduce(function(r,i){var s=t.getHierarchicalRefinement(i.name)[0];if(!s)return r.push(i.attributes[0]),r;var o=t._getHierarchicalFacetSeparator(i),a=s.split(o).length,u=i.attributes.slice(0,a+1);return r.concat(u)},e)},_getDisjunctiveHierarchicalFacetAttribute:function(t,e,n){var r=t._getHierarchicalFacetSeparator(e);if(n===!0){var i=t._getHierarchicalRootPath(e),s=0;return i&&(s=i.split(r).length),[e.attributes[s]]}var o=t.getHierarchicalRefinement(e.name)[0]||"",a=o.split(r).length-1;return e.attributes.slice(0,a+1)},getSearchForFacetQuery:function(t,e,n,r){var i=r.isDisjunctiveFacet(t)?r.clearRefinements(t):r,s={facetQuery:e,facetName:t};return typeof n=="number"&&(s.maxFacetHits=n),Fg(Dg({},Rn._getHitsSearchParams(i),s))}},SG=Rn,qO="3.11.2",i_=OO,Uv=UO,EG=_G,tu=SG,IG=jO,bG=BO,TG=t_,kG=e_,xG=Em,zO=qO,RG=r_.escapeFacetValue;function W(t,e,n){typeof t.addAlgoliaAgent=="function"&&t.addAlgoliaAgent("JS Helper ("+zO+")"),this.setClient(t);var r=n||{};r.index=e,this.state=i_.make(r),this.lastResults=null,this._queryId=0,this._lastQueryIdReceived=-1,this.derivedHelpers=[],this._currentNbQueries=0}bG(W,IG);W.prototype.search=function(){return this._search({onlyWithDerivedHelpers:!1}),this};W.prototype.searchOnlyWithDerivedHelpers=function(){return this._search({onlyWithDerivedHelpers:!0}),this};W.prototype.getQuery=function(){var t=this.state;return tu._getHitsSearchParams(t)};W.prototype.searchOnce=function(t,e){var n=t?this.state.setQueryParameters(t):this.state,r=tu._getQueries(n.index,n),i=this;if(this._currentNbQueries++,this.emit("searchOnce",{state:n}),e){this.client.search(r).then(function(s){i._currentNbQueries--,i._currentNbQueries===0&&i.emit("searchQueueEmpty"),e(null,new Uv(n,s.results),n)}).catch(function(s){i._currentNbQueries--,i._currentNbQueries===0&&i.emit("searchQueueEmpty"),e(s,null,n)});return}return this.client.search(r).then(function(s){return i._currentNbQueries--,i._currentNbQueries===0&&i.emit("searchQueueEmpty"),{content:new Uv(n,s.results),state:n,_originalResponse:s}},function(s){throw i._currentNbQueries--,i._currentNbQueries===0&&i.emit("searchQueueEmpty"),s})};W.prototype.findAnswers=function(t){console.warn("[algoliasearch-helper] answers is no longer supported");var e=this.state,n=this.derivedHelpers[0];if(!n)return Promise.resolve([]);var r=n.getModifiedState(e),i=xG({attributesForPrediction:t.attributesForPrediction,nbHits:t.nbHits},{params:kG(tu._getHitsSearchParams(r),["attributesToSnippet","hitsPerPage","restrictSearchableAttributes","snippetEllipsisText"])}),s="search for answers was called, but this client does not have a function client.initIndex(index).findAnswers";if(typeof this.client.initIndex!="function")throw new Error(s);var o=this.client.initIndex(r.index);if(typeof o.findAnswers!="function")throw new Error(s);return o.findAnswers(r.query,t.queryLanguages,i)};W.prototype.searchForFacetValues=function(t,e,n,r){var i=typeof this.client.searchForFacetValues=="function",s=typeof this.client.initIndex=="function";if(!i&&!s&&typeof this.client.search!="function")throw new Error("search for facet values (searchable) was called, but this client does not have a function client.searchForFacetValues or client.initIndex(index).searchForFacetValues");var o=this.state.setQueryParameters(r||{}),a=o.isDisjunctiveFacet(t),u=tu.getSearchForFacetQuery(t,e,n,o);this._currentNbQueries++;var c=this,l;return i?l=this.client.searchForFacetValues([{indexName:o.index,params:u}]):s?l=this.client.initIndex(o.index).searchForFacetValues(u):(delete u.facetName,l=this.client.search([{type:"facet",facet:t,indexName:o.index,params:u}]).then(function(d){return d.results[0]})),this.emit("searchForFacetValues",{state:o,facet:t,query:e}),l.then(function(d){return c._currentNbQueries--,c._currentNbQueries===0&&c.emit("searchQueueEmpty"),d=Array.isArray(d)?d[0]:d,d.facetHits.forEach(function(f){f.escapedValue=RG(f.value),f.isRefined=a?o.isDisjunctiveFacetRefined(t,f.escapedValue):o.isFacetRefined(t,f.escapedValue)}),d},function(h){throw c._currentNbQueries--,c._currentNbQueries===0&&c.emit("searchQueueEmpty"),h})};W.prototype.setQuery=function(t){return this._change({state:this.state.resetPage().setQuery(t),isPageReset:!0}),this};W.prototype.clearRefinements=function(t){return this._change({state:this.state.resetPage().clearRefinements(t),isPageReset:!0}),this};W.prototype.clearTags=function(){return this._change({state:this.state.resetPage().clearTags(),isPageReset:!0}),this};W.prototype.addDisjunctiveFacetRefinement=function(t,e){return this._change({state:this.state.resetPage().addDisjunctiveFacetRefinement(t,e),isPageReset:!0}),this};W.prototype.addDisjunctiveRefine=function(){return this.addDisjunctiveFacetRefinement.apply(this,arguments)};W.prototype.addHierarchicalFacetRefinement=function(t,e){return this._change({state:this.state.resetPage().addHierarchicalFacetRefinement(t,e),isPageReset:!0}),this};W.prototype.addNumericRefinement=function(t,e,n){return this._change({state:this.state.resetPage().addNumericRefinement(t,e,n),isPageReset:!0}),this};W.prototype.addFacetRefinement=function(t,e){return this._change({state:this.state.resetPage().addFacetRefinement(t,e),isPageReset:!0}),this};W.prototype.addRefine=function(){return this.addFacetRefinement.apply(this,arguments)};W.prototype.addFacetExclusion=function(t,e){return this._change({state:this.state.resetPage().addExcludeRefinement(t,e),isPageReset:!0}),this};W.prototype.addExclude=function(){return this.addFacetExclusion.apply(this,arguments)};W.prototype.addTag=function(t){return this._change({state:this.state.resetPage().addTagRefinement(t),isPageReset:!0}),this};W.prototype.removeNumericRefinement=function(t,e,n){return this._change({state:this.state.resetPage().removeNumericRefinement(t,e,n),isPageReset:!0}),this};W.prototype.removeDisjunctiveFacetRefinement=function(t,e){return this._change({state:this.state.resetPage().removeDisjunctiveFacetRefinement(t,e),isPageReset:!0}),this};W.prototype.removeDisjunctiveRefine=function(){return this.removeDisjunctiveFacetRefinement.apply(this,arguments)};W.prototype.removeHierarchicalFacetRefinement=function(t){return this._change({state:this.state.resetPage().removeHierarchicalFacetRefinement(t),isPageReset:!0}),this};W.prototype.removeFacetRefinement=function(t,e){return this._change({state:this.state.resetPage().removeFacetRefinement(t,e),isPageReset:!0}),this};W.prototype.removeRefine=function(){return this.removeFacetRefinement.apply(this,arguments)};W.prototype.removeFacetExclusion=function(t,e){return this._change({state:this.state.resetPage().removeExcludeRefinement(t,e),isPageReset:!0}),this};W.prototype.removeExclude=function(){return this.removeFacetExclusion.apply(this,arguments)};W.prototype.removeTag=function(t){return this._change({state:this.state.resetPage().removeTagRefinement(t),isPageReset:!0}),this};W.prototype.toggleFacetExclusion=function(t,e){return this._change({state:this.state.resetPage().toggleExcludeFacetRefinement(t,e),isPageReset:!0}),this};W.prototype.toggleExclude=function(){return this.toggleFacetExclusion.apply(this,arguments)};W.prototype.toggleRefinement=function(t,e){return this.toggleFacetRefinement(t,e)};W.prototype.toggleFacetRefinement=function(t,e){return this._change({state:this.state.resetPage().toggleFacetRefinement(t,e),isPageReset:!0}),this};W.prototype.toggleRefine=function(){return this.toggleFacetRefinement.apply(this,arguments)};W.prototype.toggleTag=function(t){return this._change({state:this.state.resetPage().toggleTagRefinement(t),isPageReset:!0}),this};W.prototype.nextPage=function(){var t=this.state.page||0;return this.setPage(t+1)};W.prototype.previousPage=function(){var t=this.state.page||0;return this.setPage(t-1)};function HO(t){if(t<0)throw new Error("Page requested below 0.");return this._change({state:this.state.setPage(t),isPageReset:!1}),this}W.prototype.setCurrentPage=HO;W.prototype.setPage=HO;W.prototype.setIndex=function(t){return this._change({state:this.state.resetPage().setIndex(t),isPageReset:!0}),this};W.prototype.setQueryParameter=function(t,e){return this._change({state:this.state.resetPage().setQueryParameter(t,e),isPageReset:!0}),this};W.prototype.setState=function(t){return this._change({state:i_.make(t),isPageReset:!1}),this};W.prototype.overrideStateWithoutTriggeringChangeEvent=function(t){return this.state=new i_(t),this};W.prototype.hasRefinements=function(t){return TG(this.state.getNumericRefinements(t))?!0:this.state.isConjunctiveFacet(t)?this.state.isFacetRefined(t):this.state.isDisjunctiveFacet(t)?this.state.isDisjunctiveFacetRefined(t):this.state.isHierarchicalFacet(t)?this.state.isHierarchicalFacetRefined(t):!1};W.prototype.isExcluded=function(t,e){return this.state.isExcludeRefined(t,e)};W.prototype.isDisjunctiveRefined=function(t,e){return this.state.isDisjunctiveFacetRefined(t,e)};W.prototype.hasTag=function(t){return this.state.isTagRefined(t)};W.prototype.isTagRefined=function(){return this.hasTagRefinements.apply(this,arguments)};W.prototype.getIndex=function(){return this.state.index};function WO(){return this.state.page}W.prototype.getCurrentPage=WO;W.prototype.getPage=WO;W.prototype.getTags=function(){return this.state.tagRefinements};W.prototype.getRefinements=function(t){var e=[];if(this.state.isConjunctiveFacet(t)){var n=this.state.getConjunctiveRefinements(t);n.forEach(function(o){e.push({value:o,type:"conjunctive"})});var r=this.state.getExcludeRefinements(t);r.forEach(function(o){e.push({value:o,type:"exclude"})})}else if(this.state.isDisjunctiveFacet(t)){var i=this.state.getDisjunctiveRefinements(t);i.forEach(function(o){e.push({value:o,type:"disjunctive"})})}var s=this.state.getNumericRefinements(t);return Object.keys(s).forEach(function(o){var a=s[o];e.push({value:a,operator:o,type:"numeric"})}),e};W.prototype.getNumericRefinement=function(t,e){return this.state.getNumericRefinement(t,e)};W.prototype.getHierarchicalFacetBreadcrumb=function(t){return this.state.getHierarchicalFacetBreadcrumb(t)};W.prototype._search=function(t){var e=this.state,n=[],r=[];t.onlyWithDerivedHelpers||(r=tu._getQueries(e.index,e),n.push({state:e,queriesCount:r.length,helper:this}),this.emit("search",{state:e,results:this.lastResults}));var i=this.derivedHelpers.map(function(a){var u=a.getModifiedState(e),c=tu._getQueries(u.index,u);return n.push({state:u,queriesCount:c.length,helper:a}),a.emit("search",{state:u,results:a.lastResults}),c}),s=Array.prototype.concat.apply(r,i),o=this._queryId++;this._currentNbQueries++;try{this.client.search(s).then(this._dispatchAlgoliaResponse.bind(this,n,o)).catch(this._dispatchAlgoliaError.bind(this,o))}catch(a){this.emit("error",{error:a})}};W.prototype._dispatchAlgoliaResponse=function(t,e,n){if(!(e<this._lastQueryIdReceived)){this._currentNbQueries-=e-this._lastQueryIdReceived,this._lastQueryIdReceived=e,this._currentNbQueries===0&&this.emit("searchQueueEmpty");var r=n.results.slice();t.forEach(function(i){var s=i.state,o=i.queriesCount,a=i.helper,u=r.splice(0,o),c=a.lastResults=new Uv(s,u);a.emit("result",{results:c,state:s})})}};W.prototype._dispatchAlgoliaError=function(t,e){t<this._lastQueryIdReceived||(this._currentNbQueries-=t-this._lastQueryIdReceived,this._lastQueryIdReceived=t,this.emit("error",{error:e}),this._currentNbQueries===0&&this.emit("searchQueueEmpty"))};W.prototype.containsRefinement=function(t,e,n,r){return t||e.length!==0||n.length!==0||r.length!==0};W.prototype._hasDisjunctiveRefinements=function(t){return this.state.disjunctiveRefinements[t]&&this.state.disjunctiveRefinements[t].length>0};W.prototype._change=function(t){var e=t.state,n=t.isPageReset;e!==this.state&&(this.state=e,this.emit("change",{state:this.state,results:this.lastResults,isPageReset:n}))};W.prototype.clearCache=function(){return this.client.clearCache&&this.client.clearCache(),this};W.prototype.setClient=function(t){return this.client===t?this:(typeof t.addAlgoliaAgent=="function"&&t.addAlgoliaAgent("JS Helper ("+zO+")"),this.client=t,this)};W.prototype.getClient=function(){return this.client};W.prototype.derive=function(t){var e=new EG(this,t);return this.derivedHelpers.push(e),e};W.prototype.detachDerivedHelper=function(t){var e=this.derivedHelpers.indexOf(t);if(e===-1)throw new Error("Derived helper already detached");this.derivedHelpers.splice(e,1)};W.prototype.hasPendingRequests=function(){return this._currentNbQueries>0};var CG=W,KO=CG,PG=OO,AG=UO;function fh(t,e,n){return new KO(t,e,n)}fh.version=qO;fh.AlgoliaSearchHelper=KO;fh.SearchParameters=PG;fh.SearchResults=AG;var OG=fh;const Yu=OG;function NG(t){var e=[],n=!1;function r(){n||(n=!0,MW(function(){n=!1,t()}))}return{registerWidget:function(s){return e.push(s),r(),function(){e.splice(e.indexOf(s),1),r()}},update:r,getWidgets:function(){return e}}}function DG(t){var e=t,n=[];return{getState:function(){return e},setState:function(i){e=i,n.forEach(function(s){return s()})},subscribe:function(i){return n.push(i),function(){n.splice(n.indexOf(i),1)}}}}var FG=["resultsFacetValues"],$G=["resultsFacetValues"],LG=["resultsFacetValues"];function Rl(t){return Rl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rl(t)}function $g(t,e){if(t==null)return{};var n=MG(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function MG(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function lb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function le(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lb(Object(n),!0).forEach(function(r){Ni(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lb(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ni(t,e,n){return e=UG(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function UG(t){var e=jG(t,"string");return Rl(e)==="symbol"?e:String(e)}function jG(t,e){if(Rl(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Rl(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hb(t){typeof t.addAlgoliaAgent=="function"&&(t.addAlgoliaAgent("react (".concat(T.version,")")),t.addAlgoliaAgent("react-instantsearch (".concat(oK,")")))}var Kh=function(e){return dh({ais:e.props.contextValue,multiIndexContext:e.props.indexContextValue})},db=function(e,n){return e.props.indexContextValue.targetedIndex===n},Cc=function(e){return Boolean(e.props.indexId)},fb=function(e,n){return e.props.indexId===n},pb=function(e,n){var r=Cc(e),i=Cc(n);return r&&!i?-1:!r&&i?1:0};function VG(t){var e=function(i){return Object.prototype.toString.call(i)==="[object Object]"||Object.prototype.toString.call(i)==="[object Array]"},n=function(i){for(var s=arguments.length,o=new Array(s>1?s-1:0),a=1;a<s;a++)o[a-1]=arguments[a];var u=0;return i.replace(/%s/g,function(){return encodeURIComponent(o[u++])})};return Object.keys(t).map(function(r){return n("%s=%s",r,e(t[r])?JSON.stringify(t[r]):t[r])}).join("&")}function BG(t){var e=t.indexName,n=t.initialState,r=n===void 0?{}:n,i=t.searchClient,s=t.resultsState,o=t.stalledSearchDelay,a=Yu(i,e,le({},sK));hb(i),a.on("search",x).on("result",_({indexId:e})).on("error",k);var u=!1,c=null,l=a.state,h,d=NG(Re);R(i,s);var f=DG({widgets:r,metadata:qG(s),results:Y(s),error:null,searching:!1,isSearchStalled:!0,searchingForFacetValues:!1});function p(){u=!0}function m(q){hb(q),a.setClient(q),v()}function w(){a.clearCache(),v()}function y(q){return d.getWidgets().filter(function(P){return Boolean(P.getMetadata)}).map(function(P){return P.getMetadata(q)})}function g(){var q=d.getWidgets().filter(function(V){return Boolean(V.getSearchParameters)}).filter(function(V){return!Kh(V)&&!Cc(V)}).reduce(function(V,X){return X.getSearchParameters(V)},l),P=d.getWidgets().filter(function(V){return Boolean(V.getSearchParameters)}).filter(function(V){var X=Kh(V)&&db(V,e),fe=Cc(V)&&fb(V,e);return X||fe}).sort(pb).reduce(function(V,X){return X.getSearchParameters(V)},q),j=d.getWidgets().filter(function(V){return Boolean(V.getSearchParameters)}).filter(function(V){var X=Kh(V)&&!db(V,e),fe=Cc(V)&&!fb(V,e);return X||fe}).sort(pb).reduce(function(V,X){var fe=Kh(X)?X.props.indexContextValue.targetedIndex:X.props.indexId,Be=V[fe]||[];return le(le({},V),{},Ni({},fe,Be.concat(X)))},{}),M=Object.keys(j).map(function(V){return{parameters:j[V].reduce(function(X,fe){return fe.getSearchParameters(X)},q),indexId:V}});return{mainParameters:P,derivedParameters:M}}function v(){if(!u){var q=g(a.state),P=q.mainParameters,j=q.derivedParameters;h=j.length+1,a.derivedHelpers.slice().forEach(function(M){M.detach()}),j.forEach(function(M){var V=M.indexId,X=M.parameters,fe=a.derive(function(){return X});fe.on("result",_({indexId:V})).on("error",k)}),a.setState(P),a.search()}}function _(q){var P=q.indexId;return function(j){h--;var M=f.getState(),V=!a.derivedHelpers.length,X=M.results?M.results:{};X=!V&&X.getFacetByName?{}:X,V?X=j.results:X=le(le({},X),{},Ni({},P,j.results));var fe=f.getState(),Be=fe.isSearchStalled;a.hasPendingRequests()||(clearTimeout(c),c=null,Be=!1),fe.resultsFacetValues;var qe=$g(fe,FG);f.setState(le(le({},qe),{},{results:X,isSearchStalled:Be,searching:h>0,error:null}))}}function k(q){var P=q.error,j=f.getState(),M=j.isSearchStalled;a.hasPendingRequests()||(clearTimeout(c),M=!1),j.resultsFacetValues;var V=$g(j,$G);f.setState(le(le({},V),{},{isSearchStalled:M,error:P,searching:!1}))}function x(){c||(c=setTimeout(function(){var q=f.getState();q.resultsFacetValues;var P=$g(q,LG);f.setState(le(le({},P),{},{isSearchStalled:!0}))},o))}function R(q,P){if(P&&!((!q.transporter||q._cacheHydrated)&&(!q._useCache||typeof q.addAlgoliaAgent!="function"))){if(q.transporter&&!q._cacheHydrated){q._cacheHydrated=!0;var j=q.search;q.search=function(M){for(var V=arguments.length,X=new Array(V>1?V-1:0),fe=1;fe<V;fe++)X[fe-1]=arguments[fe];var Be=M.map(function(qe){return le(le({},qe),{},{params:VG(qe.params)})});return q.transporter.responsesCache.get({method:"search",args:[Be].concat(X)},function(){return j.apply(void 0,[M].concat(X))})}}if(Array.isArray(P.results)){U(q,P.results);return}G(q,P)}}function U(q,P){if(q.transporter){q.transporter.responsesCache.set({method:"search",args:[P.reduce(function(M,V){return M.concat(V.rawResults.map(function(X){return{indexName:X.index,params:X.params}}))},[])]},{results:P.reduce(function(M,V){return M.concat(V.rawResults)},[])});return}var j="/1/indexes/*/queries_body_".concat(JSON.stringify({requests:P.reduce(function(M,V){return M.concat(V.rawResults.map(function(X){return{indexName:X.index,params:X.params}}))},[])}));q.cache=le(le({},q.cache),{},Ni({},j,JSON.stringify({results:P.reduce(function(M,V){return M.concat(V.rawResults)},[])})))}function G(q,P){if(q.transporter){q.transporter.responsesCache.set({method:"search",args:[P.rawResults.map(function(M){return{indexName:M.index,params:M.params}})]},{results:P.rawResults});return}var j="/1/indexes/*/queries_body_".concat(JSON.stringify({requests:P.rawResults.map(function(M){return{indexName:M.index,params:M.params}})}));q.cache=le(le({},q.cache),{},Ni({},j,JSON.stringify({results:P.rawResults})))}function Y(q){return q?Array.isArray(q.results)?q.results.reduce(function(P,j){return le(le({},P),{},Ni({},j._internalIndexId,new Yu.SearchResults(new Yu.SearchParameters(j.state),j.rawResults)))},{}):new Yu.SearchResults(new Yu.SearchParameters(q.state),q.rawResults):null}function Re(){var q=y(f.getState().widgets);f.setState(le(le({},f.getState()),{},{metadata:q,searching:!0})),v()}function vt(q){var P=f.getState().widgets;return d.getWidgets().filter(function(j){return Boolean(j.transitionState)}).reduce(function(j,M){return M.transitionState(P,j)},q)}function fn(q){var P=y(q);f.setState(le(le({},f.getState()),{},{widgets:q,metadata:P,searching:!0})),v()}function zn(q){var P=q.facetName,j=q.query,M=q.maxFacetHits,V=M===void 0?10:M,X=Math.max(1,Math.min(V,100));f.setState(le(le({},f.getState()),{},{searchingForFacetValues:!0})),a.searchForFacetValues(P,j,X).then(function(fe){var Be;f.setState(le(le({},f.getState()),{},{error:null,searchingForFacetValues:!1,resultsFacetValues:le(le({},f.getState().resultsFacetValues),{},(Be={},Ni(Be,P,fe.facetHits),Ni(Be,"query",j),Be))}))},function(fe){f.setState(le(le({},f.getState()),{},{searchingForFacetValues:!1,error:fe}))}).catch(function(fe){setTimeout(function(){throw fe})})}function Cs(q){l=l.setIndex(q)}function gr(){return f.getState().metadata.reduce(function(q,P){return typeof P.id<"u"?q.concat(P.id):q},[])}return{store:f,widgetsManager:d,getWidgetsIds:gr,getSearchParameters:g,onSearchForFacetValues:zn,onExternalStateUpdate:fn,transitionState:vt,updateClient:m,updateIndex:Cs,clearCache:w,skipSearch:p}}function qG(t){return t?t.metadata.map(function(e){return le(le({value:function(){return{}}},e),{},{items:e.items&&e.items.map(function(n){return le(le({value:function(){return{}}},n),{},{items:n.items&&n.items.map(function(r){return le({value:function(){return{}}},r)})})})})}):[]}function Pc(t){return Pc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pc(t)}function zG(){return(typeof window>"u"?"undefined":Pc(window))==="object"&&Pc(window.navigator)==="object"&&typeof window.navigator.userAgent=="string"&&window.navigator.userAgent.includes("Algolia Crawler")&&Pc(window.document)==="object"}function HG(t,e){var n=["contextValue","indexContextValue"],r=t.map(function(o){var a=o.props,u=o.constructor,c=u._connectorDesc||{},l=c.defaultProps,h=l===void 0?{}:l,d=c.displayName,f=d===void 0?u.displayName:d;return{displayName:f,$$type:u.$$type,$$widgetType:u.$$widgetType,params:Object.keys(a).filter(function(p){return!n.includes(p)&&h[p]!==a[p]&&a[p]!==void 0})}}),i=e,s=i.transporter&&i.transporter.userAgent?i.transporter.userAgent.value:i._ua;return{ua:s,widgets:r}}function WG(t,e){var n=document.createElement("meta"),r=document.querySelector("head");n.name="algolia:metadata";var i=HG(t,e);n.content=JSON.stringify(i),r.appendChild(n)}function nu(t){return nu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nu(t)}function mb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mb(Object(n),!0).forEach(function(r){Cl(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mb(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function KG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yb(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,GO(r.key),r)}}function GG(t,e,n){return e&&yb(t.prototype,e),n&&yb(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function QG(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jv(t,e)}function jv(t,e){return jv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},jv(t,e)}function YG(t){var e=JG();return function(){var r=Nf(t),i;if(e){var s=Nf(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return XG(this,i)}}function XG(t,e){if(e&&(nu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Di(t)}function Di(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function JG(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Nf(t){return Nf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Nf(t)}function Cl(t,e,n){return e=GO(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function GO(t){var e=ZG(t,"string");return nu(e)==="symbol"?e:String(e)}function ZG(t,e){if(nu(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(nu(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Lg(t){return Boolean(t.searchState)}var s_=function(t){QG(n,t);var e=YG(n);function n(r){var i;KG(this,n),i=e.call(this,r),Cl(Di(i),"cleanupTimerRef",null),Cl(Di(i),"isUnmounting",!1);var s=BG({indexName:i.props.indexName,searchClient:i.props.searchClient,initialState:i.props.searchState||{},resultsState:i.props.resultsState,stalledSearchDelay:i.props.stalledSearchDelay}),o={store:s.store,widgetsManager:s.widgetsManager,mainTargetedIndex:i.props.indexName,onInternalStateUpdate:i.onWidgetsInternalStateUpdate.bind(Di(i)),createHrefForState:i.createHrefForState.bind(Di(i)),onSearchForFacetValues:i.onSearchForFacetValues.bind(Di(i)),onSearchStateChange:i.onSearchStateChange.bind(Di(i)),onSearchParameters:i.onSearchParameters.bind(Di(i))};return i.state={isControlled:Lg(i.props),instantSearchManager:s,contextValue:o},i}return GG(n,[{key:"componentDidUpdate",value:function(i){var s=Lg(i);if(s&&!this.state.isControlled)throw new Error("You can't switch <InstantSearch> from being controlled to uncontrolled");if(!s&&this.state.isControlled)throw new Error("You can't switch <InstantSearch> from being uncontrolled to controlled");this.props.refresh!==i.refresh&&this.props.refresh&&this.state.instantSearchManager.clearCache(),i.indexName!==this.props.indexName&&this.state.instantSearchManager.updateIndex(this.props.indexName),i.searchClient!==this.props.searchClient&&this.state.instantSearchManager.updateClient(this.props.searchClient)}},{key:"componentDidMount",value:function(){this.cleanupTimerRef&&(clearTimeout(this.cleanupTimerRef),this.cleanupTimerRef=null),zG()&&WG(this.state.instantSearchManager.widgetsManager.getWidgets(),this.props.searchClient)}},{key:"componentWillUnmount",value:function(){var i=this;this.cleanupTimerRef=setTimeout(function(){i.isUnmounting=!0,i.state.instantSearchManager.skipSearch()})}},{key:"createHrefForState",value:function(i){return i=this.state.instantSearchManager.transitionState(i),this.state.isControlled&&this.props.createURL?this.props.createURL(i,this.getKnownKeys()):"#"}},{key:"onWidgetsInternalStateUpdate",value:function(i){i=this.state.instantSearchManager.transitionState(i),this.onSearchStateChange(i),this.state.isControlled||this.state.instantSearchManager.onExternalStateUpdate(i)}},{key:"onSearchStateChange",value:function(i){this.props.onSearchStateChange&&!this.isUnmounting&&this.props.onSearchStateChange(i)}},{key:"onSearchParameters",value:function(i,s,o,a,u){if(this.props.onSearchParameters){var c=this.props.searchState?this.props.searchState:{};this.props.onSearchParameters(i,s,o,c)}if(this.props.widgetsCollector){var l=this.props.searchState?this.props.searchState:{};this.props.widgetsCollector({getSearchParameters:i,getMetadata:a,context:s,props:o,searchState:l,displayName:u})}}},{key:"onSearchForFacetValues",value:function(i){this.state.instantSearchManager.onSearchForFacetValues(i)}},{key:"getKnownKeys",value:function(){return this.state.instantSearchManager.getWidgetsIds()}},{key:"render",value:function(){return T.Children.count(this.props.children)===0?null:me.createElement(HW,{value:this.state.contextValue},this.props.children)}}],[{key:"getDerivedStateFromProps",value:function(i,s){var o=Lg(i),a=s.instantSearchManager.store.getState().widgets,u=i.searchState;return o&&!SO(a,u)&&s.instantSearchManager.onExternalStateUpdate(i.searchState),{isControlled:o,contextValue:gb(gb({},s.contextValue),{},{mainTargetedIndex:i.indexName})}}}]),n}(T.Component);Cl(s_,"defaultProps",{stalledSearchDelay:200,refresh:!1});Cl(s_,"propTypes",{indexName:ee.string.isRequired,searchClient:ee.shape({search:ee.func.isRequired,searchForFacetValues:ee.func,addAlgoliaAgent:ee.func,clearCache:ee.func}).isRequired,createURL:ee.func,refresh:ee.bool,searchState:ee.object,onSearchStateChange:ee.func,onSearchParameters:ee.func,widgetsCollector:ee.func,resultsState:ee.oneOfType([ee.object,ee.array]),children:ee.node,stalledSearchDelay:ee.number});const e9=s_,t9=X1({displayName:"AlgoliaHits",$$type:"ais.hits",getProvidedProps:function(e,n,r){var i=vK(r,{ais:e.contextValue,multiIndexContext:e.indexContextValue});if(!i)return{hits:[]};var s=VW(i.hits,i.hitsPerPage,i.page),o=BW(s,i.queryID);return{hits:o}},getSearchParameters:function(e){return e}}),n9=X1({displayName:"AlgoliaPoweredBy",$$type:"ais.poweredBy",getProvidedProps:function(){var e=typeof window>"u"||typeof window.location>"u"?"":window.location.hostname,n="https://www.algolia.com/?utm_source=react-instantsearch&utm_medium=website&"+"utm_content=".concat(e,"&")+"utm_campaign=poweredby";return{url:n}}});function Pl(t){return Pl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pl(t)}function r9(t,e,n){return e=i9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i9(t){var e=s9(t,"string");return Pl(e)==="symbol"?e:String(e)}function s9(t,e){if(Pl(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Pl(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Tm(){return"query"}function Mg(t,e,n){var r=Tm(),i=TK(t,e,n,r,"");return i||""}function vb(t,e,n,r){var i=Tm(),s=r9({},i,n),o=!0;return RO(e,s,r,o)}function o9(t,e,n){return kK(e,n,Tm())}const a9=X1({displayName:"AlgoliaSearchBox",$$type:"ais.searchBox",propTypes:{defaultRefinement:ee.string},getProvidedProps:function(e,n,r){return{currentRefinement:Mg(e,n,{ais:e.contextValue,multiIndexContext:e.indexContextValue}),isSearchStalled:r.isSearchStalled}},refine:function(e,n,r){return vb(e,n,r,{ais:e.contextValue,multiIndexContext:e.indexContextValue})},cleanUp:function(e,n){return o9(e,n,{ais:e.contextValue,multiIndexContext:e.indexContextValue})},getSearchParameters:function(e,n,r){return e.setQuery(Mg(n,r,{ais:n.contextValue,multiIndexContext:n.indexContextValue}))},getMetadata:function(e,n){var r=Tm(),i=Mg(e,n,{ais:e.contextValue,multiIndexContext:e.indexContextValue});return{id:r,index:hh({ais:e.contextValue,multiIndexContext:e.indexContextValue}),items:i===null?[]:[{label:"".concat(r,": ").concat(i),value:function(o){return vb(e,o,"",{ais:e.contextValue,multiIndexContext:e.indexContextValue})},currentRefinement:i}]}}});var Vv={},u9={get exports(){return Vv},set exports(t){Vv=t}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var r=[],i=0;i<arguments.length;i++){var s=arguments[i];if(s){var o=typeof s;if(o==="string"||o==="number")r.push(s);else if(Array.isArray(s)){if(s.length){var a=n.apply(null,s);a&&r.push(a)}}else if(o==="object"){if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]")){r.push(s.toString());continue}for(var u in s)e.call(s,u)&&s[u]&&r.push(u)}}}return r.join(" ")}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(u9);const km=Vv;var o_=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"ais";return function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];var o=i.filter(function(a){return a||a===""}).map(function(a){var u="".concat(n,"-").concat(e);return a?"".concat(u,"-").concat(a):u});return km(o)}};function ru(t){return ru=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ru(t)}function Bv(){return Bv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bv.apply(this,arguments)}function wb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _b(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wb(Object(n),!0).forEach(function(r){Sr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wb(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function c9(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Sb(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,QO(r.key),r)}}function l9(t,e,n){return e&&Sb(t.prototype,e),n&&Sb(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function h9(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qv(t,e)}function qv(t,e){return qv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},qv(t,e)}function d9(t){var e=p9();return function(){var r=Df(t),i;if(e){var s=Df(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return f9(this,i)}}function f9(t,e){if(e&&(ru(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $s(t)}function $s(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p9(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Df(t){return Df=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Df(t)}function Sr(t,e,n){return e=QO(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QO(t){var e=m9(t,"string");return ru(e)==="symbol"?e:String(e)}function m9(t,e){if(ru(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ru(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Yr=o_("SearchBox"),g9=me.createElement("svg",{width:"18",height:"18",viewBox:"0 0 38 38",xmlns:"http://www.w3.org/2000/svg",stroke:"#444",className:Yr("loadingIcon")},me.createElement("g",{fill:"none",fillRule:"evenodd"},me.createElement("g",{transform:"translate(1 1)",strokeWidth:"2"},me.createElement("circle",{strokeOpacity:".5",cx:"18",cy:"18",r:"18"}),me.createElement("path",{d:"M36 18c0-9.94-8.06-18-18-18"},me.createElement("animateTransform",{attributeName:"transform",type:"rotate",from:"0 18 18",to:"360 18 18",dur:"1s",repeatCount:"indefinite"}))))),y9=me.createElement("svg",{className:Yr("resetIcon"),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",width:"10",height:"10"},me.createElement("path",{d:"M8.114 10L.944 2.83 0 1.885 1.886 0l.943.943L10 8.113l7.17-7.17.944-.943L20 1.886l-.943.943-7.17 7.17 7.17 7.17.943.944L18.114 20l-.943-.943-7.17-7.17-7.17 7.17-.944.943L0 18.114l.943-.943L8.113 10z"})),v9=me.createElement("svg",{className:Yr("submitIcon"),xmlns:"http://www.w3.org/2000/svg",width:"10",height:"10",viewBox:"0 0 40 40"},me.createElement("path",{d:"M26.804 29.01c-2.832 2.34-6.465 3.746-10.426 3.746C7.333 32.756 0 25.424 0 16.378 0 7.333 7.333 0 16.378 0c9.046 0 16.378 7.333 16.378 16.378 0 3.96-1.406 7.594-3.746 10.426l10.534 10.534c.607.607.61 1.59-.004 2.202-.61.61-1.597.61-2.202.004L26.804 29.01zm-10.426.627c7.323 0 13.26-5.936 13.26-13.26 0-7.32-5.937-13.257-13.26-13.257C9.056 3.12 3.12 9.056 3.12 16.378c0 7.323 5.936 13.26 13.258 13.26z"})),a_=function(t){h9(n,t);var e=d9(n);function n(r){var i;return c9(this,n),i=e.call(this),Sr($s(i),"getQuery",function(){return i.props.searchAsYouType?i.props.currentRefinement:i.state.query}),Sr($s(i),"onInputMount",function(s){i.input=s,i.props.inputRef&&(typeof i.props.inputRef=="function"?i.props.inputRef(s):i.props.inputRef.current=s)}),Sr($s(i),"onKeyDown",function(s){if(i.props.focusShortcuts){var o=i.props.focusShortcuts.map(function(l){return typeof l=="string"?l.toUpperCase().charCodeAt(0):l}),a=s.target||s.srcElement,u=a.tagName;if(!(a.isContentEditable||u==="INPUT"||u==="SELECT"||u==="TEXTAREA")){var c=s.which||s.keyCode;o.indexOf(c)!==-1&&(i.input.focus(),s.stopPropagation(),s.preventDefault())}}}),Sr($s(i),"onSubmit",function(s){s.preventDefault(),s.stopPropagation(),i.input.blur();var o=i.props,a=o.refine,u=o.searchAsYouType;return u||a(i.getQuery()),!1}),Sr($s(i),"onChange",function(s){var o=i.props,a=o.searchAsYouType,u=o.refine,c=o.onChange,l=s.target.value;a?u(l):i.setState({query:l}),c&&c(s)}),Sr($s(i),"onReset",function(s){var o=i.props,a=o.searchAsYouType,u=o.refine,c=o.onReset;u(""),i.input.focus(),a||i.setState({query:""}),c&&c(s)}),i.state={query:r.searchAsYouType?null:r.currentRefinement},i}return l9(n,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.onKeyDown)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.onKeyDown)}},{key:"componentDidUpdate",value:function(i){!this.props.searchAsYouType&&i.currentRefinement!==this.props.currentRefinement&&this.setState({query:this.props.currentRefinement})}},{key:"render",value:function(){var i=this,s=this.props,o=s.className,a=s.inputId,u=s.translate,c=s.autoFocus,l=s.loadingIndicator,h=s.submit,d=s.reset,f=this.getQuery(),p=Object.keys(this.props).reduce(function(w,y){return["onsubmit","onreset","onchange"].indexOf(y.toLowerCase())===-1&&y.indexOf("on")===0?_b(_b({},w),{},Sr({},y,i.props[y])):w},{}),m=this.props.showLoadingIndicator&&this.props.isSearchStalled;return me.createElement("div",{className:km(Yr(""),o)},me.createElement("form",{ref:this.props.formRef,noValidate:!0,onSubmit:this.props.onSubmit?this.props.onSubmit:this.onSubmit,onReset:this.onReset,className:Yr("form",m&&"form--stalledSearch"),action:"",role:"search"},me.createElement("input",Bv({ref:this.onInputMount,id:a,type:"search",placeholder:u("placeholder"),autoFocus:c,autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:"false",required:!0,maxLength:"512",value:f,onChange:this.onChange},p,{className:Yr("input")})),me.createElement("button",{type:"submit",title:u("submitTitle"),className:Yr("submit")},h),me.createElement("button",{type:"reset",title:u("resetTitle"),className:Yr("reset"),hidden:!f||m},d),this.props.showLoadingIndicator&&me.createElement("span",{hidden:!m,className:Yr("loadingIndicator")},l)))}}]),n}(T.Component);Sr(a_,"propTypes",{currentRefinement:ee.string,className:ee.string,refine:ee.func.isRequired,translate:ee.func.isRequired,loadingIndicator:ee.node,reset:ee.node,submit:ee.node,focusShortcuts:ee.arrayOf(ee.oneOfType([ee.string,ee.number])),autoFocus:ee.bool,searchAsYouType:ee.bool,onSubmit:ee.func,onReset:ee.func,onChange:ee.func,isSearchStalled:ee.bool,showLoadingIndicator:ee.bool,formRef:ee.oneOfType([ee.func,ee.exact({current:ee.object})]),inputRef:ee.oneOfType([ee.func,ee.exact({current:ee.object})]),inputId:ee.string});Sr(a_,"defaultProps",{currentRefinement:"",className:"",focusShortcuts:["s","/"],autoFocus:!1,searchAsYouType:!0,showLoadingIndicator:!1,isSearchStalled:!1,loadingIndicator:g9,reset:y9,submit:v9});const w9=xO({resetTitle:"Clear the search query.",submitTitle:"Submit your search query.",placeholder:"Search here…"})(a_);var Ug=o_("Hits"),_9=function(e){return me.createElement("div",{style:{borderBottom:"1px solid #bbb",paddingBottom:"5px",marginBottom:"5px",wordBreak:"break-all"}},JSON.stringify(e).slice(0,100),"...")},YO=function(e){var n=e.hits,r=e.className,i=r===void 0?"":r,s=e.hitComponent,o=s===void 0?_9:s;return me.createElement("div",{className:km(Ug(""),i)},me.createElement("ul",{className:Ug("list")},n.map(function(a){return me.createElement("li",{className:Ug("item"),key:a.objectID},me.createElement(o,{hit:a}))})))},S9=ee.shape({objectID:ee.oneOfType([ee.string,ee.number]).isRequired});YO.propTypes={hits:ee.arrayOf(S9.isRequired).isRequired,className:ee.string,hitComponent:ee.any};const E9=YO,I9=t9(E9,{$$widgetType:"ais.hits"});function iu(t){return iu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iu(t)}function b9(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Eb(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,XO(r.key),r)}}function T9(t,e,n){return e&&Eb(t.prototype,e),n&&Eb(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function k9(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zv(t,e)}function zv(t,e){return zv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},zv(t,e)}function x9(t){var e=P9();return function(){var r=Ff(t),i;if(e){var s=Ff(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return R9(this,i)}}function R9(t,e){if(e&&(iu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return C9(t)}function C9(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function P9(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ff(t){return Ff=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ff(t)}function A9(t,e,n){return e=XO(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function XO(t){var e=O9(t,"string");return iu(e)==="symbol"?e:String(e)}function O9(t,e){if(iu(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(iu(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _d=o_("PoweredBy"),N9=me.createElement("path",{fill:"#003DFF",d:"M249.5 64.2V1.4c0-.9-.7-1.5-1.6-1.4L236.2 2a1.4 1.4 0 0 0-1.2 1.3V67c0 3 0 21.6 22.4 22.3a1.4 1.4 0 0 0 1.5-1.4v-9.5c0-.7-.6-1.3-1.2-1.4-8.2-.9-8.2-11-8.2-12.7ZM443.5 24.4h-11.8c-.8 0-1.4.6-1.4 1.4v62c0 .8.6 1.4 1.4 1.4h11.8c.8 0 1.4-.6 1.4-1.4v-62c0-.8-.6-1.4-1.4-1.4ZM431.7 16.6h11.8c.8 0 1.4-.6 1.4-1.3v-14c0-.8-.7-1.4-1.6-1.3L431.5 2a1.4 1.4 0 0 0-1.2 1.3v12c0 .8.6 1.4 1.4 1.4Zm-20.5 47.6V1.4c0-.9-.7-1.5-1.5-1.4L397.9 2a1.4 1.4 0 0 0-1.2 1.3V67c0 3 0 21.6 22.4 22.3a1.4 1.4 0 0 0 1.5-1.4v-9.5c0-.7-.5-1.3-1.2-1.4-8.2-.9-8.2-11-8.2-12.7Zm-30.7-31c-2.6-2.8-5.8-5-9.6-6.5a31.7 31.7 0 0 0-12-2.3c-4.5 0-8.5.7-12.2 2.3A27.9 27.9 0 0 0 331 43.5a39.6 39.6 0 0 0 0 26.3c1.5 4 3.6 7.5 6.2 10.3 2.6 2.9 5.8 5 9.5 6.7a38 38 0 0 0 12.2 2.4c2.8 0 8.6-.9 12.3-2.4a27 27 0 0 0 9.5-6.7 35.1 35.1 0 0 0 8.3-23c0-4.9-.8-9.6-2.4-13.6-1.5-4-3.5-7.4-6.1-10.2ZM370 71.5a13.1 13.1 0 0 1-11.2 5.6 13 13 0 0 1-11.2-5.6c-2.7-3.6-4-7.9-4-14.2 0-6.3 1.3-11.5 4-15.1a13 13 0 0 1 11.1-5.5 13 13 0 0 1 11.3 5.5c2.6 3.6 4 8.8 4 15 0 6.4-1.3 10.6-4 14.3Zm-161.6-47H197a32 32 0 0 0-27 15 33.8 33.8 0 0 0 8.9 45.9 18.8 18.8 0 0 0 11.2 3.1H191.2l.6-.2h.2a21 21 0 0 0 16.5-14.6V87c0 .8.6 1.4 1.4 1.4h11.7c.8 0 1.4-.6 1.4-1.4V25.8c0-.8-.6-1.4-1.4-1.4h-13Zm0 48.3a17.8 17.8 0 0 1-10.4 3.5h-.2a12.5 12.5 0 0 1-.7 0A18.4 18.4 0 0 1 180.4 51c2.7-6.8 9-11.6 16.6-11.6h11.5v33.3Zm289-48.3H486a32 32 0 0 0-27 15 33.8 33.8 0 0 0 8.8 45.9 18.8 18.8 0 0 0 11.3 3.1h1.1l.6-.2h.2a21 21 0 0 0 16.5-14.6V87c0 .8.6 1.4 1.4 1.4h11.7c.8 0 1.4-.6 1.4-1.4V25.8c0-.8-.6-1.4-1.4-1.4h-13.1Zm0 48.3a17.8 17.8 0 0 1-10.5 3.5h-.9A18.4 18.4 0 0 1 469.4 51c2.6-6.8 9-11.6 16.6-11.6h11.5v33.3ZM306.3 24.4h-11.5a32 32 0 0 0-27 15 33.7 33.7 0 0 0-5.1 14.6 34.6 34.6 0 0 0 0 7.6c1 8.9 5.4 16.7 11.8 22a19.5 19.5 0 0 0 2.2 1.7 18.8 18.8 0 0 0 21.6-.6c3.8-2.7 6.7-6.7 8-11.1V87.9c0 5-1.3 8.9-4 11.5-2.7 2.6-7.3 3.9-13.6 3.9-2.6 0-6.7-.2-10.9-.6a1.4 1.4 0 0 0-1.4 1l-3 10a1.4 1.4 0 0 0 1.1 1.8c5 .7 10 1 12.8 1 11.4 0 19.8-2.4 25.3-7.4 5-4.6 7.8-11.4 8.2-20.7V25.8c0-.8-.6-1.4-1.3-1.4h-13.2Zm0 15s.2 32.4 0 33.4a17.5 17.5 0 0 1-10 3.4h-.2a13.6 13.6 0 0 1-1.7 0A18.7 18.7 0 0 1 278.3 51c2.6-6.8 9-11.6 16.5-11.6h11.5ZM58.2 0A58.3 58.3 0 1 0 86 109.5c.9-.5 1-1.6.3-2.2l-5.5-4.9a3.8 3.8 0 0 0-4-.6A47 47 0 0 1 11 57.5 47.3 47.3 0 0 1 58.2 11h47.3v84L78.7 71.2a2 2 0 0 0-3 .3 22 22 0 1 1 4.4-15.2 4 4 0 0 0 1.3 2.6l7 6.2c.8.7 2 .3 2.3-.8a33 33 0 0 0-30.4-39 33 33 0 0 0-35 32 33.3 33.3 0 0 0 32.2 33.9 32.8 32.8 0 0 0 20-6.3l35.1 31c1.5 1.4 3.9.3 3.9-1.7V2.2a2.2 2.2 0 0 0-2.2-2.2h-56Z"}),D9=function(){return me.createElement("svg",{viewBox:"0 0 512 117",width:"118",height:"27",className:_d("logo")},N9)},F9=me.createElement(D9,null),JO=function(t){k9(n,t);var e=x9(n);function n(){return b9(this,n),e.apply(this,arguments)}return T9(n,[{key:"render",value:function(){var i=this.props,s=i.url,o=i.translate,a=i.className;return me.createElement("div",{className:km(_d(""),a)},me.createElement("span",{className:_d("text")},o("searchBy"))," ",me.createElement("a",{href:s,target:"_blank",className:_d("link"),"aria-label":"Algolia",rel:"noopener noreferrer"},F9))}}]),n}(T.Component);A9(JO,"propTypes",{url:ee.string.isRequired,translate:ee.func.isRequired,className:ee.string});const $9=xO({searchBy:"Search by"})(JO),L9=n9($9,{$$widgetType:"ais.poweredBy"}),M9=a9(w9,{$$widgetType:"ais.searchBox"}),U9=RW("KHOTDRLCDI","0f2549b4a01e28169511d73a98a41b5c");function j9({hit:t}){return re("article",{children:[re("h3",{children:[" ",t.date.slice(0,25)," "]}),re("h3",{className:"",children:["  ",t.checkIn," "]}),re("h3",{children:[" ",t.start," "]}),re("h3",{children:[" ",t.finish," "]}),re("h3",{children:[" ",t.dropoff," "]}),re("h3",{children:["  ",t.count," "]}),re("h3",{children:["  ",t.clockout," "]}),re("h3",{children:["  ",t.pause," "]})]})}function V9(){function t(){const[a,u]=T.useState(null);return T.useEffect(()=>{Vr.onAuthStateChanged(c=>{c&&u(c.uid)})},[]),a}const e=t();function n(){const[a,u]=T.useState(null);return T.useEffect(()=>{Vr.onAuthStateChanged(c=>{c?Qr.collection("users").doc(c.uid).get().then(l=>{u(l.data().FullName)}):u(null)})},[]),a}const r=n();console.log(r);const[i,s]=T.useState("elliot");return e==="ADoqg64vbwY73WzlgVS3rvhCC0s2"?re(io,{children:[re("div",{className:"link-div",children:[$(sn,{className:"link",to:"/",children:" Home"}),$("button",{className:"link",onClick:()=>s("elliot"),children:" elliot Felayno "}),$("button",{className:"link",onClick:()=>s("miquel"),children:"Miquel Welsh "}),$("button",{className:"link",onClick:()=>s("mitchel"),children:"Mitchel Raafenberg "}),$("button",{className:"link",onClick:()=>s("valerie"),children:"Valerie Renfrum "}),$("button",{className:"link",onClick:()=>s("imanuel"),children:"Regrenso Imanuel "}),$("button",{className:"link",onClick:()=>s("mel"),children:"mellory Overman"})]}),re("div",{children:[" ",re("h3",{className:"logged",children:[" Logged in as ",r," "]})," "]}),$("div",{children:re(e9,{searchClient:U9,indexName:i,children:[re("h3",{className:"title",children:[i," ",$("img",{className:"logo-small",src:Wi,alt:Wi})," "]}),$(M9,{autoFocus:!0,placeholder:"Search...",className:"searchbox"}),$(L9,{className:"poweredby"}),$(I9,{hitComponent:j9,className:"hits"})]})})]}):$(_O,{})}function B9(){return $(A$,{children:re(k$,{children:[$(Ko,{path:"/",element:$(bW,{})}),$(Ko,{path:"/driver",element:$(TW,{})}),$(Ko,{path:"/Error",element:$(Error,{})}),$(Ko,{path:"/login",element:$(kW,{})}),$(Ko,{path:"/filter",element:$(V9,{})})]})})}jg.createRoot(document.getElementById("root")).render($(B9,{}));
